(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"6Joi":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r,o=n("q/0M"),s=n("mrSG"),a=n("zVF4"),l=n("x7I3"),u=i.SDK_VERSION,c=new o.Logger("@firebase/firestore"),h=function(t){return t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT",t}({});function d(){return c.logLevel===o.LogLevel.DEBUG?h.DEBUG:c.logLevel===o.LogLevel.SILENT?h.SILENT:h.ERROR}function p(t){switch(t){case h.DEBUG:c.logLevel=o.LogLevel.DEBUG;break;case h.ERROR:c.logLevel=o.LogLevel.ERROR;break;case h.SILENT:c.logLevel=o.LogLevel.SILENT;break;default:c.error("Firestore ("+u+"): Invalid value passed to `setLogLevel`")}}function f(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(c.logLevel<=o.LogLevel.DEBUG){var i=n.map(m);c.debug.apply(c,["Firestore ("+u+") ["+t+"]: "+e].concat(i))}}function g(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(c.logLevel<=o.LogLevel.ERROR){var r=e.map(m);c.error.apply(c,["Firestore ("+u+"): "+t].concat(r))}}function m(t){if("string"==typeof t)return t;var e=b.getPlatform();try{return e.formatJSON(t)}catch(n){return t}}function y(t){var e="FIRESTORE ("+u+") INTERNAL ASSERTION FAILED: "+t;throw g(e),new Error(e)}function v(t,e){t||y(e)}var b=function(){function t(){}return t.setPlatform=function(e){t.platform&&y("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||y("Platform not set"),t.platform},t}();function _(){return b.getPlatform().emptyByteString}var w={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},C=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return s.__extends(e,t),e}(Error);function S(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new C(w.INVALID_ARGUMENT,t)}for(var r in n.prototype=t.prototype,t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function T(t,e){return void 0!==t?t:e}function I(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function k(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function x(t){for(var e in v(null!=t&&"object"==typeof t,"isEmpty() expects object parameter."),t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function O(t,e){if(0!==e.length)throw new C(w.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+K(e.length,"argument")+".")}function A(t,e,n){if(e.length!==n)throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires "+K(n,"argument")+", but was called with "+K(e.length,"argument")+".")}function P(t,e,n){if(e.length<n)throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires at least "+K(n,"argument")+", but was called with "+K(e.length,"argument")+".")}function N(t,e,n,r){if(e.length<n||e.length>r)throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+K(e.length,"argument")+".")}function D(t,e,n,r){j(t,e,H(n)+" argument",r)}function R(t,e,n,r){void 0!==r&&D(t,e,n,r)}function M(t,e,n,r){j(t,e,n+" option",r)}function L(t,e,n,r){void 0!==r&&M(t,e,n,r)}function V(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var l=a[s];if(l===r)return;o.push(B(l))}var u=B(r);throw new C(w.INVALID_ARGUMENT,"Invalid value "+u+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function F(t,e,n,r){if(!e.some(function(t){return t===r}))throw new C(w.INVALID_ARGUMENT,"Invalid value "+B(r)+" provided to function "+t+"() for its "+H(n)+" argument. Acceptable values: "+e.join(", "))}function j(t,e,n,r){if(!("object"===e?U(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=B(r);throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function U(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function B(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":y("Unknown wrong type: "+typeof t)}function q(t,e,n){if(void 0===n)throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+H(e)+" argument, but it was undefined.")}function z(t,e,n){k(e,function(e,r){if(n.indexOf(e)<0)throw new C(w.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function W(t,e,n,r){var i=B(r);return new C(w.INVALID_ARGUMENT,"Function "+t+"() requires its "+H(n)+" argument to be a "+e+", but it was: "+i)}function H(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function K(t,e){return t+" "+e+(1===t?"":"s")}var G=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return v(20===e.length,"Invalid auto ID: "+e),e},t}();function Q(t,e){return t<e?-1:t>e?1:0}function $(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function Y(t){return t+"\0"}function J(){if("undefined"==typeof Uint8Array)throw new C(w.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function X(){if(!b.getPlatform().base64Available)throw new C(w.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var Z=function(){function t(t){X(),this._binaryString=t}return t.fromBase64String=function(e){A("Blob.fromBase64String",arguments,1),D("Blob.fromBase64String","string",1,e),X();try{var n=b.getPlatform().atob(e);return new t(n)}catch(r){throw new C(w.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+r)}},t.fromUint8Array=function(e){if(A("Blob.fromUint8Array",arguments,1),J(),!(e instanceof Uint8Array))throw W("Blob.fromUint8Array","Uint8Array",1,e);var n=Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join("");return new t(n)},t.prototype.toBase64=function(){return A("Blob.toBase64",arguments,0),X(),b.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){A("Blob.toUint8Array",arguments,0),J();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return Q(this._binaryString,t._binaryString)},t}(),tt=S(Z,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),et=function(){return function(t,e,n,r,i){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i}}(),nt="(default)",rt=function(){function t(t,e){this.projectId=t,this.database=e||nt}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===nt},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return Q(this.projectId,t.projectId)||Q(this.database,t.database)},t}(),it=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.setPreviousValue(t)},this.writeNewSequenceNumber=function(t){return e.writeSequenceNumber(t)})}return t.prototype.setPreviousValue=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t},t.INVALID=-1,t}(),ot=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&y("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&y("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return v(this.length>=(t=void 0===t?1:t),"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return v(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return v(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return v(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),st=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new C(w.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(ot),at=/^[_a-zA-Z][_a-zA-Z0-9]*$/,lt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return at.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new C(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new C(w.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var l=t[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new C(w.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new C(w.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(ot),ut=function(){function t(e){this.path=e,v(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===st.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return st.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new st(e.slice()))},t.fromPathString=function(e){return new t(st.fromString(e))},t.EMPTY=new t(new st([])),t}(),ct=function(){return function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}}(),ht=function(t){return t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout",t.ClientMetadataRefresh="client_metadata_refresh",t.LruGarbageCollection="lru_garbage_collection",t.RetryTransaction="retry_transaction",t}({}),dt=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ct,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new C(w.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),pt=function(){function t(){this.tail=Promise.resolve(),this._isShuttingDown=!1,this.delayedOperations=[],this.failure=null,this.operationInProgress=!1,this.timerIdsToSkip=[]}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._isShuttingDown},enumerable:!0,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenAfterShutdown=function(t){this.verifyNotFailed(),this.enqueueInternal(t)},t.prototype.enqueueEvenAfterShutdown=function(t){return this.verifyNotFailed(),this.enqueueInternal(t)},t.prototype.enqueueAndInitiateShutdown=function(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){switch(e.label){case 0:return this.verifyNotFailed(),this._isShuttingDown?[3,2]:(this._isShuttingDown=!0,[4,this.enqueueEvenAfterShutdown(t)]);case 1:e.sent(),e.label=2;case 2:return[2]}})})},t.prototype.enqueue=function(t){return this.verifyNotFailed(),this._isShuttingDown?new Promise(function(t){}):this.enqueueInternal(t)},t.prototype.enqueueInternal=function(t){var e=this,n=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw g("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return e.operationInProgress=!1,t})});return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),v(e>=0,"Attempted to schedule an operation with a negative delay of "+e),this.timerIdsToSkip.indexOf(t)>-1&&(e=0);var i=dt.createAndSchedule(this,t,e,n,function(t){return r.removeDelayedOperation(t)});return this.delayedOperations.push(i),i},t.prototype.verifyNotFailed=function(){this.failure&&y("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){v(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueueEvenAfterShutdown(function(){return Promise.resolve()})},t.prototype.containsDelayedOperation=function(t){for(var e=0,n=this.delayedOperations;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then(function(){v(t===ht.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),t!==ht.All&&i.timerId===t)break}return e.drain()})},t.prototype.skipDelaysForTimerId=function(t){this.timerIdsToSkip.push(t)},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);v(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),ft="\x01",gt="\x01",mt="\x10",yt="\x11";function vt(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=_t(e)),e=bt(t.get(n),e);return _t(e)}function bt(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+=ft+mt;break;case ft:n+=ft+yt;break;default:n+=o}}return n}function _t(t){return t+ft+gt}function wt(t){var e=t.length;if(v(e>=2,"Invalid path "+t),2===e)return v(t.charAt(0)===ft&&t.charAt(1)===gt,"Non-empty path "+t+" had length 2"),st.EMPTY_PATH;for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf(ft,o);switch((s<0||s>n)&&y('Invalid encoded resource path: "'+t+'"'),t.charAt(s+1)){case gt:var a=t.substring(o,s),l=void 0;0===i.length?l=a:(l=i+=a,i=""),r.push(l);break;case mt:i+=t.substring(o,s),i+="\0";break;case yt:i+=t.substring(o,s+1);break;default:y('Invalid encoded resource path: "'+t+'"')}o=s+2}return new st(r)}var Ct=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new C(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new C(w.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new C(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new C(w.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Q(this.nanoseconds,t.nanoseconds):Q(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),St=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new Ct(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new Ct(0,0)),t}(),Et=function(){function t(t,e){this.comparator=t,this.root=e||It.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,It.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,It.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Tt(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Tt(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Tt(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Tt(this.root,t,this.comparator,!0)},t}(),Tt=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){v(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),It=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw y("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw y("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw y("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}(),kt=function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw y("LLRBEmptyNode has no key.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw y("LLRBEmptyNode has no value.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw y("LLRBEmptyNode has no color.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw y("LLRBEmptyNode has no left child.")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw y("LLRBEmptyNode has no right child.")},enumerable:!0,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new It(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();It.EMPTY=new kt;var xt=function(){function t(t){this.comparator=t,this.data=new Et(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Ot(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Ot(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Ot=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),At=new Et(ut.comparator);function Pt(){return At}function Nt(){return Pt()}var Dt=new Et(ut.comparator);function Rt(){return Dt}var Mt=new Et(ut.comparator);function Lt(){return Mt}var Vt=new xt(ut.comparator);function Ft(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Vt,r=0,i=t;r<i.length;r++)n=n.add(i[r]);return n}var jt=new xt(Q);function Ut(){return jt}var Bt=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r,v(r.length>0,"Cannot create an empty mutation batch")}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&v(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;v(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=o.applyToRemoteDocument(e,r[i]))}return e},t.prototype.applyToLocalView=function(t,e){e&&v(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t)&&(e=a.applyToLocalView(e,e,this.localWriteTime));for(var i=e,o=0,s=this.mutations;o<s.length;o++){var a;(a=s[o]).key.isEqual(t)&&(e=a.applyToLocalView(e,i,this.localWriteTime))}return e},t.prototype.applyToLocalDocumentSet=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.applyToLocalView(r.key,t.get(r.key));i&&(n=n.insert(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},Ft())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&$(this.mutations,t.mutations)&&$(this.baseMutations,t.baseMutations)},t}(),qt=function(){function t(t,e,n,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return t.from=function(e,n,r,i){v(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var o=Lt(),s=e.mutations,a=0;a<s.length;a++)o=o.insert(s[a].key,r[a].version);return new t(e,n,r,i,o)},t}(),zt=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&y("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(r){return t.reject(r)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Wt=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.indexManager=n,this.referenceDelegate=r,this.documentKeysByBatchId={}}return t.forUser=function(e,n,r,i){return v(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Qt(t).iterate({index:ln.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.acknowledgeBatch=function(t,e,n){return this.getMutationQueueMetadata(t).next(function(e){return e.lastStreamToken=Gt(n),Yt(t).put(e)})},t.prototype.getLastStreamToken=function(t){return this.getMutationQueueMetadata(t).next(function(t){return t.lastStreamToken})},t.prototype.setLastStreamToken=function(t,e){return this.getMutationQueueMetadata(t).next(function(n){return n.lastStreamToken=Gt(e),Yt(t).put(n)})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=$t(t),s=Qt(t);return s.add({}).next(function(a){v("number"==typeof a,"Auto-generated key is not a number");var l=new Bt(a,e,n,r),u=i.serializer.toDbMutationBatch(i.userId,l);i.documentKeysByBatchId[a]=l.keys();for(var c=[],h=0,d=r;h<d.length;h++){var p=d[h],f=un.key(i.userId,p.key.path,a);c.push(s.put(u)),c.push(o.put(f,un.PLACEHOLDER)),c.push(i.indexManager.addToCollectionParentIndex(t,p.key.path.popLast()))}return zt.waitFor(c).next(function(){return l})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return Qt(t).get(e).next(function(t){return t?(v(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.fromDbMutationBatch(t)):null})},t.prototype.lookupMutationKeys=function(t,e){var n=this;return this.documentKeysByBatchId[e]?zt.resolve(this.documentKeysByBatchId[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.documentKeysByBatchId[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Qt(t).iterate({index:ln.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(v(e.batchId>=r,"Should have found mutation after "+r),o=n.serializer.fromDbMutationBatch(e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Qt(t).iterate({index:ln.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Qt(t).loadAll(ln.userMutationsIndex,n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=un.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return $t(t).iterate({range:i},function(r,i,s){var a=r[0],l=r[2],u=wt(r[1]);if(a===n.userId&&e.path.isEqual(u))return Qt(t).get(l).next(function(t){if(!t)throw y("Dangling document-mutation reference found: "+r+" which points to "+l);v(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+l),o.push(n.serializer.fromDbMutationBatch(t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new xt(Q),i=[];return e.forEach(function(e){var o=un.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=$t(t).iterate({range:s},function(t,i,o){var s=t[0],a=t[2],l=wt(t[1]);s===n.userId&&e.path.isEqual(l)?r=r.add(a):o.done()});i.push(a)}),zt.waitFor(i).next(function(){return n.lookupMutationBatches(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;v(!e.isDocumentQuery(),"Document queries shouldn't go down this path"),v(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=e.path,i=r.length+1,o=un.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new xt(Q);return $t(t).iterate({range:s},function(t,e,o){var s=t[0],l=t[2],u=wt(t[1]);s===n.userId&&r.isPrefixOf(u)?u.length===i&&(a=a.add(l)):o.done()}).next(function(){return n.lookupMutationBatches(t,a)})},t.prototype.lookupMutationBatches=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(Qt(t).get(e).next(function(t){if(null===t)throw y("Dangling document-mutation reference found, which points to "+e);v(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.fromDbMutationBatch(t))}))}),zt.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Kt(t.simpleDbTransaction,this.userId,e).next(function(r){return n.removeCachedMutationKeys(e.batchId),zt.forEach(r,function(e){return n.referenceDelegate.removeMutationReference(t,e)})})},t.prototype.removeCachedMutationKeys=function(t){delete this.documentKeysByBatchId[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return zt.resolve();var r=IDBKeyRange.lowerBound(un.prefixForUser(e.userId)),i=[];return $t(t).iterate({range:r},function(t,n,r){if(t[0]===e.userId){var o=wt(t[1]);i.push(o)}else r.done()}).next(function(){v(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(t){return t.canonicalString()}))})})},t.prototype.containsKey=function(t,e){return Ht(t,this.userId,e)},t.prototype.getMutationQueueMetadata=function(t){var e=this;return Yt(t).get(this.userId).next(function(t){return t||new an(e.userId,-1,"")})},t}();function Ht(t,e,n){var r=un.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return $t(t).iterate({range:o,keysOnly:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function Kt(t,e,n){var r=t.store(ln.store),i=t.store(un.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,l=r.iterate({range:s},function(t,e,n){return a++,n.delete()});o.push(l.next(function(){v(1===a,"Dangling document-mutation reference found: Missing batch "+n.batchId)}));for(var u=[],c=0,h=n.mutations;c<h.length;c++){var d=h[c],p=un.key(e,d.key.path,n.batchId);o.push(i.delete(p)),u.push(d.key)}return zt.waitFor(o).next(function(){return u})}function Gt(t){return t instanceof Uint8Array?(v("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),t.toString()):t}function Qt(t){return Vn.getStore(t,ln.store)}function $t(t){return Vn.getStore(t,un.store)}function Yt(t){return Vn.getStore(t,an.store)}var Jt=1,Xt=function(t){return t[t.QueryCache=0]="QueryCache",t[t.SyncEngine=1]="SyncEngine",t}({}),Zt=function(){function t(t,e){this.generatorId=t,v((t&Jt)===t,"Generator ID "+t+" contains more than "+Jt+" reserved bits"),this.seek(void 0!==e?e:this.generatorId)}return t.prototype.next=function(){var t=this.nextId;return this.nextId+=1<<Jt,t},t.prototype.after=function(t){return this.seek(t+(1<<Jt)),this.next()},t.prototype.seek=function(t){v((t&Jt)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=t},t.forQueryCache=function(){return new t(Xt.QueryCache,2)},t.forSyncEngine=function(){return new t(Xt.SyncEngine)},t}(),te="SimpleDb",ee=function(){function t(e){this.db=e,12.2===t.getIOSVersion(a.getUA())&&g("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.openOrCreate=function(e,n,r){return v(t.isAvailable(),"IndexedDB not supported in current environment."),f(te,"Opening database:",e),new zt(function(i,o){var s=window.indexedDB.open(e,n);s.onsuccess=function(e){i(new t(e.target.result))},s.onblocked=function(){o(new C(w.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(t){var e=t.target.error;o("VersionError"===e.name?new C(w.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):e)},s.onupgradeneeded=function(t){f(te,'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result,i=new re(s.transaction);r.createOrUpgrade(n,i,t.oldVersion,nn).next(function(){f(te,"Database upgrade to version "+nn+" complete")})}}).toPromise()},t.delete=function(t){return f(te,"Removing database:",t),oe(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===process.env.USE_MOCK_PERSISTENCE;var e=a.getUA(),n=t.getIOSVersion(e),r=0<n&&n<10,i=t.getAndroidVersion(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.getStore=function(t,e){return t.store(e)},t.getIOSVersion=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.getAndroidVersion=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.setVersionChangeListener=function(t){this.db.onversionchange=function(e){return t(e)}},t.prototype.runTransaction=function(t,e,n){var r=re.open(this.db,t,e),i=n(r).catch(function(t){return r.abort(t),zt.reject(t)}).toPromise();return i.catch(function(){}),r.completionPromise.then(function(){return i})},t.prototype.close=function(){this.db.close()},t}(),ne=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return oe(this.dbCursor.delete())},t}(),re=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new ct,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){var n=ae(t.target.error);e.completionDeferred.reject(n)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(f(te,"Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return v(!!e,"Object store not part of transaction: "+t),new ie(e)},t}(),ie=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(f(te,"PUT",this.store.name,t,e),n=this.store.put(e,t)):(f(te,"PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),oe(n)},t.prototype.add=function(t){return f(te,"ADD",this.store.name,t,t),oe(this.store.add(t))},t.prototype.get=function(t){var e=this;return oe(this.store.get(t)).next(function(n){return void 0===n&&(n=null),f(te,"GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return f(te,"DELETE",this.store.name,t),oe(this.store.delete(t))},t.prototype.count=function(){return f(te,"COUNT",this.store.name),oe(this.store.count())},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.deleteAll=function(t,e){f(te,"DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateSerial=function(t){var e=this.cursor({});return new zt(function(n,r){e.onerror=function(t){var e=ae(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.iterateCursor=function(t,e){var n=[];return new zt(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new ne(i),s=e(i.primaryKey,i.value,o);if(s instanceof zt){var a=s.catch(function(t){return o.done(),zt.reject(t)});n.push(a)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}}).next(function(){return zt.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:(v(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function oe(t){return new zt(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=ae(t.target.error);n(e)}})}var se=!1;function ae(t){var e=ee.getIOSVersion(a.getUA());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new C("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return se||(se=!0,setTimeout(function(){throw r},0)),r}}return t}var le=function(){function t(t,e){this.referenceDelegate=t,this.serializer=e,this.targetIdGenerator=Zt.forQueryCache()}return t.prototype.allocateTargetId=function(t){var e=this;return this.retrieveMetadata(t).next(function(n){return n.highestTargetId=e.targetIdGenerator.after(n.highestTargetId),e.saveMetadata(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.retrieveMetadata(t).next(function(t){return St.fromTimestamp(new Ct(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return he(t.simpleDbTransaction)},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.retrieveMetadata(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.saveMetadata(t,i)})},t.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.retrieveMetadata(t).next(function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(e,r),n.saveMetadata(t,r)})})},t.prototype.updateQueryData=function(t,e){return this.saveQueryData(t,e)},t.prototype.removeQueryData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return ue(t).delete(e.targetId)}).next(function(){return n.retrieveMetadata(t)}).next(function(e){return v(e.targetCount>0,"Removing from an empty query cache"),e.targetCount-=1,n.saveMetadata(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return ue(t).iterate(function(s,a){var l=r.serializer.fromDbTarget(a);l.sequenceNumber<=e&&void 0===n[l.targetId]&&(i++,o.push(r.removeQueryData(t,l)))}).next(function(){return zt.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){var n=this;return ue(t).iterate(function(t,r){var i=n.serializer.fromDbTarget(r);e(i)})},t.prototype.retrieveMetadata=function(t){return ce(t.simpleDbTransaction)},t.prototype.saveMetadata=function(t,e){return(n=t,Vn.getStore(n,mn.store)).put(mn.key,e);var n},t.prototype.saveQueryData=function(t,e){return ue(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromQueryData=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getQueryCount=function(t){return this.retrieveMetadata(t).next(function(t){return t.targetCount})},t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return ue(t).iterate({range:i,index:fn.queryTargetsIndexName},function(t,r,i){var s=n.serializer.fromDbTarget(r);e.isEqual(s.query)&&(o=s,i.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=de(t);return e.forEach(function(e){var s=vt(e.path);i.push(o.put(new gn(n,s))),i.push(r.referenceDelegate.addReference(t,e))}),zt.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=de(t);return zt.forEach(e,function(e){var o=vt(e.path);return zt.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=de(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=de(t),i=Ft();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=wt(t[1]),o=new ut(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=vt(e.path),r=IDBKeyRange.bound([n],[Y(n)],!1,!0),i=0;return de(t).iterate({index:gn.documentTargetsIndex,keysOnly:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.getQueryDataForTarget=function(t,e){var n=this;return ue(t).get(e).next(function(t){return t?n.serializer.fromDbTarget(t):null})},t}();function ue(t){return Vn.getStore(t,fn.store)}function ce(t){return ee.getStore(t,mn.store).get(mn.key).next(function(t){return v(null!==t,"Missing metadata row."),t})}function he(t){return ce(t).next(function(t){return t.highestListenSequenceNumber})}function de(t){return Vn.getStore(t,gn.store)}var pe=function(){function t(t){this.fields=t}return t.fromSet=function(e){return new t(e)},t.fromArray=function(e){var n=new xt(lt.comparator);return e.forEach(function(t){return n=n.add(t)}),new t(n)},t.prototype.covers=function(t){var e=!1;return this.fields.forEach(function(n){n.isPrefixOf(t)&&(e=!0)}),e},t.prototype.isEqual=function(t){return this.fields.isEqual(t.fields)},t}(),fe=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),ge=function(){return function(t,e){this.version=t,this.transformResults=e}}(),me=function(t){return t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete",t}({}),ye=function(){function t(t,e){this.updateTime=t,this.exists=e,v(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof qe&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof qe:(v(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return n=t.updateTime,(null!=(e=this.updateTime)?!(!n||!e.isEqual(n)):e===n)&&this.exists===t.exists;var e,n},t.NONE=new t,t}(),ve=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&v(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof qe?t.version:St.MIN},t}(),be=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.precondition=r,i.type=me.Set,i}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),v(null==e.transformResults,"Transform results received by SetMutation."),new qe(this.key,e.version,{hasCommittedMutations:!0},this.value)},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=ve.getPostMutationVersion(t);return new qe(this.key,r,{hasLocalMutations:!0},this.value)},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(ve),_e=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.type=me.Patch,o}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),v(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return new We(this.key,e.version);var n=this.patchDocument(t);return new qe(this.key,e.version,{hasCommittedMutations:!0},n)},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=ve.getPostMutationVersion(t),i=this.patchDocument(t);return new qe(this.key,r,{hasLocalMutations:!0},i)},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){var e;return e=t instanceof qe?t.data():je.EMPTY,this.patchObject(e)},e.prototype.patchObject=function(t){var e=this;return this.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t=null!==r?t.set(n,r):t.delete(n)}}),t},e}(ve),we=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=me.Transform,r.precondition=ye.exists(!0),r}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),v(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return new We(this.key,e.version);var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),i=e.version,o=this.transformObject(n.data(),r);return new qe(this.key,i,{hasCommittedMutations:!0},o)},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.localTransformResults(n,t,e),o=this.transformObject(r.data(),i);return new qe(this.key,r.version,{hasLocalMutations:!0},o)},e.prototype.extractBaseValue=function(t){for(var e=null,n=0,r=this.fieldTransforms;n<r.length;n++){var i=r[n],o=t instanceof qe?t.field(i.field):void 0,s=i.transform.computeBaseValue(o||null);null!=s&&(e=null==e?je.EMPTY.set(i.field,s):e.set(i.field,s))}return e},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&$(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){v(t instanceof qe,"Unknown MaybeDocument type "+t);var e=t;return v(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.serverTransformResults=function(t,e){var n=[];v(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,s=null;t instanceof qe&&(s=t.field(i.field)),n.push(o.applyToRemoteDocument(s,e[r]))}return n},e.prototype.localTransformResults=function(t,e,n){for(var r=[],i=0,o=this.fieldTransforms;i<o.length;i++){var s=o[i],a=s.transform,l=null;e instanceof qe&&(l=e.field(s.field)),null===l&&n instanceof qe&&(l=n.field(s.field)),r.push(a.applyToLocalView(l,t))}return r},e.prototype.transformObject=function(t,e){v(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++)t=t.set(this.fieldTransforms[n].field,e[n]);return t},e}(ve),Ce=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=me.Delete,r}return s.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),v(null==e.transformResults,"Transform results received by DeleteMutation."),new ze(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&v(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new ze(this.key,St.forDeletedDoc())):t},e.prototype.extractBaseValue=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},e}(ve),Se=function(t){return t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue",t}({}),Ee=function(t){return t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous",t}({}),Te=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(Ee.Estimate,n);case"previous":return new t(Ee.Previous,n);case"none":case void 0:return new t(Ee.Default,n);default:return y("fromSnapshotOptions() called with invalid options.")}},t}(),Ie=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return v(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),Q(this.typeOrder,t.typeOrder)},t}(),ke=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=Se.NullValue,e.internalValue=null,e}return s.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(Ie),xe=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Se.BooleanValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?Q(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(Ie),Oe=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Se.NumberValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?(n=this.internalValue)<(r=t.internalValue)?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1:this.defaultCompareTo(t);var n,r},e}(Ie);function Ae(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}var Pe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Ae(this.internalValue,t.internalValue)},e}(Oe),Ne=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&Ae(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(Oe),De=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Se.StringValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?Q(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(Ie),Re=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Se.TimestampValue,n}return s.__extends(e,t),e.prototype.value=function(t){return!t||t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof Me?-1:this.defaultCompareTo(t)},e}(Ie),Me=function(t){function e(e,n){var r=t.call(this)||this;return r.localWriteTime=e,r.previousValue=n,r.typeOrder=Se.TimestampValue,r}return s.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===Ee.Estimate?new Re(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===Ee.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof Re?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(Ie),Le=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Se.BlobValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(Ie),Ve=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=Se.RefValue,r}return s.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId)},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:ut.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(Ie),Fe=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Se.GeoPointValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(Ie),je=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Se.ObjectValue,n}return s.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal(function(n,r){e[n]=r.value(t)}),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),s=Q(i.key,o.key)||i.value.compareTo(o.value);if(s)return s}return Q(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(v(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var i=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),i)},e.prototype.delete=function(t){if(v(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return null!==this.field(t)},e.prototype.field=function(t){v(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach(function(t){n=n instanceof e?n.internalValue.get(t):null}),n},e.prototype.fieldMask=function(){var t=new xt(lt.comparator);return this.internalValue.forEach(function(n,r){var i=new lt([n]);if(r instanceof e){var o=r.fieldMask().fields;o.isEmpty()?t=t.add(i):o.forEach(function(e){t=t.add(i.child(e))})}else t=t.add(i)}),pe.fromSet(t)},e.prototype.toString=function(){return this.internalValue.toString()},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new Et(Q)),e}(Ie),Ue=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Se.ArrayValue,n}return s.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map(function(e){return e.value(t)})},e.prototype.contains=function(t){for(var e=0,n=this.internalValue;e<n.length;e++)if(n[e].isEqual(t))return!0;return!1},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(t.internalValue[r]);if(i)return i}return Q(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return"["+this.internalValue.map(function(t){return t.toString()}).join(",")+"]"},e}(Ie),Be=function(){function t(t,e){this.key=t,this.version=e}return t.compareByKey=function(t,e){return ut.comparator(t.key,e.key)},t}(),qe=function(t){function e(e,n,r,i,o,s){var a=t.call(this,e,n)||this;return a.objectValue=i,a.proto=o,a.converter=s,v(void 0!==a.objectValue||void 0!==a.proto&&void 0!==a.converter,"If objectValue is not defined, proto and converter need to be set."),a.hasLocalMutations=!!r.hasLocalMutations,a.hasCommittedMutations=!!r.hasCommittedMutations,a}return s.__extends(e,t),e.prototype.field=function(t){if(this.objectValue)return this.objectValue.field(t);this.fieldValueCache||(this.fieldValueCache=new Map);var e=t.canonicalString(),n=this.fieldValueCache.get(e);if(void 0===n){var r=this.getProtoField(t);n=void 0===r?null:this.converter(r),this.fieldValueCache.set(e,n)}return n},e.prototype.data=function(){var t=this;if(!this.objectValue){var e=je.EMPTY;k(this.proto.fields||{},function(n,r){e=e.set(new lt([n]),t.converter(r))}),this.objectValue=e,this.fieldValueCache=void 0}return this.objectValue},e.prototype.value=function(){return this.data().value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations&&this.data().isEqual(t.data())},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data().toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.getProtoField=function(t){v(void 0!==this.proto,"Can only call getProtoField() when proto is defined");for(var e=this.proto.fields?this.proto.fields[t.firstSegment()]:void 0,n=1;n<t.length;++n){if(!e||!e.mapValue||!e.mapValue.fields)return;e=e.mapValue.fields[t.get(n)]}return e},e.compareByField=function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?r.compareTo(i):y("Trying to compare documents on fields that don't exist")},e}(Be),ze=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return s.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Be),We=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Be),He=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(o[0].isEqual(t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){k(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return x(this.inner)},t}(),Ke=function(){function t(){this.changes=new He(function(t){return t.toString()}),this.changesApplied=!1}return t.prototype.addEntry=function(t){this.assertNotApplied(),this.changes.set(t.key,t)},t.prototype.removeEntry=function(t){this.assertNotApplied(),this.changes.set(t,null)},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?zt.resolve(n):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){v(!this.changesApplied,"Changes have already been applied.")},t}(),Ge="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",Qe=function(){function t(t,e,n){this.serializer=t,this.indexManager=e,this.keepDocumentChangeLog=n,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(t.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),t.prototype.start=function(t){var e=ee.getStore(t,bn.store);return this.synchronizeLastDocumentChangeId(e)},t.prototype.addEntry=function(t,e,n){var r=this;return Ye(t).put(Xe(e),n).next(function(){r.indexManager.addToCollectionParentIndex(t,e.path.popLast())})},t.prototype.removeEntry=function(t,e){var n=Ye(t),r=Xe(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e,n){var r=this;return this.getMetadata(t).next(function(i){return i.byteSize+=n,r.setMetadata(t,i).next(function(){if(r.keepDocumentChangeLog)return Je(t).put({changes:r.serializer.toDbResourcePaths(e)})})})},t.prototype.getEntry=function(t,e){var n=this;return Ye(t).get(Xe(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getSizedEntry=function(t,e){var n=this;return Ye(t).get(Xe(e)).next(function(t){return t?{maybeDocument:n.serializer.fromDbRemoteDocument(t),size:Ze(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Nt();return this.forEachDbEntry(t,e,function(t,e){r=r.insert(t,e?n.serializer.fromDbRemoteDocument(e):null)}).next(function(){return r})},t.prototype.getSizedEntries=function(t,e){var n=this,r=Nt(),i=new Et(ut.comparator);return this.forEachDbEntry(t,e,function(t,e){e?(r=r.insert(t,n.serializer.fromDbRemoteDocument(e)),i=i.insert(t,Ze(e))):(r=r.insert(t,null),i=i.insert(t,0))}).next(function(){return{maybeDocuments:r,sizeMap:i}})},t.prototype.forEachDbEntry=function(t,e,n){if(e.isEmpty())return zt.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Ye(t).iterate({range:r},function(t,e,r){for(var s=ut.fromSegments(t);o&&ut.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.skip(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this;v(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var r=Rt(),i=e.path.length+1,o=e.path.toArray(),s=IDBKeyRange.lowerBound(o);return Ye(t).iterate({range:s},function(t,o,s){if(t.length===i){var a=n.serializer.fromDbRemoteDocument(o);e.path.isPrefixOf(a.key.path)?a instanceof qe&&e.matches(a)&&(r=r.insert(a.key,a)):s.done()}}).next(function(){return r})},t.prototype.getNewDocumentChanges=function(t){var e=this;v(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=Ft(),r=Pt(),i=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),o=!0,s=Je(t);return s.iterate({range:i},function(t,r){if(o&&(o=!1,e._lastProcessedDocumentChangeId+1!==r.id))return e.synchronizeLastDocumentChangeId(s).next(function(){return zt.reject(new C(w.DATA_LOSS,Ge))});n=n.unionWith(e.serializer.fromDbResourcePaths(r.changes)),e._lastProcessedDocumentChangeId=r.id}).next(function(){var i=[];return n.forEach(function(n){i.push(e.getEntry(t,n).next(function(t){var e=t||new ze(n,St.forDeletedDoc());r=r.insert(n,e)}))}),zt.waitFor(i)}).next(function(){return r})},t.prototype.removeDocumentChangesThroughChangeId=function(t,e){var n=IDBKeyRange.upperBound(e);return Je(t).delete(n)},t.prototype.synchronizeLastDocumentChangeId=function(t){var e=this;return this._lastProcessedDocumentChangeId=0,t.iterate({keysOnly:!0,reverse:!0},function(t,n,r){e._lastProcessedDocumentChangeId=t,r.done()})},t.prototype.newChangeBuffer=function(){return new t.RemoteDocumentChangeBuffer(this)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return $e(t).get(pn.key).next(function(t){return v(!!t,"Missing document cache metadata"),t})},t.prototype.setMetadata=function(t,e){return $e(t).put(pn.key,e)},t.RemoteDocumentChangeBuffer=function(t){function e(e){var n=t.call(this)||this;return n.documentCache=e,n.documentSizes=new He(function(t){return t.toString()}),n}return s.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=Ft();return this.changes.forEach(function(o,s){var a=e.documentSizes.get(o);if(v(void 0!==a,"Cannot modify a document that wasn't read (for "+o+")"),s){var l=e.documentCache.serializer.toDbRemoteDocument(s),u=Ze(l);r+=u-a,n.push(e.documentCache.addEntry(t,o,l))}else r-=a,n.push(e.documentCache.removeEntry(t,o));i=i.add(o)}),n.push(this.documentCache.updateMetadata(t,i,r)),zt.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.documentCache.getSizedEntry(t,e).next(function(t){return null===t?(n.documentSizes.set(e,0),null):(n.documentSizes.set(e,t.size),t.maybeDocument)})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.documentCache.getSizedEntries(t,e).next(function(t){var e=t.maybeDocuments;return t.sizeMap.forEach(function(t,e){n.documentSizes.set(t,e)}),e})},e}(Ke),t}();function $e(t){return Vn.getStore(t,pn.store)}function Ye(t){return Vn.getStore(t,dn.store)}function Je(t){return Vn.getStore(t,bn.store)}function Xe(t){return t.path.toArray()}function Ze(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw y("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}var tn=function(){function t(){this.collectionParentIndex=new en}return t.prototype.addToCollectionParentIndex=function(t,e){return this.collectionParentIndex.add(e),zt.resolve()},t.prototype.getCollectionParents=function(t,e){return zt.resolve(this.collectionParentIndex.getEntries(e))},t}(),en=function(){function t(){this.index={}}return t.prototype.add=function(t){v(t.length%2==1,"Expected a collection path.");var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new xt(st.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.getEntries=function(t){return(this.index[t]||new xt(st.comparator)).toArray()},t}(),nn=8,rn=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;v(n<r&&n>=0&&r<=nn,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&r>=1&&(function(t){t.createObjectStore(sn.store)}(t),function(t){t.createObjectStore(an.store,{keyPath:an.keyPath}),t.createObjectStore(ln.store,{keyPath:ln.keyPath,autoIncrement:!0}).createIndex(ln.userMutationsIndex,ln.userMutationsKeyPath,{unique:!0}),t.createObjectStore(un.store)}(t),vn(t),function(t){t.createObjectStore(dn.store)}(t));var o=zt.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(gn.store),t.deleteObjectStore(fn.store),t.deleteObjectStore(mn.store)}(t),vn(t)),o=o.next(function(){return function(t){var e=t.store(mn.store),n=new mn(0,0,St.MIN.toTimestamp(),0);return e.put(mn.key,n)}(e)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(ln.store).loadAll().next(function(n){t.deleteObjectStore(ln.store),t.createObjectStore(ln.store,{keyPath:ln.keyPath,autoIncrement:!0}).createIndex(ln.userMutationsIndex,ln.userMutationsKeyPath,{unique:!0});var r=e.store(ln.store),i=n.map(function(t){return r.put(t)});return zt.waitFor(i)})}(t,e)})),o=o.next(function(){!function(t){t.createObjectStore(_n.store,{keyPath:_n.keyPath})}(t),function(t){t.createObjectStore(bn.store,{keyPath:"id",autoIncrement:!0})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.removeAcknowledgedMutations(e)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(pn.store)}(t),i.addDocumentGlobal(e)})),n<7&&r>=7&&(o=o.next(function(){return i.ensureSequenceNumbers(e)})),n<8&&r>=8&&(o=o.next(function(){return i.createCollectionParentIndex(t,e)})),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(dn.store).iterate(function(t,n){e+=Ze(n)}).next(function(){var n=new pn(e);return t.store(pn.store).put(pn.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(an.store),r=t.store(ln.store);return n.loadAll().next(function(n){return zt.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(ln.userMutationsIndex,i).next(function(r){return zt.forEach(r,function(r){v(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=e.serializer.fromDbMutationBatch(r);return Kt(t,n.userId,i).next(function(){})})})})})},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(gn.store),n=t.store(dn.store);return he(t).next(function(t){var r=[];return n.iterate(function(n,i){var o=new st(n),s=function(t){return[0,vt(t)]}(o);r.push(e.get(s).next(function(n){return n?zt.resolve():function(n){return e.put(new gn(0,vt(n),t))}(o)}))}).next(function(){return zt.waitFor(r)})})},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(yn.store,{keyPath:yn.keyPath});var n=e.store(yn.store),r=new en,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:vt(i)})}};return e.store(dn.store).iterate({keysOnly:!0},function(t,e){var n=new st(t);return i(n.popLast())}).next(function(){return e.store(un.store).iterate({keysOnly:!0},function(t,e){var n=wt(t[1]);return i(n.popLast())})})},t}(),on=function(){return function(t,e){this.seconds=t,this.nanoseconds=e}}(),sn=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}(),an=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),ln=function(){function t(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}(),un=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,vt(e)]},t.key=function(t,e,n){return[t,vt(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),cn=function(){return function(t,e){this.path=t,this.readTime=e}}(),hn=function(){return function(t,e){this.path=t,this.version=e}}(),dn=function(){function t(t,e,n,r){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r}return t.store="remoteDocuments",t}(),pn=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}(),fn=function(){function t(t,e,n,r,i,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),gn=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,v(0===t==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),mn=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),yn=function(){function t(t,e){this.collectionId=t,this.parent=e}return t.store="collectionParents",t.keyPath=["collectionId","parent"],t}();function vn(t){t.createObjectStore(gn.store,{keyPath:gn.keyPath}).createIndex(gn.documentTargetsIndex,gn.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(fn.store,{keyPath:fn.keyPath}).createIndex(fn.queryTargetsIndexName,fn.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(mn.store)}var bn=function(){function t(t){this.changes=t}return t.store="remoteDocumentChanges",t.keyPath="id",t}(),_n=function(){function t(t,e,n,r,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=i}return t.store="clientMetadata",t.keyPath="clientId",t}(),wn=[an.store,ln.store,un.store,dn.store,fn.store,sn.store,mn.store,gn.store].concat([_n.store,bn.store]).concat([pn.store]).concat([yn.store]),Cn=function(){function t(){this.collectionParentsCache=new en}return t.prototype.addToCollectionParentIndex=function(t,e){if(v(e.length%2==1,"Expected a collection path."),this.collectionParentsCache.add(e)){v(e.length>=1,"Invalid collection path.");var n=e.lastSegment(),r=e.popLast();return Sn(t).put({collectionId:n,parent:vt(r)})}return zt.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Y(e),""],!1,!0);return Sn(t).loadAll(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(wt(o.parent))}return n})},t}();function Sn(t){return Vn.getStore(t,yn.store)}var En=function(t){return t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution",t}({}),Tn=function(){function t(t,e,n,r,i,o){void 0===i&&(i=St.MIN),void 0===o&&(o=_()),this.query=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.resumeToken=o}return t.prototype.withSequenceNumber=function(e){return new t(this.query,this.targetId,this.purpose,e,this.snapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.query,this.targetId,this.purpose,this.sequenceNumber,n,e)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.sequenceNumber===t.sequenceNumber&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},t}(),In=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=ut.fromSegments(t.noDocument.path),n=this.fromDbTimestamp(t.noDocument.readTime);return new ze(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}return t.unknownDocument?(e=ut.fromSegments(t.unknownDocument.path),n=this.fromDbTimestamp(t.unknownDocument.version),new We(e,n)):y("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t){if(t instanceof qe){var e=t.proto?t.proto:this.remoteSerializer.toDocument(t);return new dn(null,null,e,i=t.hasCommittedMutations)}if(t instanceof ze){var n=t.key.path.toArray(),r=this.toDbTimestamp(t.version),i=t.hasCommittedMutations;return new dn(null,new cn(n,r),null,i)}return t instanceof We?(n=t.key.path.toArray(),r=this.toDbTimestamp(t.version),new dn(new hn(n,r),null,null,!0)):y("Unexpected MaybeDocumment")},t.prototype.toDbTimestamp=function(t){var e=t.toTimestamp();return new on(e.seconds,e.nanoseconds)},t.prototype.fromDbTimestamp=function(t){var e=new Ct(t.seconds,t.nanoseconds);return St.fromTimestamp(e)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.baseMutations.map(function(t){return n.remoteSerializer.toMutation(t)}),i=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new ln(t,e.batchId,e.localWriteTime.toMillis(),r,i)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=(t.baseMutations||[]).map(function(t){return e.remoteSerializer.fromMutation(t)}),r=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),i=Ct.fromMillis(t.localWriteTimeMs);return new Bt(t.batchId,i,n,r)},t.prototype.toDbResourcePaths=function(t){var e=[];return t.forEach(function(t){e.push(vt(t.path))}),e},t.prototype.fromDbResourcePaths=function(t){for(var e=Ft(),n=0,r=t;n<r.length;n++)e=e.add(new ut(wt(r[n])));return e},t.prototype.fromDbTarget=function(t){var e,n=this.fromDbTimestamp(t.readTime);return e=void 0!==t.query.documents?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new Tn(e,t.targetId,En.Listen,t.lastListenSequenceNumber,n,t.resumeToken)},t.prototype.toDbTarget=function(t){v(En.Listen===t.purpose,"Only queries with purpose "+En.Listen+" may be stored, got "+t.purpose);var e,n,r=this.toDbTimestamp(t.snapshotVersion);return e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),t.resumeToken instanceof Uint8Array?(v("YES"===process.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),n=t.resumeToken.toString()):n=t.resumeToken,new fn(t.targetId,t.query.canonicalId(),r,n,t.sequenceNumber,e)},t}();function kn(t,e){var n=t[1],r=e[1],i=Q(t[0],e[0]);return 0===i?Q(n,r):i}var xn=function(){function t(t){this.maxElements=t,this.buffer=new xt(kn),this.previousIndex=0}return t.prototype.nextIndex=function(){return++this.previousIndex},t.prototype.addElement=function(t){var e=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();kn(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),On={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},An=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t.COLLECTION_DISABLED=-1,t.MINIMUM_CACHE_SIZE_BYTES=1048576,t.DEFAULT=new t(t.DEFAULT_CACHE_SIZE_BYTES=41943040,t.DEFAULT_COLLECTION_PERCENTILE=10,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3),t.DISABLED=new t(t.COLLECTION_DISABLED,0,0),t}(),Pn=function(){function t(t,e,n){this.garbageCollector=t,this.asyncQueue=e,this.localStore=n,this.hasRun=!1,this.gcTask=null}return t.prototype.start=function(){v(null===this.gcTask,"Cannot start an already started LruScheduler"),this.garbageCollector.params.cacheSizeCollectionThreshold!==An.COLLECTION_DISABLED&&this.scheduleGC()},t.prototype.stop=function(){this.gcTask&&(this.gcTask.cancel(),this.gcTask=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.gcTask},enumerable:!0,configurable:!0}),t.prototype.scheduleGC=function(){var t=this;v(null===this.gcTask,"Cannot schedule GC while a task is pending");var e=this.hasRun?3e5:6e4;f("LruGarbageCollector","Garbage collection scheduled in "+e+"ms"),this.gcTask=this.asyncQueue.enqueueAfterDelay(ht.LruGarbageCollection,e,function(){return t.gcTask=null,t.hasRun=!0,t.localStore.collectGarbage(t.garbageCollector).then(function(){return t.scheduleGC()}).catch(Fn)})},t}(),Nn=function(){function t(t,e){this.delegate=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.delegate.getSequenceNumberCount(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return zt.resolve(it.INVALID);var r=new xn(e);return this.delegate.forEachTarget(t,function(t){return r.addElement(t.sequenceNumber)}).next(function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(t,function(t){return r.addElement(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.delegate.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.delegate.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return this.params.cacheSizeCollectionThreshold===An.COLLECTION_DISABLED?(f("LruGarbageCollector","Garbage collection skipped; disabled"),zt.resolve(On)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(f("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),On):n.runGarbageCollection(t,e)})},t.prototype.getCacheSize=function(t){return this.delegate.getCacheSize(t)},t.prototype.runGarbageCollection=function(t,e){var n,r,i,o,s,a,l,u=this,c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>u.params.maximumSequenceNumbersToCollect?(f("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+u.params.maximumSequenceNumbersToCollect+" from "+e),r=u.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),u.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),u.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),u.removeOrphanedDocuments(t,n)}).next(function(t){return l=Date.now(),d()<=h.DEBUG&&f("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-c)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(l-a)+"ms\nTotal Duration: "+(l-c)+"ms"),zt.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Dn="IndexedDbPersistence",Rn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Mn="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs.",Ln=function(t){function e(e,n){var r=t.call(this)||this;return r.simpleDbTransaction=e,r.currentSequenceNumber=n,r}return s.__extends(e,t),e}(function(){return function(){}}()),Vn=function(){function t(e,n,r,i,o,s,a,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.queue=s,this.sequenceNumberSyncer=l,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.windowUnloadHandler=null,this.inForeground=!1,this.documentVisibilityHandler=null,this.clientMetadataRefresher=null,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(t){return Promise.resolve()},this.referenceDelegate=new Bn(this,o),this.dbName=n+t.MAIN_DATABASE,this.serializer=new In(a),this.document=i.document,this.queryCache=new le(this.referenceDelegate,this.serializer),this.indexManager=new Cn,this.remoteDocumentCache=new Qe(this.serializer,this.indexManager,this.allowTabSynchronization),!i.window||!i.window.localStorage)throw new C(w.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=i.window,this.webStorage=this.window.localStorage}return t.getStore=function(t,e){if(t instanceof Ln)return ee.getStore(t.simpleDbTransaction,e);throw y("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.createIndexedDbPersistence=function(e){return s.__awaiter(this,void 0,void 0,function(){var n;return s.__generator(this,function(r){switch(r.label){case 0:if(!t.isAvailable())throw new C(w.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");return[4,(n=new t(e.allowTabSynchronization,e.persistenceKey,e.clientId,e.platform,e.lruParams,e.queue,e.serializer,e.sequenceNumberSyncer)).start()];case 1:return r.sent(),[2,n]}})})},t.prototype.start=function(){var t=this;return v(!this.started,"IndexedDbPersistence double-started!"),v(null!==this.window,"Expected 'window' to be defined"),ee.openOrCreate(this.dbName,nn,new rn(this.serializer)).then(function(e){return t.simpleDb=e,t.updateClientMetadataAndTryBecomePrimary()}).then(function(){return t.attachVisibilityHandler(),t.attachWindowUnloadHook(),t.scheduleClientMetadataAndPrimaryLeaseRefreshes(),t.startRemoteDocumentCache()}).then(function(){return t.simpleDb.runTransaction("readonly",[mn.store],function(e){return he(e).next(function(e){t.listenSequence=new it(e,t.sequenceNumberSyncer)})})}).then(function(){t._started=!0}).catch(function(e){return t.simpleDb&&t.simpleDb.close(),Promise.reject(e)})},t.prototype.startRemoteDocumentCache=function(){var t=this;return this.simpleDb.runTransaction("readonly",wn,function(e){return t.remoteDocumentCache.start(e)})},t.prototype.setPrimaryStateListener=function(t){var e=this;return this.primaryStateListener=function(n){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.simpleDb.setVersionChangeListener(function(n){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(e){switch(e.label){case 0:return null!==n.newVersion?[3,2]:[4,t()];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget(function(){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.updateClientMetadataAndTryBecomePrimary=function(){var t=this;return this.simpleDb.runTransaction("readwrite",wn,function(e){return Un(e).put(new _n(t.clientId,Date.now(),t.networkEnabled,t.inForeground,t.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){if(t.isPrimary)return t.verifyPrimaryLease(e).next(function(e){e||(t.isPrimary=!1,t.queue.enqueueAndForget(function(){return t.primaryStateListener(!1)}))})}).next(function(){return t.canActAsPrimary(e)}).next(function(n){var r=t.isPrimary;return t.isPrimary=n,r!==t.isPrimary&&t.queue.enqueueAndForget(function(){return t.primaryStateListener(t.isPrimary)}),r&&!t.isPrimary?t.releasePrimaryLeaseIfHeld(e):t.isPrimary?t.acquireOrExtendPrimaryLease(e):void 0})})},t.prototype.verifyPrimaryLease=function(t){var e=this;return jn(t).get(sn.key).next(function(t){return zt.resolve(e.isLocalClient(t))})},t.prototype.removeClientMetadata=function(t){return Un(t).delete(this.clientId)},t.prototype.maybeGarbageCollectMultiClientState=function(){return s.__awaiter(this,void 0,void 0,function(){var e,n,r=this;return s.__generator(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(i){var o=t.getStore(i,_n.store);return o.loadAll().next(function(t){e=r.filterActiveClients(t,18e5),n=t.filter(function(t){return-1===e.indexOf(t)})}).next(function(){return zt.forEach(n,function(t){return o.delete(t.clientId)})}).next(function(){if((e=e.filter(function(t){return t.clientId!==r.clientId})).length>0){var t=e.map(function(t){return t.lastProcessedDocumentChangeId||0}),n=Math.min.apply(Math,t);return r.remoteDocumentCache.removeDocumentChangesThroughChangeId(i,n)}})})]);case 1:i.sent(),n.forEach(function(t){r.window.localStorage.removeItem(r.zombiedClientLocalStorageKey(t.clientId))}),i.label=2;case 2:return[2]}})})},t.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var t=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(ht.ClientMetadataRefresh,4e3,function(){return t.updateClientMetadataAndTryBecomePrimary().then(function(){return t.maybeGarbageCollectMultiClientState()}).then(function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},t.prototype.isLocalClient=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.canActAsPrimary=function(t){var e=this;return jn(t).get(sn.key).next(function(n){if(null!==n&&e.isWithinAge(n.leaseTimestampMs,5e3)&&!e.isClientZombied(n.ownerId)){if(e.isLocalClient(n)&&e.networkEnabled)return!0;if(!e.isLocalClient(n)){if(!n.allowTabSynchronization)throw new C(w.FAILED_PRECONDITION,Mn);return!1}}return!(!e.networkEnabled||!e.inForeground)||Un(t).loadAll().next(function(t){return void 0===e.filterActiveClients(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&f(Dn,"Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return s.__awaiter(this,void 0,void 0,function(){var t=this;return s.__generator(this,function(e){switch(e.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&(this.clientMetadataRefresher.cancel(),this.clientMetadataRefresher=null),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[sn.store,_n.store],function(e){return t.releasePrimaryLeaseIfHeld(e).next(function(){return t.removeClientMetadata(e)})})];case 1:return e.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),[2]}})})},t.prototype.filterActiveClients=function(t,e){var n=this;return t.filter(function(t){return n.isWithinAge(t.updateTimeMs,e)&&!n.isClientZombied(t.clientId)})},t.prototype.getActiveClients=function(){var t=this;return this.simpleDb.runTransaction("readonly",[_n.store],function(e){return Un(e).loadAll().next(function(e){return t.filterActiveClients(e,18e5).map(function(t){return t.clientId})})})},t.clearPersistence=function(e){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(n){switch(n.label){case 0:return t.isAvailable()?[4,ee.delete(e+t.MAIN_DATABASE)]:[2,Promise.resolve()];case 1:return n.sent(),[2]}})})},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){return v(this.started,"Cannot initialize MutationQueue before persistence is started."),Wt.forUser(t,this.serializer,this.indexManager,this.referenceDelegate)},t.prototype.getQueryCache=function(){return v(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},t.prototype.getRemoteDocumentCache=function(){return v(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},t.prototype.getIndexManager=function(){return v(this.started,"Cannot initialize IndexManager before persistence is started."),this.indexManager},t.prototype.runTransaction=function(t,e,n){var r=this;return f(Dn,"Starting transaction:",t),this.simpleDb.runTransaction("readonly"===e?"readonly":"readwrite",wn,function(i){return"readwrite-primary"===e?r.verifyPrimaryLease(i).next(function(e){if(!e)throw g("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.queue.enqueueAndForget(function(){return r.primaryStateListener(!1)}),new C(w.FAILED_PRECONDITION,Rn);return n(new Ln(i,r.listenSequence.next()))}).next(function(t){return r.acquireOrExtendPrimaryLease(i).next(function(){return t})}):r.verifyAllowTabSynchronization(i).next(function(){return n(new Ln(i,r.listenSequence.next()))})})},t.prototype.verifyAllowTabSynchronization=function(t){var e=this;return jn(t).get(sn.key).next(function(t){if(null!==t&&e.isWithinAge(t.leaseTimestampMs,5e3)&&!e.isClientZombied(t.ownerId)&&!e.isLocalClient(t)&&!t.allowTabSynchronization)throw new C(w.FAILED_PRECONDITION,Mn)})},t.prototype.acquireOrExtendPrimaryLease=function(t){var e=new sn(this.clientId,this.allowTabSynchronization,Date.now());return jn(t).put(sn.key,e)},t.isAvailable=function(){return ee.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.releasePrimaryLeaseIfHeld=function(t){var e=this,n=jn(t);return n.get(sn.key).next(function(t){return e.isLocalClient(t)?(f(Dn,"Releasing primary lease."),n.delete(sn.key)):zt.resolve()})},t.prototype.isWithinAge=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(g("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.attachVisibilityHandler=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){t.queue.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},t.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(v(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){t.markClientZombied(),t.queue.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(v("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.isClientZombied=function(t){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(t));return f(Dn,"Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(n){return g(Dn,"Failed to get zombied client id.",n),!1}},t.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(t){g("Failed to set zombie client id.",t)}},t.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(t){}},t.prototype.zombiedClientLocalStorageKey=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.MAIN_DATABASE="main",t}();function Fn(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){if(!function(t){return t.code===w.FAILED_PRECONDITION&&t.message===Rn}(t))throw t;return f(Dn,"Unexpectedly lost primary lease"),[2]})})}function jn(t){return t.store(sn.store)}function Un(t){return t.store(_n.store)}var Bn=function(){function t(t,e){this.db=t,this.inMemoryPins=null,this.garbageCollector=new Nn(this,e)}return t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocmentCount(t);return this.db.getQueryCache().getQueryCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocmentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getQueryCache().forEachTarget(t,e)},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){return this.forEachOrphanedDocument(t,function(t,n){return e(n)})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return qn(t,e)},t.prototype.removeReference=function(t,e){return qn(t,e)},t.prototype.removeTargets=function(t,e,n){return this.db.getQueryCache().removeTargets(t,e,n)},t.prototype.removeMutationReference=function(t,e){return qn(t,e)},t.prototype.isPinned=function(t,e){return this.inMemoryPins.containsKey(e)?zt.resolve(!0):function(t,e){var n=!1;return Yt(t).iterateSerial(function(r){return Ht(t,r,e).next(function(t){return t&&(n=!0),zt.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.forEachOrphanedDocument(t,function(s,a){if(a<=e){var l=n.isPinned(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),de(t).delete([0,vt(s.path)])})});i.push(l)}}).next(function(){return zt.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getQueryCache().updateQueryData(t,n)},t.prototype.updateLimboDocument=function(t,e){return qn(t,e)},t.prototype.forEachOrphanedDocument=function(t,e){var n,r=de(t),i=it.INVALID;return r.iterate({index:gn.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==it.INVALID&&e(new ut(wt(n)),i),i=s,n=o):i=it.INVALID}).next(function(){i!==it.INVALID&&e(new ut(wt(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function qn(t,e){return de(t).put(function(t,e){return new gn(0,vt(t.path),e)}(e,t.currentSequenceNumber))}var zn=function(){function t(t,e,n){this.remoteDocumentCache=t,this.mutationQueue=e,this.indexManager=n}return t.prototype.getDocument=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.getDocumentInternal(t,e,r)})},t.prototype.getDocumentInternal=function(t,e,n){return this.remoteDocumentCache.getEntry(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].applyToLocalView(e,t);return t})},t.prototype.applyLocalMutationsToDocuments=function(t,e,n){var r=Nt();return e.forEach(function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].applyToLocalView(t,e);r=r.insert(t,e)}),r},t.prototype.getDocuments=function(t,e){var n=this;return this.remoteDocumentCache.getEntries(t,e).next(function(e){return n.getLocalViewOfDocuments(t,e)})},t.prototype.getLocalViewOfDocuments=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var i=n.applyLocalMutationsToDocuments(t,e,r),o=Pt();return i.forEach(function(t,e){e||(e=new ze(t,St.forDeletedDoc())),o=o.insert(t,e)}),o})},t.prototype.getDocumentsMatchingQuery=function(t,e){return e.isDocumentQuery()?this.getDocumentsMatchingDocumentQuery(t,e.path):e.isCollectionGroupQuery()?this.getDocumentsMatchingCollectionGroupQuery(t,e):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new ut(e)).next(function(t){var e=Rt();return t instanceof qe&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionGroupQuery=function(t,e){var n=this;v(e.path.isEmpty(),"Currently we only support collection group queries at the root.");var r=e.collectionGroup,i=Rt();return this.indexManager.getCollectionParents(t,r).next(function(o){return zt.forEach(o,function(o){var s=e.asCollectionQueryAtPath(o.child(r));return n.getDocumentsMatchingCollectionQuery(t,s).next(function(t){t.forEach(function(t,e){i=i.insert(t,e)})})}).next(function(){return i})})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r,i=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(r){return n=r,i.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return i.addMissingBaseDocuments(t,r=e,n).next(function(t){n=t;for(var e=0,i=r;e<i.length;e++)for(var o=i[e],s=0,a=o.mutations;s<a.length;s++){var l=a[s],u=l.key,c=n.get(u),h=l.applyToLocalView(c,c,o.localWriteTime);n=h instanceof qe?n.insert(u,h):n.remove(u)}})}).next(function(){return n.forEach(function(t,r){e.matches(r)||(n=n.remove(t))}),n})},t.prototype.addMissingBaseDocuments=function(t,e,n){for(var r=Ft(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var l=a[s];l instanceof _e&&null===n.get(l.key)&&(r=r.add(l.key))}var u=n;return this.remoteDocumentCache.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof qe&&(u=u.insert(t,e))}),u})},t}(),Wn=function(){function t(){this.refsByKey=new xt(Hn.compareByKey),this.refsByTarget=new xt(Hn.compareByTargetId)}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new Hn(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new Hn(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=ut.EMPTY,r=new Hn(n,t),i=new Hn(n,t+1),o=[];return this.refsByTarget.forEachInRange([r,i],function(t){e.removeRef(t),o.push(t.key)}),o},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)},t.prototype.referencesForId=function(t){var e=ut.EMPTY,n=new Hn(e,t),r=new Hn(e,t+1),i=Ft();return this.refsByTarget.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Hn(t,0),n=this.refsByKey.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Hn=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return ut.comparator(t.key,e.key)||Q(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return Q(t.targetOrBatchId,e.targetOrBatchId)||ut.comparator(t.key,e.key)},t}(),Kn=function(){function t(t,e){this.persistence=t,this.localViewReferences=new Wn,this.queryDataByTarget={},v(t.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new zn(this.remoteDocuments,this.mutationQueue,this.persistence.getIndexManager())}return t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change","readonly",function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next(function(i){return r=i,e.mutationQueue=e.persistence.getMutationQueue(t),e.localDocuments=new zn(e.remoteDocuments,e.mutationQueue,e.persistence.getIndexManager()),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){for(var i=[],o=[],s=Ft(),a=0,l=r;a<l.length;a++){i.push((p=l[a]).batchId);for(var u=0,c=p.mutations;u<c.length;u++)s=s.add(c[u].key)}for(var h=0,d=t;h<d.length;h++){var p;o.push((p=d[h]).batchId);for(var f=0,g=p.mutations;f<g.length;f++)s=s.add(g[f].key)}return e.localDocuments.getDocuments(n,s).next(function(t){return{affectedDocuments:t,removedBatchIds:i,addedBatchIds:o}})})})},t.prototype.localWrite=function(t){var e=this,n=Ct.now(),r=t.reduce(function(t,e){return t.add(e.key)},Ft());return this.persistence.runTransaction("Locally write mutations","readwrite",function(i){return e.localDocuments.getDocuments(i,r).next(function(r){for(var o=[],s=0,a=t;s<a.length;s++){var l=a[s],u=l.extractBaseValue(r.get(l.key));null!=u&&o.push(new _e(l.key,u,u.fieldMask(),ye.exists(!0)))}return e.mutationQueue.addMutationBatch(i,n,o,t).next(function(t){var e=t.applyToLocalDocumentSet(r);return{batchId:t.batchId,changes:e}})})})},t.prototype.lookupMutationDocuments=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(n){return e.mutationQueue.lookupMutationKeys(n,t).next(function(t){return t?e.localDocuments.getDocuments(n,t):zt.resolve(null)})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(n){var r=t.batch.keys(),i=e.remoteDocuments.newChangeBuffer();return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){return e.applyWriteToRemoteDocuments(n,t,i)}).next(function(){return i.apply(n)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(n){var r;return e.mutationQueue.lookupMutationBatch(n,t).next(function(t){return v(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.mutationQueue.removeMutationBatch(n,t)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.getHighestUnacknowledgedBatchId=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(e){return t.mutationQueue.getHighestUnacknowledgedBatchId(e)})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.queryCache.getLastRemoteSnapshotVersion(e)})},t.prototype.applyRemoteEvent=function(e){var n=this,r=this.remoteDocuments.newChangeBuffer(),i=e.snapshotVersion;return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(o){var s=[];I(e.targetChanges,function(e,r){var a=n.queryDataByTarget[e];if(a){s.push(n.queryCache.removeMatchingKeys(o,r.removedDocuments,e).next(function(){return n.queryCache.addMatchingKeys(o,r.addedDocuments,e)}));var l=r.resumeToken;if(l.length>0){var u=a.withResumeToken(l,i);n.queryDataByTarget[e]=u,t.shouldPersistQueryData(a,u,r)&&s.push(n.queryCache.updateQueryData(o,u))}}});var a=Pt(),l=Ft();if(e.documentUpdates.forEach(function(t,e){l=l.add(t)}),s.push(r.getEntries(o,l).next(function(t){e.documentUpdates.forEach(function(i,l){var u=t.get(i);l instanceof ze&&l.version.isEqual(St.MIN)?(r.removeEntry(i),a=a.insert(i,l)):null==u||l.version.compareTo(u.version)>0||0===l.version.compareTo(u.version)&&u.hasPendingWrites?(St.MIN.isEqual(e.snapshotVersion)&&g("LocalStore","Cannot add a document when the remote version is zero"),r.addEntry(l),a=a.insert(i,l)):f("LocalStore","Ignoring outdated watch update for ",i,". Current version:",u.version," Watch version:",l.version),e.resolvedLimboDocuments.has(i)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,i))})})),!i.isEqual(St.MIN)){var u=n.queryCache.getLastRemoteSnapshotVersion(o).next(function(t){return v(i.compareTo(t)>=0,"Watch stream reverted to previous snapshot?? "+i+" < "+t),n.queryCache.setTargetsMetadata(o,o.currentSequenceNumber,i)});s.push(u)}return zt.waitFor(s).next(function(){return r.apply(o)}).next(function(){return n.localDocuments.getLocalViewOfDocuments(o,a)})})},t.shouldPersistQueryData=function(t,e,n){return v(e.resumeToken.length>0,"Attempted to persist query data with no resume token"),0===t.resumeToken.length||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return zt.forEach(t,function(t){return e.localViewReferences.addReferences(t.addedKeys,t.targetId),e.localViewReferences.removeReferences(t.removedKeys,t.targetId),zt.forEach(t.removedKeys,function(t){return e.persistence.referenceDelegate.removeReference(n,t)})})})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(n){return void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query","readwrite",function(n){var r;return e.queryCache.getQueryData(n,t).next(function(i){return i?(r=i,zt.resolve()):e.queryCache.allocateTargetId(n).next(function(i){return r=new Tn(t,i,En.Listen,n.currentSequenceNumber),e.queryCache.addQueryData(n,r)})}).next(function(){return v(!e.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+t),e.queryDataByTarget[r.targetId]=r,r})})},t.prototype.releaseQuery=function(t,e){var n=this;return this.persistence.runTransaction("Release query",e?"readwrite":"readwrite-primary",function(r){return n.queryCache.getQueryData(r,t).next(function(i){v(null!=i,"Tried to release nonexistent query: "+t);var o=i.targetId,s=n.queryDataByTarget[o],a=n.localViewReferences.removeReferencesForId(o);return delete n.queryDataByTarget[o],e?zt.resolve():zt.forEach(a,function(t){return n.persistence.referenceDelegate.removeReference(r,t)}).next(function(){return n.persistence.referenceDelegate.removeTarget(r,s)})})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query","readonly",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},t.prototype.removeCachedMutationBatchMetadata=function(t){this.mutationQueue.removeCachedMutationKeys(t)},t.prototype.setNetworkEnabled=function(t){this.persistence.setNetworkEnabled(t)},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=this,i=e.batch,o=i.keys(),s=zt.resolve();return o.forEach(function(r){s=s.next(function(){return n.getEntry(t,r)}).next(function(t){var o=t,s=e.docVersions.get(r);v(null!==s,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(s)<0)&&((o=i.applyToRemoteDocument(r,o,e))?n.addEntry(o):v(!t,"Mutation batch "+i+" applied to document "+t+" resulted in null"))})}),s.next(function(){return r.mutationQueue.removeMutationBatch(t,i)})},t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.queryDataByTarget)})},t.prototype.getQueryForTarget=function(t){var e=this;return this.queryDataByTarget[t]?Promise.resolve(this.queryDataByTarget[t].query):this.persistence.runTransaction("Get query data","readonly",function(n){return e.queryCache.getQueryDataForTarget(n,t).next(function(t){return t?t.query:null})})},t.prototype.getNewDocumentChanges=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",function(e){return t.remoteDocuments.getNewDocumentChanges(e)})},t.RESUME_TOKEN_MAX_AGE_MICROS=3e8,t}(),Gn=function(){function t(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nextBatchId=1,this.lastStreamToken=_(),this.batchesByDocumentKey=new xt(Hn.compareByKey)}return t.prototype.checkEmpty=function(t){return zt.resolve(0===this.mutationQueue.length)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId,i=this.indexOfExistingBatchId(r,"acknowledged");v(0===i,"Can only acknowledge the first batch in the mutation queue");var o=this.mutationQueue[i];return v(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),this.lastStreamToken=n,zt.resolve()},t.prototype.getLastStreamToken=function(t){return zt.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,zt.resolve()},t.prototype.addMutationBatch=function(t,e,n,r){v(0!==r.length,"Mutation batches should not be empty");var i=this.nextBatchId;this.nextBatchId++,this.mutationQueue.length>0&&v(this.mutationQueue[this.mutationQueue.length-1].batchId<i,"Mutation batchIDs must be monotonically increasing order");var o=new Bt(i,e,n,r);this.mutationQueue.push(o);for(var s=0,a=r;s<a.length;s++){var l=a[s];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Hn(l.key,i)),this.indexManager.addToCollectionParentIndex(t,l.key.path.popLast())}return zt.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return zt.resolve(this.findMutationBatch(e))},t.prototype.lookupMutationKeys=function(t,e){var n=this.findMutationBatch(e);return v(null!=n,"Failed to find local mutation batch."),zt.resolve(n.keys())},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.indexOfBatchId(e+1),r=n<0?0:n;return zt.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return zt.resolve(0===this.mutationQueue.length?-1:this.nextBatchId-1)},t.prototype.getAllMutationBatches=function(t){return zt.resolve(this.mutationQueue.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Hn(e,0),i=new Hn(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(t){v(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);v(null!==r,"Batches in the index must exist in the main table"),o.push(r)}),zt.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new xt(Q);return e.forEach(function(t){var e=new Hn(t,0),i=new Hn(t,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([e,i],function(e){v(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.targetOrBatchId)})}),zt.resolve(this.findMutationBatches(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){v(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");var n=e.path,r=n.length+1,i=n;ut.isDocumentKey(i)||(i=i.child(""));var o=new Hn(new ut(i),0),s=new xt(Q);return this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.targetOrBatchId)),!0)},o),zt.resolve(this.findMutationBatches(s))},t.prototype.findMutationBatches=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.findMutationBatch(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;v(0===this.indexOfExistingBatchId(e.batchId,"removed"),"Can only remove the first entry of the mutation queue"),this.mutationQueue.shift();var r=this.batchesByDocumentKey;return zt.forEach(e.mutations,function(i){var o=new Hn(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.removeMutationReference(t,i.key)}).next(function(){n.batchesByDocumentKey=r})},t.prototype.removeCachedMutationKeys=function(t){},t.prototype.containsKey=function(t,e){var n=new Hn(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return zt.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&v(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),zt.resolve()},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return v(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return v(n.batchId===t,"If found batch must match"),n},t}(),Qn=function(){function t(t){this.persistence=t,this.queries=new He(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=St.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Wn,this.targetCount=0,this.targetIdGenerator=Zt.forQueryCache()}return t.prototype.getTargetCount=function(t){return zt.resolve(this.targetCount)},t.prototype.forEachTarget=function(t,e){return this.queries.forEach(function(t,n){return e(n)}),zt.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return zt.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return zt.resolve(this.highestSequenceNumber)},t.prototype.allocateTargetId=function(t){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,zt.resolve(e)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),zt.resolve()},t.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)},t.prototype.addQueryData=function(t,e){return v(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,zt.resolve()},t.prototype.updateQueryData=function(t,e){return v(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),zt.resolve()},t.prototype.removeQueryData=function(t,e){return v(this.targetCount>0,"Removing a target from an empty cache"),v(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,zt.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.queries.forEach(function(s,a){a.sequenceNumber<=e&&!n[a.targetId]&&(r.queries.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),zt.waitFor(o).next(function(){return i})},t.prototype.getQueryCount=function(t){return zt.resolve(this.targetCount)},t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return zt.resolve(n)},t.prototype.getQueryDataForTarget=function(t,e){return y("Not yet implemented.")},t.prototype.addMatchingKeys=function(t,e,n){this.references.addReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.addReference(t,e))}),zt.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){this.references.removeReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.removeReference(t,e))}),zt.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),zt.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return zt.resolve(n)},t.prototype.containsKey=function(t,e){return zt.resolve(this.references.containsKey(e))},t}(),$n=function(){function t(t,e){this.indexManager=t,this.sizer=e,this.docs=new Et(ut.comparator),this.newDocumentChanges=Ft(),this.size=0}return t.prototype.addEntry=function(t,e){var n=e.key,r=this.docs.get(n),i=r?r.size:0,o=this.sizer(e);return this.docs=this.docs.insert(n,{maybeDocument:e,size:o}),this.newDocumentChanges=this.newDocumentChanges.add(n),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return zt.resolve(n?n.maybeDocument:null)},t.prototype.getEntries=function(t,e){var n=this,r=Nt();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.maybeDocument:null)}),zt.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e){v(!e.isCollectionGroupQuery(),"CollectionGroup queries should be handled in LocalDocumentsView");for(var n=Rt(),r=new ut(e.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),s=o.value.maybeDocument;if(!e.path.isPrefixOf(o.key.path))break;s instanceof qe&&e.matches(s)&&(n=n.insert(s.key,s))}return zt.resolve(n)},t.prototype.forEachDocumentKey=function(t,e){return zt.forEach(this.docs,function(t){return e(t)})},t.prototype.getNewDocumentChanges=function(t){var e=this,n=Pt();return this.newDocumentChanges.forEach(function(t){var r=e.docs.get(t),i=r?r.maybeDocument:new ze(t,St.forDeletedDoc());n=n.insert(t,i)}),this.newDocumentChanges=Ft(),zt.resolve(n)},t.prototype.newChangeBuffer=function(){return new t.RemoteDocumentChangeBuffer(this)},t.prototype.getSize=function(t){return zt.resolve(this.size)},t.RemoteDocumentChangeBuffer=function(t){function e(e){var n=t.call(this)||this;return n.documentCache=e,n}return s.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i?n.push(e.documentCache.addEntry(t,i)):e.documentCache.removeEntry(r)}),zt.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.documentCache.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.documentCache.getEntries(t,e)},e}(Ke),t}(),Yn=function(){function t(t,e){var n=this;this.clientId=t,this.mutationQueues={},this.listenSequence=new it(0),this._started=!1,this._started=!0,this.referenceDelegate=e(this),this.queryCache=new Qn(this),this.indexManager=new tn,this.remoteDocumentCache=new $n(this.indexManager,function(t){return n.referenceDelegate.documentSize(t)})}return t.createLruPersistence=function(e,n,r){return new t(e,function(t){return new Zn(t,new In(n),r)})},t.createEagerPersistence=function(e){return new t(e,function(t){return new Xn(t)})},t.prototype.shutdown=function(){return this._started=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getActiveClients=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return[2,[this.clientId]]})})},t.prototype.setPrimaryStateListener=function(t){return t(!0)},t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(t){},t.prototype.getIndexManager=function(){return this.indexManager},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new Gn(this.indexManager,this.referenceDelegate),this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var r=this;f("MemoryPersistence","Starting transaction:",t);var i=new Jn(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next(function(t){return r.referenceDelegate.onTransactionCommitted(i).next(function(){return t})}).toPromise()},t.prototype.mutationQueuesContainKey=function(t,e){return zt.or((n=this.mutationQueues,r=[],k(n,function(t,e){return r.push(e)}),r).map(function(n){return function(){return n.containsKey(t,e)}}));var n,r},t}(),Jn=function(){return function(t){this.currentSequenceNumber=t}}(),Xn=function(){function t(t){this.persistence=t,this.inMemoryPins=null,this._orphanedDocuments=null}return Object.defineProperty(t.prototype,"orphanedDocuments",{get:function(){if(this._orphanedDocuments)return this._orphanedDocuments;throw y("orphanedDocuments is only valid during a transaction.")},enumerable:!0,configurable:!0}),t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return this.orphanedDocuments.delete(e),zt.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedDocuments.add(e),zt.resolve()},t.prototype.removeMutationReference=function(t,e){return this.orphanedDocuments.add(e),zt.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.orphanedDocuments.add(t)})}).next(function(){return r.removeQueryData(t,e)})},t.prototype.onTransactionStarted=function(){this._orphanedDocuments=new Set},t.prototype.onTransactionCommitted=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return zt.forEach(this.orphanedDocuments,function(r){return e.isReferenced(t,r).next(function(t){t||n.removeEntry(r)})}).next(function(){return e._orphanedDocuments=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.isReferenced(t,e).next(function(t){t?n.orphanedDocuments.delete(e):n.orphanedDocuments.add(e)})},t.prototype.documentSize=function(t){return 0},t.prototype.isReferenced=function(t,e){var n=this;return zt.or([function(){return n.persistence.getQueryCache().containsKey(t,e)},function(){return n.persistence.mutationQueuesContainKey(t,e)},function(){return zt.resolve(n.inMemoryPins.containsKey(e))}])},t}(),Zn=function(){function t(t,e,n){this.persistence=t,this.serializer=e,this.inMemoryPins=null,this.orphanedSequenceNumbers=new He(function(t){return vt(t.path)}),this.garbageCollector=new Nn(this,n)}return t.prototype.onTransactionStarted=function(){},t.prototype.onTransactionCommitted=function(t){return zt.resolve()},t.prototype.forEachTarget=function(t,e){return this.persistence.getQueryCache().forEachTarget(t,e)},t.prototype.getSequenceNumberCount=function(t){var e=this.orphanedDocumentCount(t);return this.persistence.getQueryCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.orphanedDocumentCount=function(t){var e=0;return this.forEachOrphanedDocumentSequenceNumber(t,function(t){e++}).next(function(){return e})},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){var n=this;return zt.forEach(this.orphanedSequenceNumbers,function(r,i){return n.isPinned(t,r,i).next(function(t){return t?zt.resolve():e(i)})})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.removeTargets=function(t,e,n){return this.persistence.getQueryCache().removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.forEachDocumentKey(t,function(i){return n.isPinned(t,i,e).next(function(t){t||(r++,o.removeEntry(i))})}).next(function(){return o.apply(t)}).next(function(){return r})},t.prototype.removeMutationReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),zt.resolve()},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getQueryCache().updateQueryData(t,n)},t.prototype.addReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),zt.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),zt.resolve()},t.prototype.updateLimboDocument=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),zt.resolve()},t.prototype.documentSize=function(t){var e,n=this.serializer.toDbRemoteDocument(t);if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw y("Unknown remote document type");e=n.noDocument}return JSON.stringify(e).length},t.prototype.isPinned=function(t,e,n){var r=this;return zt.or([function(){return r.persistence.mutationQueuesContainKey(t,e)},function(){return zt.resolve(r.inMemoryPins.containsKey(e))},function(){return r.persistence.getQueryCache().containsKey(t,e)},function(){var t=r.orphanedSequenceNumbers.get(e);return zt.resolve(void 0!==t&&t>n)}])},t.prototype.getCacheSize=function(t){return this.persistence.getRemoteDocumentCache().getSize(t)},t}(),tr=Number,er=tr.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),nr=tr.MAX_SAFE_INTEGER||Math.pow(2,53)-1,rr=tr.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t};function ir(t){return null==t}function or(t){return rr(t)&&t<=nr&&t>=er}var sr=1e3,ar=1.5,lr=6e4,ur=function(){function t(t,e,n,r,i){void 0===n&&(n=sr),void 0===r&&(r=ar),void 0===i&&(i=lr),this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.currentBaseMs=0,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){var e=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);this.currentBaseMs>0&&f("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,function(){return e.lastAttemptTime=Date.now(),t()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}(),cr=function(t){return t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff",t}({}),hr=function(){function t(t,e,n,r,i,o){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=cr.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new ur(t,e)}return t.prototype.isStarted=function(){return this.state===cr.Starting||this.state===cr.Open||this.state===cr.Backoff},t.prototype.isOpen=function(){return this.state===cr.Open},t.prototype.start=function(){this.state!==cr.Error?(v(this.state===cr.Initial,"Already started"),this.auth()):this.performBackoff()},t.prototype.stop=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.isStarted()?[4,this.close(cr.Initial)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.inhibitBackoff=function(){v(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=cr.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return t.handleIdleCloseTimer()}))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return this.isOpen()?[2,this.close(cr.Initial)]:[2]})})},t.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},t.prototype.close=function(t,e){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(n){switch(n.label){case 0:return v(this.isStarted(),"Only started streams should be closed."),v(t===cr.Error||ir(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==cr.Error?this.backoff.reset():e&&e.code===w.RESOURCE_EXHAUSTED?(g(e.toString()),g("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===w.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return n.sent(),[2]}})})},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;v(this.state===cr.Initial,"Must be in initial state to auth"),this.state=cr.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(e){t.closeCount===n&&t.startStream(e)},function(n){e(function(){var e=new C(w.UNKNOWN,"Fetching auth token failed: "+n.message);return t.handleStreamClose(e)})})},t.prototype.startStream=function(t){var e=this;v(this.state===cr.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen(function(){n(function(){return v(e.state===cr.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=cr.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.performBackoff=function(){var t=this;v(this.state===cr.Error,"Should only perform backoff when in Error state"),this.state=cr.Backoff,this.backoff.backoffAndRun(function(){return s.__awaiter(t,void 0,void 0,function(){return s.__generator(this,function(t){return v(this.state===cr.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=cr.Initial,this.start(),v(this.isStarted(),"PersistentStream should have started"),[2]})})})},t.prototype.handleStreamClose=function(t){return v(this.isStarted(),"Can't handle server close on non-started stream"),f("PersistentStream","close with error: "+t),this.stream=null,this.close(cr.Error,t)},t.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(n){e.queue.enqueueAndForget(function(){return e.closeCount===t?n():(f("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),dr=function(t){function e(e,n,r,i,o){var s=t.call(this,e,ht.ListenStreamConnectionBackoff,ht.ListenStreamIdle,n,r,o)||this;return s.serializer=i,s}return s.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(hr),pr=function(t){function e(e,n,r,i,o){var s=t.call(this,e,ht.WriteStreamConnectionBackoff,ht.WriteStreamIdle,n,r,o)||this;return s.serializer=i,s.handshakeComplete_=!1,s.lastStreamToken=_(),s}return s.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(v(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return v(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){v(this.isOpen(),"Writing handshake requires an opened stream"),v(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;v(this.isOpen(),"Writing mutations requires an opened stream"),v(this.handshakeComplete_,"Handshake must be complete before writing mutations"),v(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}(hr),fr=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.newPersistentWriteStream=function(t){return new pr(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.newPersistentWatchStream=function(t){return new dr(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("Commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults,t.commitTime)})},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=Pt();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var i=[];return t.forEach(function(t){var e=r.get(t);v(!!e,"Missing entity in write response for "+t),i.push(e)}),i})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(t,e,r)}).catch(function(t){throw t.code===w.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(t,e,r)}).catch(function(t){throw t.code===w.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t}(),gr=function(){function t(t){this.datastore=t,this.readVersions=Lt(),this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n=this;return s.__generator(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new C(w.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,this.datastore.lookup(t)];case 1:return(e=r.sent()).forEach(function(t){t instanceof ze||t instanceof qe?n.recordVersion(t):y("Document in a transaction was a "+t.constructor.name)}),[2,e]}})})},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t))),this.writtenDocs.add(t)},t.prototype.update=function(t,e){try{this.write(e.toMutations(t,this.preconditionForUpdate(t)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(t)},t.prototype.delete=function(t){this.write([new Ce(t,this.precondition(t))]),this.writtenDocs.add(t)},t.prototype.commit=function(){return s.__awaiter(this,void 0,void 0,function(){var t;return s.__generator(this,function(e){switch(e.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;if(t=this.readVersions,this.mutations.forEach(function(e){t=t.remove(e.key)}),!t.isEmpty())throw new C(w.INVALID_ARGUMENT,"Every document read in a transaction must also be written.");return[4,this.datastore.commit(this.mutations)];case 1:return e.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t instanceof qe)e=t.version;else{if(!(t instanceof ze))throw y("Document in a transaction was a "+t.constructor.name);e=St.forDeletedDoc()}var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new C(w.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return!this.writtenDocs.has(t)&&e?ye.updateTime(e):ye.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(!this.writtenDocs.has(t)&&e){if(e.isEqual(St.forDeletedDoc()))throw new C(w.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ye.updateTime(e)}return ye.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations=this.mutations.concat(t)},t.prototype.ensureCommitNotCalled=function(){v(!this.committed,"A transaction object cannot be used after its update callback has been invoked.")},t}(),mr=function(t){return t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline",t}({}),yr=function(t){return t[t.RemoteStore=0]="RemoteStore",t[t.SharedClientState=1]="SharedClientState",t}({}),vr=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=mr.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(mr.Unknown),v(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(ht.OnlineStateTimeout,1e4,function(){return t.onlineStateTimer=null,v(t.state===mr.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast(mr.Offline),Promise.resolve()}))},t.prototype.handleWatchStreamFailure=function(t){this.state===mr.Online?(this.setAndBroadcast(mr.Unknown),v(0===this.watchStreamFailures,"watchStreamFailures must be 0"),v(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+t.toString()),this.setAndBroadcast(mr.Offline)))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===mr.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(g(e),this.shouldWarnClientIsOffline=!1):f("OnlineStateTracker",e)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),br=function(t){return t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS",t}({});function _r(t){switch(t){case w.OK:return y("Treated status OK as error");case w.CANCELLED:case w.UNKNOWN:case w.DEADLINE_EXCEEDED:case w.RESOURCE_EXHAUSTED:case w.INTERNAL:case w.UNAVAILABLE:case w.UNAUTHENTICATED:return!1;case w.INVALID_ARGUMENT:case w.NOT_FOUND:case w.ALREADY_EXISTS:case w.PERMISSION_DENIED:case w.FAILED_PRECONDITION:case w.ABORTED:case w.OUT_OF_RANGE:case w.UNIMPLEMENTED:case w.DATA_LOSS:return!0;default:return y("Unknown status code: "+t)}}function wr(t){if(void 0===t)return g("GRPC error has no .code"),w.UNKNOWN;switch(t){case br.OK:return w.OK;case br.CANCELLED:return w.CANCELLED;case br.UNKNOWN:return w.UNKNOWN;case br.DEADLINE_EXCEEDED:return w.DEADLINE_EXCEEDED;case br.RESOURCE_EXHAUSTED:return w.RESOURCE_EXHAUSTED;case br.INTERNAL:return w.INTERNAL;case br.UNAVAILABLE:return w.UNAVAILABLE;case br.UNAUTHENTICATED:return w.UNAUTHENTICATED;case br.INVALID_ARGUMENT:return w.INVALID_ARGUMENT;case br.NOT_FOUND:return w.NOT_FOUND;case br.ALREADY_EXISTS:return w.ALREADY_EXISTS;case br.PERMISSION_DENIED:return w.PERMISSION_DENIED;case br.FAILED_PRECONDITION:return w.FAILED_PRECONDITION;case br.ABORTED:return w.ABORTED;case br.OUT_OF_RANGE:return w.OUT_OF_RANGE;case br.UNIMPLEMENTED:return w.UNIMPLEMENTED;case br.DATA_LOSS:return w.DATA_LOSS;default:return y("Unknown status code: "+t)}}function Cr(t){if(void 0===t)return br.OK;switch(t){case w.OK:return br.OK;case w.CANCELLED:return br.CANCELLED;case w.UNKNOWN:return br.UNKNOWN;case w.DEADLINE_EXCEEDED:return br.DEADLINE_EXCEEDED;case w.RESOURCE_EXHAUSTED:return br.RESOURCE_EXHAUSTED;case w.INTERNAL:return br.INTERNAL;case w.UNAVAILABLE:return br.UNAVAILABLE;case w.UNAUTHENTICATED:return br.UNAUTHENTICATED;case w.INVALID_ARGUMENT:return br.INVALID_ARGUMENT;case w.NOT_FOUND:return br.NOT_FOUND;case w.ALREADY_EXISTS:return br.ALREADY_EXISTS;case w.PERMISSION_DENIED:return br.PERMISSION_DENIED;case w.FAILED_PRECONDITION:return br.FAILED_PRECONDITION;case w.ABORTED:return br.ABORTED;case w.OUT_OF_RANGE:return br.OUT_OF_RANGE;case w.UNIMPLEMENTED:return br.UNIMPLEMENTED;case w.DATA_LOSS:return br.DATA_LOSS;default:return y("Unknown status code: "+t)}}var Sr=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ut.comparator(e.key,n.key)}:function(t,e){return ut.comparator(t.key,e.key)},this.keyedMap=Rt(),this.sortedSet=new Et(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),Er=function(t){return t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata",t}({}),Tr=function(t){return t[t.Local=0]="Local",t[t.Synced=1]="Synced",t}({}),Ir=function(){function t(){this.changeMap=new Et(ut.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);n?t.type!==Er.Added&&n.type===Er.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===Er.Metadata&&n.type!==Er.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===Er.Modified&&n.type===Er.Modified?this.changeMap=this.changeMap.insert(e,{type:Er.Modified,doc:t.doc}):t.type===Er.Modified&&n.type===Er.Added?this.changeMap=this.changeMap.insert(e,{type:Er.Added,doc:t.doc}):t.type===Er.Removed&&n.type===Er.Added?this.changeMap=this.changeMap.remove(e):t.type===Er.Removed&&n.type===Er.Modified?this.changeMap=this.changeMap.insert(e,{type:Er.Removed,doc:n.doc}):t.type===Er.Added&&n.type===Er.Removed?this.changeMap=this.changeMap.insert(e,{type:Er.Modified,doc:t.doc}):y("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(e,t)},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),kr=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:Er.Added,doc:t})}),new t(e,n,Sr.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&this.query.isEqual(t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),xr=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r,i=((r={})[e]=Or.createSynthesizedTargetChangeForCurrentChange(e,n),r);return new t(St.MIN,i,Ut(),Pt(),Ft())},t}(),Or=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(_(),n,Ft(),Ft(),Ft())},t}(),Ar=function(){return function(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r}}(),Pr=function(){return function(t,e){this.targetId=t,this.existenceFilter=e}}(),Nr=function(t){return t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset",t}({}),Dr=function(){return function(t,e,n,r){void 0===n&&(n=_()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}(),Rr=function(){function t(){this.pendingResponses=0,this.documentChanges=Vr(),this._resumeToken=_(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),t.prototype.updateResumeToken=function(t){t.length>0&&(this._hasPendingChanges=!0,this._resumeToken=t)},t.prototype.toTargetChange=function(){var t=Ft(),e=Ft(),n=Ft();return this.documentChanges.forEach(function(r,i){switch(i){case Er.Added:t=t.add(r);break;case Er.Modified:e=e.add(r);break;case Er.Removed:n=n.add(r);break;default:y("Encountered invalid change type: "+i)}}),new Or(this._resumeToken,this._current,t,e,n)},t.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Vr()},t.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},t.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},t.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},t.prototype.recordTargetResponse=function(){this.pendingResponses-=1},t.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},t}(),Mr=function(){function t(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=Pt(),this.pendingDocumentTargetMapping=Lr(),this.pendingTargetResets=new xt(Q)}return t.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var r=n[e];t.newDoc instanceof qe?this.addDocumentToTarget(r,t.newDoc):t.newDoc instanceof ze&&this.removeDocumentFromTarget(r,t.key,t.newDoc)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.removeDocumentFromTarget(r=o[i],t.key,t.newDoc)},t.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ensureTargetState(n);switch(t.state){case Nr.NoChange:e.isActiveTarget(n)&&r.updateResumeToken(t.resumeToken);break;case Nr.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(t.resumeToken);break;case Nr.Removed:r.recordTargetResponse(),r.isPending||e.removeTarget(n),v(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case Nr.Current:e.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(t.resumeToken));break;case Nr.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),r.updateResumeToken(t.resumeToken));break;default:y("Unknown target watch change state: "+t.state)}})},t.prototype.forEachTarget=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):I(this.targetStates,e)},t.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,r=this.queryDataForActiveTarget(e);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new ut(i.path);this.removeDocumentFromTarget(e,o,new ze(o,St.forDeletedDoc()))}else v(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}},t.prototype.createRemoteEvent=function(t){var e=this,n={};I(this.targetStates,function(r,i){var o=e.queryDataForActiveTarget(r);if(o){if(i.current&&o.query.isDocumentQuery()){var s=new ut(o.query.path);null!==e.pendingDocumentUpdates.get(s)||e.targetContainsDocument(r,s)||e.removeDocumentFromTarget(r,s,new ze(s,t))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}});var r=Ft();this.pendingDocumentTargetMapping.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.queryDataForActiveTarget(t);return!n||n.purpose===En.LimboResolution||(i=!1,!1)}),i&&(r=r.add(t))});var i=new xr(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=Pt(),this.pendingDocumentTargetMapping=Lr(),this.pendingTargetResets=new xt(Q),i},t.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?Er.Modified:Er.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},t.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var r=this.ensureTargetState(t);this.targetContainsDocument(t,e)?r.addDocumentChange(e,Er.Removed):r.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},t.prototype.removeTarget=function(t){delete this.targetStates[t]},t.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},t.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new Rr),this.targetStates[t]},t.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new xt(Q),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},t.prototype.isActiveTarget=function(t){var e=null!==this.queryDataForActiveTarget(t);return e||f("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.queryDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getQueryDataForTarget(t)},t.prototype.resetTarget=function(t){var e=this;v(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new Rr,this.metadataProvider.getRemoteKeysForTarget(t).forEach(function(n){e.removeDocumentFromTarget(t,n,null)})},t.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},t}();function Lr(){return new Et(ut.comparator)}function Vr(){return new Et(ut.comparator)}var Fr="RemoteStore",jr=function(){function t(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.connectivityMonitor=i,this.connectivityMonitor.addCallback(function(t){n.enqueueAndForget(function(){return s.__awaiter(o,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(f(Fr,"Restarting streams for network reachability change."),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.onlineStateTracker=new vr(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return s.__awaiter(this,void 0,void 0,function(){var t;return s.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(t=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(mr.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype.disableNetwork=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(mr.Offline),[2]}})})},t.prototype.disableNetworkInternal=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return[4,this.writeStream.stop()];case 1:return t.sent(),[4,this.watchStream.stop()];case 2:return t.sent(),this.writePipeline.length>0&&(f(Fr,"Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},t.prototype.shutdown=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return f(Fr,"RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.connectivityMonitor.shutdown(),this.onlineStateTracker.set(mr.Unknown),[2]}})})},t.prototype.listen=function(t){v(!E(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){v(E(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t),x(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(mr.Unknown))},t.prototype.getQueryDataForTarget=function(t){return this.listenTargets[t]||null},t.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},t.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.startWatchStream=function(){v(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new Mr(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!x(this.listenTargets)},t.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},t.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},t.prototype.onWatchStreamOpen=function(){return s.__awaiter(this,void 0,void 0,function(){var t=this;return s.__generator(this,function(e){return I(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),[2]})})},t.prototype.onWatchStreamClose=function(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){return void 0===t&&v(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(mr.Unknown),[2]})})},t.prototype.onWatchStreamChange=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var n;return s.__generator(this,function(r){switch(r.label){case 0:return this.onlineStateTracker.set(mr.Online),t instanceof Dr&&t.state===Nr.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof Ar?this.watchChangeAggregator.handleDocumentChange(t):t instanceof Pr?this.watchChangeAggregator.handleExistenceFilter(t):(v(t instanceof Dr,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),e.isEqual(St.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),e.compareTo(n)>=0?[4,this.raiseWatchSnapshot(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.raiseWatchSnapshot=function(t){var e=this;v(!t.isEqual(St.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(t);return I(n.targetChanges,function(n,r){if(r.resumeToken.length>0){var i=e.listenTargets[n];i&&(e.listenTargets[n]=i.withResumeToken(r.resumeToken,t))}}),n.targetMismatches.forEach(function(t){var n=e.listenTargets[t];if(n){e.listenTargets[t]=n.withResumeToken(_(),n.snapshotVersion),e.sendUnwatchRequest(t);var r=new Tn(n.query,t,En.ExistenceFilterMismatch,n.sequenceNumber);e.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},t.prototype.handleTargetError=function(t){var e=this;v(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return s.__awaiter(e,void 0,void 0,function(){return s.__generator(this,function(e){return E(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]})})})}),r},t.prototype.fillWritePipeline=function(){return s.__awaiter(this,void 0,void 0,function(){var t;return s.__generator(this,function(e){switch(e.label){case 0:return this.canAddToWritePipeline()?[4,this.localStore.nextMutationBatch(this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:-1)]:[3,4];case 1:return null!==(t=e.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:e.sent(),e.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},t.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},t.prototype.outstandingWrites=function(){return this.writePipeline.length},t.prototype.addToWritePipeline=function(t){v(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},t.prototype.startWriteStream=function(){v(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return this.writeStream.writeHandshake(),[2]})})},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.writePipeline;e<n.length;e++)t.writeStream.writeMutations(n[e].mutations)}).catch(Fn)},t.prototype.onMutationResult=function(t,e){var n=this;v(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=qt.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){return s.__awaiter(this,void 0,void 0,function(){var e=this;return s.__generator(this,function(n){return void 0===t&&v(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),t&&this.writePipeline.length>0?[2,(this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t)).then(function(){e.shouldStartWriteStream()&&e.startWriteStream()})]:[2]})})},t.prototype.handleHandshakeError=function(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){return _r(t.code)?(f(Fr,"RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=_(),[2,this.localStore.setLastStreamToken(_()).catch(Fn)]):[2]})})},t.prototype.handleWriteError=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n=this;return s.__generator(this,function(r){return _r(i=t.code)&&i!==w.ABORTED?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then(function(){return n.fillWritePipeline()})]):[2];var i})})},t.prototype.createTransaction=function(){return new gr(this.datastore)},t.prototype.restartNetwork=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(mr.Unknown),[4,this.enableNetwork()];case 2:return t.sent(),[2]}})})},t.prototype.handleCredentialChange=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(f(Fr,"RemoteStore restarting streams for new credential"),[4,this.restartNetwork()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.applyPrimaryState=function(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.disableNetworkInternal()];case 3:e.sent(),this.onlineStateTracker.set(mr.Unknown),e.label=4;case 4:return[2]}})})},t}(),Ur=function(){function t(t,e){if(A("GeoPoint",arguments,2),D("GeoPoint","number",1,t),D("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new C(w.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new C(w.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return Q(this._lat,t._lat)||Q(this._long,t._long)},t}(),Br=function(){function t(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)this.memoizedOrderBy=t.isKeyField()?[Zr]:[new Xr(t),Zr];else{v(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}n||this.memoizedOrderBy.push((this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:Yr.ASCENDING)===Yr.ASCENDING?Zr:ti)}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){v(null==this.getInequalityFilterField()||!(e instanceof Wr)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),v(!this.isDocumentQuery(),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){v(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,this.collectionGroup,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.collectionGroup,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.asCollectionQueryAtPath=function(e){return new t(e,null,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();this.isCollectionGroupQuery()&&(t+="|cg:"+this.collectionGroup),t+="|f:";for(var e=0,n=this.filters;e<n.length;e++)t+=n[e].canonicalId(),t+=",";t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++)t+=i[r].canonicalId(),t+=",";ir(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.isCollectionGroupQuery()&&(t+=" collectionGroup="+this.collectionGroup),this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),ir(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return this.collectionGroup===t.collectionGroup&&!!this.path.isEqual(t.path)&&!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt)},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],s=o.compare(t,e);if(0!==s)return s;n=n||o.field.isKeyField()}return v(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesPathAndCollectionGroup(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!ir(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Wr&&n.isInequality())return n.field}return null},t.prototype.findFilterOperator=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(r instanceof Wr&&t.indexOf(r.op)>=0)return r.op}return null},t.prototype.isDocumentQuery=function(){return ut.isDocumentKey(this.path)&&null===this.collectionGroup&&0===this.filters.length},t.prototype.isCollectionGroupQuery=function(){return null!==this.collectionGroup},t.prototype.matchesPathAndCollectionGroup=function(t){var e=t.key.path;return null!==this.collectionGroup?t.key.hasCollectionId(this.collectionGroup)&&this.path.isPrefixOf(e):ut.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isImmediateParentOf(e)},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&null===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++)if(!n[e].matches(t))return!1;return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t)||this.endAt&&this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){v(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),qr=function(){return function(){}}(),zr=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;case"in":return t.IN;case"array-contains-any":return t.ARRAY_CONTAINS_ANY;default:return y("Unknown FieldFilter operator: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t.IN=new t("in"),t.ARRAY_CONTAINS_ANY=new t("array-contains-any"),t}(),Wr=function(t){function e(e,n,r){var i=t.call(this)||this;return i.field=e,i.op=n,i.value=r,i}return s.__extends(e,t),e.create=function(t,n,r){if(t.isKeyField())return n===zr.IN?(v(r instanceof Ue,"Comparing on key with IN, but filter value not an ArrayValue"),v(r.internalValue.every(function(t){return t instanceof Ve}),"Comparing on key with IN, but an array value was not a RefValue"),new Kr(t,r)):(v(r instanceof Ve,"Comparing on key, but filter value not a RefValue"),v(n!==zr.ARRAY_CONTAINS&&n!==zr.ARRAY_CONTAINS_ANY,"'"+n.toString()+"' queries don't make sense on document keys."),new Hr(t,n,r));if(r.isEqual(ke.INSTANCE)){if(n!==zr.EQUAL)throw new C(w.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(r.isEqual(Ne.NAN)){if(n!==zr.EQUAL)throw new C(w.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return n===zr.ARRAY_CONTAINS?new Gr(t,r):n===zr.IN?(v(r instanceof Ue,"IN filter has invalid value: "+r.toString()),new Qr(t,r)):n===zr.ARRAY_CONTAINS_ANY?(v(r instanceof Ue,"ARRAY_CONTAINS_ANY filter has invalid value: "+r.toString()),new $r(t,r)):new e(t,n,r)},e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&this.value.typeOrder===e.typeOrder&&this.matchesComparison(e.compareTo(this.value))},e.prototype.matchesComparison=function(t){switch(this.op){case zr.LESS_THAN:return t<0;case zr.LESS_THAN_OR_EQUAL:return t<=0;case zr.EQUAL:return 0===t;case zr.GREATER_THAN:return t>0;case zr.GREATER_THAN_OR_EQUAL:return t>=0;default:return y("Unknown FieldFilter operator: "+this.op)}},e.prototype.isInequality=function(){return[zr.LESS_THAN,zr.LESS_THAN_OR_EQUAL,zr.GREATER_THAN,zr.GREATER_THAN_OR_EQUAL].indexOf(this.op)>=0},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value)},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(qr),Hr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.matches=function(t){var e=ut.comparator(t.key,this.value.key);return this.matchesComparison(e)},e}(Wr),Kr=function(t){function e(e,n){var r=t.call(this,e,zr.IN,n)||this;return r.value=n,r}return s.__extends(e,t),e.prototype.matches=function(t){return this.value.internalValue.some(function(e){return t.key.isEqual(e.key)})},e}(Wr),Gr=function(t){function e(e,n){return t.call(this,e,zr.ARRAY_CONTAINS,n)||this}return s.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return e instanceof Ue&&e.contains(this.value)},e}(Wr),Qr=function(t){function e(e,n){var r=t.call(this,e,zr.IN,n)||this;return r.value=n,r}return s.__extends(e,t),e.prototype.matches=function(t){var e=this.value,n=t.field(this.field);return null!==n&&e.contains(n)},e}(Wr),$r=function(t){function e(e,n){var r=t.call(this,e,zr.ARRAY_CONTAINS_ANY,n)||this;return r.value=n,r}return s.__extends(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return n instanceof Ue&&n.internalValue.some(function(t){return e.value.contains(t)})},e}(Wr),Yr=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),Jr=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++)t+=n[e].toString();return t},t.prototype.sortsBeforeDocument=function(t,e){v(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.isKeyField())v(o instanceof Ve,"Bound has a non-key value where the key path is being used."),n=ut.comparator(o.key,e.key);else{var s=e.field(i.field);v(null!==s,"Field should exist since document matched the orderBy already."),n=o.compareTo(s)}if(i.dir===Yr.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++)if(!this.position[e].isEqual(t.position[e]))return!1;return!0},t}(),Xr=function(){function t(t,e){this.field=t,void 0===e&&(e=Yr.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?qe.compareByKey(t,e):qe.compareByField(this.field,t,e);switch(this.dir){case Yr.ASCENDING:return n;case Yr.DESCENDING:return-1*n;default:return y("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Zr=new Xr(lt.keyField(),Yr.ASCENDING),ti=new Xr(lt.keyField(),Yr.DESCENDING),ei=function(){function t(){}return t.prototype.applyToLocalView=function(t,e){return new Me(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),ni=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=oi(t),n=function(t){e.find(function(e){return e.isEqual(t)})||e.push(t)},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Ue(e)},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&$(e.elements,this.elements)},t}(),ri=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=oi(t),n=function(t){e=e.filter(function(e){return!e.isEqual(t)})},r=0,i=this.elements;r<i.length;r++)n(i[r]);return new Ue(e)},t.prototype.computeBaseValue=function(t){return null},t.prototype.isEqual=function(e){return e instanceof t&&$(e.elements,this.elements)},t}(),ii=function(){function t(t){this.operand=t}return t.prototype.applyToLocalView=function(t,e){var n=this.computeBaseValue(t);return n instanceof Pe&&this.operand instanceof Pe?new Pe(n.internalValue+this.operand.internalValue):new Ne(n.internalValue+this.operand.internalValue)},t.prototype.applyToRemoteDocument=function(t,e){return v(null!==e,"Didn't receive transformResult for NUMERIC_ADD transform"),e},t.prototype.computeBaseValue=function(t){return t instanceof Oe?t:new Pe(0)},t.prototype.isEqual=function(e){return e instanceof t&&this.operand.isEqual(e.operand)},t}();function oi(t){return t instanceof Ue?t.internalValue.slice():[]}var si,ai,li=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}(),ui=((si={})[Yr.ASCENDING.name]="ASCENDING",si[Yr.DESCENDING.name]="DESCENDING",si),ci=((ai={})[zr.LESS_THAN.name]="LESS_THAN",ai[zr.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",ai[zr.GREATER_THAN.name]="GREATER_THAN",ai[zr.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",ai[zr.EQUAL.name]="EQUAL",ai[zr.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",ai[zr.IN.name]="IN",ai[zr.ARRAY_CONTAINS_ANY.name]="ARRAY_CONTAINS_ANY",ai),hi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function di(t,e){v(!ir(t),e+" is missing")}function pi(t){return"number"==typeof t?t:"string"==typeof t?Number(t):y("can't parse "+t)}var fi=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?w.UNKNOWN:wr(t.code);return new C(e,t.message||"")},t.prototype.toInt32Value=function(t){return ir(t)?void 0:{value:t}},t.prototype.fromInt32Value=function(t){var e;return ir(e="object"==typeof t?t.value:t)?null:e},t.prototype.toTimestamp=function(t){return{seconds:""+t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if("string"==typeof t)return this.fromIso8601String(t);v(!!t,"Cannot deserialize null or undefined timestamp.");var e=pi(t.seconds||"0");return new Ct(e,t.nanos||0)},t.prototype.fromIso8601String=function(t){var e=0,n=hi.exec(t);if(v(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t),o=Math.floor(i.getTime()/1e3);return new Ct(o,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"==typeof t?(v(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Z.fromBase64String(t)):(v(!this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),Z.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return v(!!t,"Trying to deserialize version that isn't set"),St.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=st.fromString(t);return v(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return v(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),v(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new ut(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?st.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new st(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new st(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return v(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof ke)return{nullValue:"NULL_VALUE"};if(t instanceof xe)return{booleanValue:t.value()};if(t instanceof Pe)return{integerValue:""+t.value()};if(t instanceof Ne){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof De?{stringValue:t.value()}:t instanceof je?{mapValue:this.toMapValue(t)}:t instanceof Ue?{arrayValue:this.toArrayValue(t)}:t instanceof Re?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof Fe?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof Le?{bytesValue:this.toBytes(t.value())}:t instanceof Ve?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:y("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this;if("nullValue"in t)return ke.INSTANCE;if("booleanValue"in t)return xe.of(t.booleanValue);if("integerValue"in t)return new Pe(pi(t.integerValue));if("doubleValue"in t){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return Ne.NAN;if("Infinity"===t.doubleValue)return Ne.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return Ne.NEGATIVE_INFINITY}return new Ne(t.doubleValue)}if("stringValue"in t)return new De(t.stringValue);if("mapValue"in t)return this.fromFields(t.mapValue.fields||{});if("arrayValue"in t)return di(t.arrayValue,"arrayValue"),new Ue((t.arrayValue.values||[]).map(function(t){return e.fromValue(t)}));if("timestampValue"in t)return di(t.timestampValue,"timestampValue"),new Re(this.fromTimestamp(t.timestampValue));if("geoPointValue"in t)return di(t.geoPointValue,"geoPointValue"),new Fe(new Ur(t.geoPointValue.latitude||0,t.geoPointValue.longitude||0));if("bytesValue"in t){di(t.bytesValue,"bytesValue");var n=this.fromBlob(t.bytesValue);return new Le(n)}if("referenceValue"in t){di(t.referenceValue,"referenceValue");var r=this.fromResourceName(t.referenceValue),i=new rt(r.get(1),r.get(3)),o=new ut(this.extractLocalPathFromResourceName(r));return new Ve(i,o)}return y("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return v(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data()),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t,e){var n=this,r=this.fromName(t.name),i=this.fromVersion(t.updateTime);return new qe(r,i,{hasCommittedMutations:!!e},void 0,t,function(t){return n.fromValue(t)})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(t){var e=this,n=je.EMPTY;return k(t,function(t,r){n=n.set(new lt([t]),e.fromValue(r))}),n},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){var e=this;v(!!t.found,"Tried to deserialize a found document from a missing document."),di(t.found.name,"doc.found.name"),di(t.found.updateTime,"doc.found.updateTime");var n=this.fromName(t.found.name),r=this.fromVersion(t.found.updateTime);return new qe(n,r,{},void 0,t.found,function(t){return e.fromValue(t)})},t.prototype.fromMissing=function(t){v(!!t.missing,"Tried to deserialize a missing document from a found document."),v(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new ze(e,n)},t.prototype.fromMaybeDocument=function(t){return"found"in t?this.fromFound(t):"missing"in t?this.fromMissing(t):y("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case Nr.Added:return"ADD";case Nr.Current:return"CURRENT";case Nr.NoChange:return"NO_CHANGE";case Nr.Removed:return"REMOVE";case Nr.Reset:return"RESET";default:return y("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof Pr)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof Ar){var e;if(t.newDoc instanceof qe)return{documentChange:{document:{name:this.toName((e=t.newDoc).key),fields:this.toFields(e.data()),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}};if(t.newDoc instanceof ze)return{documentDelete:{document:this.toName((e=t.newDoc).key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}};if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof Dr){var n=void 0;return t.cause&&(n={code:Cr(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return y("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=this;if("targetChange"in t){di(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=t.targetChange.resumeToken||this.emptyByteString(),s=t.targetChange.cause,a=s&&this.fromRpcStatus(s);e=new Dr(r,i,o,a||null)}else if("documentChange"in t){di(t.documentChange,"documentChange"),di(t.documentChange.document,"documentChange.name"),di(t.documentChange.document.name,"documentChange.document.name"),di(t.documentChange.document.updateTime,"documentChange.document.updateTime");var l=t.documentChange,u=this.fromName(l.document.name),c=this.fromVersion(l.document.updateTime),h=new qe(u,c,{},void 0,l.document,function(t){return n.fromValue(t)});e=new Ar(l.targetIds||[],l.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){di(t.documentDelete,"documentDelete"),di(t.documentDelete.document,"documentDelete.document");var d=t.documentDelete;u=this.fromName(d.document),c=d.readTime?this.fromVersion(d.readTime):St.forDeletedDoc(),h=new ze(u,c),e=new Ar([],d.removedTargetIds||[],h.key,h)}else if("documentRemove"in t){di(t.documentRemove,"documentRemove"),di(t.documentRemove.document,"documentRemove");var p=t.documentRemove;u=this.fromName(p.document),e=new Ar([],p.removedTargetIds||[],u,null)}else{if(!("filter"in t))return y("Unknown change type "+JSON.stringify(t));di(t.filter,"filter"),di(t.filter.targetId,"filter.targetId");var f=t.filter,g=new li(f.count||0);e=new Pr(f.targetId,g)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?Nr.NoChange:"ADD"===t?Nr.Added:"REMOVE"===t?Nr.Removed:"CURRENT"===t?Nr.Current:"RESET"===t?Nr.Reset:y("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!("targetChange"in t))return St.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?St.MIN:e.readTime?this.fromVersion(e.readTime):St.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof be)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof Ce)e={delete:this.toName(t.key)};else if(t instanceof _e)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof we))return y("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):ye.NONE;if(t.update){di(t.update.name,"name");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new _e(r,i,o,n)}return new be(r,i,n)}if(t.delete)return r=this.fromName(t.delete),new Ce(r,n);if(t.transform){r=this.fromName(t.transform.document);var s=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return v(!0===n.exists,'Transforms only support precondition "exists == true"'),new we(r,s)}return y("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return v(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:y("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?ye.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?ye.exists(t.exists):ye.NONE},t.prototype.fromWriteResult=function(t,e){var n=this,r=this.fromVersion(t.updateTime?t.updateTime:e),i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults.map(function(t){return n.fromValue(t)})),new ge(r,i)},t.prototype.fromWriteResults=function(t,e){var n=this;return t&&t.length>0?(v(void 0!==e,"Received a write result without a commit time"),t.map(function(t){return n.fromWriteResult(t,e)})):[]},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;if(n instanceof ei)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ni)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof ri)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof ii)return{fieldPath:t.field.canonicalString(),increment:this.toValue(n.operand)};throw y("Unknown transform: "+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=null;if("setToServerValue"in t)v("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),n=ei.instance;else if("appendMissingElements"in t)n=new ni((t.appendMissingElements.values||[]).map(function(t){return e.fromValue(t)}));else if("removeAllFromArray"in t)n=new ri((t.removeAllFromArray.values||[]).map(function(t){return e.fromValue(t)}));else if("increment"in t){var r=this.fromValue(t.increment);v(r instanceof Oe,"NUMERIC_ADD transform requires a NumberValue"),n=new ii(r)}else y("Unknown transform proto: "+JSON.stringify(t));var i=lt.fromServerFormat(t.fieldPath);return new fe(i,n)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;return v(1===e,"DocumentsTarget contained other than 1 document: "+e),Br.atPath(this.fromQueryPath(t.documents[0]))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}},n=t.path;null!==t.collectionGroup?(v(n.length%2==0,"Collection Group queries should be within a document path or root."),e.parent=this.toQueryPath(n),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(v(n.length%2!=0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]);var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.toInt32Value(t.limit);return void 0!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){v(1===r,"StructuredQuery.from with more than one collection is not supported.");var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=this.fromFilter(n.where));var a=[];n.orderBy&&(a=this.fromOrder(n.orderBy));var l=null;n.limit&&(l=this.fromInt32Value(n.limit));var u=null;n.startAt&&(u=this.fromCursor(n.startAt));var c=null;return n.endAt&&(c=this.fromCursor(n.endAt)),new Br(e,i,a,s,l,u,c)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case En.Listen:return null;case En.ExistenceFilterMismatch:return"existence-filter-mismatch";case En.LimboResolution:return"limbo-document";default:return y("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return(e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof Wr?e.toUnaryOrFieldFilter(t):y("Unrecognized filter: "+JSON.stringify(t))});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromFieldFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):y("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new Jr(r,n)},t.prototype.toDirection=function(t){return ui[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return Yr.ASCENDING;case"DESCENDING":return Yr.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return ci[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return zr.EQUAL;case"GREATER_THAN":return zr.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return zr.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return zr.LESS_THAN;case"LESS_THAN_OR_EQUAL":return zr.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return zr.ARRAY_CONTAINS;case"IN":return zr.IN;case"ARRAY_CONTAINS_ANY":return zr.ARRAY_CONTAINS_ANY;case"OPERATOR_UNSPECIFIED":return y("Unspecified operator");default:return y("Unknown operator")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return lt.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new Xr(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.fromFieldFilter=function(t){return Wr.create(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryOrFieldFilter=function(t){if(t.op===zr.EQUAL){if(t.value.isEqual(Ne.NAN))return{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}};if(t.value.isEqual(ke.INSTANCE))return{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}}return{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return Wr.create(e,zr.EQUAL,Ne.NAN);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return Wr.create(n,zr.EQUAL,ke.INSTANCE);case"OPERATOR_UNSPECIFIED":return y("Unspecified filter");default:return y("Unknown filter")}},t.prototype.toDocumentMask=function(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}},t.prototype.fromDocumentMask=function(t){var e=(t.fieldPaths||[]).map(function(t){return lt.fromServerFormat(t)});return pe.fromArray(e)},t}(),gi=function(){return function(){this.viewSnap=null,this.targetId=0,this.listeners=[]}}(),mi=function(){function t(t){this.syncEngine=t,this.queries=new He(function(t){return t.canonicalId()}),this.onlineState=mr.Unknown,this.snapshotsInSyncListeners=new Set,this.syncEngine.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new gi,this.queries.set(e,r)),r.listeners.push(t),v(!t.applyOnlineStateChange(this.onlineState),"applyOnlineStateChange() shouldn't raise an event for brand-new listeners."),r.viewSnap&&t.onViewSnapshot(r.viewSnap)&&this.raiseSnapshotsInSyncEvent(),n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return s.__generator(this,function(o){return n=!1,(r=this.queries.get(e=t.query))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},t.prototype.onWatchChange=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=this.queries.get(i.query);if(o){for(var s=0,a=o.listeners;s<a.length;s++)a[s].onViewSnapshot(i)&&(e=!0);o.viewSnap=i}}e&&this.raiseSnapshotsInSyncEvent()},t.prototype.onWatchError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.queries.delete(t)},t.prototype.onOnlineStateChange=function(t){this.onlineState=t;var e=!1;this.queries.forEach(function(n,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].applyOnlineStateChange(t)&&(e=!0)}),e&&this.raiseSnapshotsInSyncEvent()},t.prototype.addSnapshotsInSyncListener=function(t){this.snapshotsInSyncListeners.add(t),t.next()},t.prototype.removeSnapshotsInSyncListener=function(t){this.snapshotsInSyncListeners.delete(t)},t.prototype.raiseSnapshotsInSyncEvent=function(){this.snapshotsInSyncListeners.forEach(function(t){t.next()})},t}(),yi=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.snap=null,this.onlineState=mr.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(v(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==Er.Metadata&&e.push(i)}t=new kr(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.raisedInitialEvent?this.shouldRaiseEvent(t)&&(this.queryObserver.next(t),o=!0):this.shouldRaiseInitialEvent(t,this.onlineState)&&(this.raiseInitialEvent(t),o=!0),this.snap=t,o},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t;var e=!1;return this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&(this.raiseInitialEvent(this.snap),e=!0),e},t.prototype.shouldRaiseInitialEvent=function(t,e){return v(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache||(this.options.waitForSyncWhenOnline&&e!==mr.Offline?(v(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===mr.Offline)},t.prototype.shouldRaiseEvent=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(t){v(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t=kr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(t)},t}(),vi=function(){function t(t,e,n){this.targetId=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e,n){for(var r=Ft(),i=Ft(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case Er.Added:r=r.add(a.doc.key);break;case Er.Removed:i=i.add(a.doc.key)}}return new t(e,r,i)},t}(),bi=function(){return function(t){this.key=t}}(),_i=function(){return function(t){this.key=t}}(),wi=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=Ft(),this.mutatedKeys=Ft(),this.documentSet=new Sr(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new Ir,i=e?e.documentSet:this.documentSet,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,l=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(t.inorderTraversal(function(t,e){var u=i.get(t),c=e instanceof qe?e:null;c&&(v(t.isEqual(c.key),"Mismatching keys found in document changes: "+t+" != "+c.key),c=n.query.matches(c)?c:null);var h=!!u&&n.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||n.mutatedKeys.has(c.key)&&c.hasCommittedMutations),p=!1;u&&c?u.data().isEqual(c.data())?h!==d&&(r.track({type:Er.Metadata,doc:c}),p=!0):n.shouldWaitForSyncedDocument(u,c)||(r.track({type:Er.Modified,doc:c}),p=!0,l&&n.query.docComparator(c,l)>0&&(a=!0)):!u&&c?(r.track({type:Er.Added,doc:c}),p=!0):u&&!c&&(r.track({type:Er.Removed,doc:u}),p=!0,l&&(a=!0)),p&&(c?(s=s.add(c),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),this.query.hasLimit())for(;s.size>this.query.limit;){var u=s.last();s=s.delete(u.key),o=o.delete(u.key),r.track({type:Er.Removed,doc:u})}return v(!a||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:s,changeSet:r,needsRefill:a,mutatedKeys:o}},t.prototype.shouldWaitForSyncedDocument=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this;v(!t.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var o=t.changeSet.getChanges();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case Er.Added:return 1;case Er.Modified:case Er.Metadata:return 2;case Er.Removed:return 0;default:return y("Unknown ChangeType: "+t)}};return n(t)-n(e)}(t.type,e.type)||r.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(n);var s=e?this.updateLimboDocuments():[],a=0===this.limboDocuments.size&&this.current?Tr.Synced:Tr.Local,l=a!==this.syncState;return this.syncState=a,0!==o.length||l?{snapshot:new kr(this.query,t.documentSet,i,o,t.mutatedKeys,a===Tr.Local,l,!1),limboChanges:s}:{limboChanges:s}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===mr.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Ir,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations},t.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.add(t)}),t.modifiedDocuments.forEach(function(t){return v(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")}),t.removedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)}),this.current=t.current)},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=Ft(),this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var n=[];return e.forEach(function(e){t.limboDocuments.has(e)||n.push(new _i(e))}),this.limboDocuments.forEach(function(t){e.has(t)||n.push(new bi(t))}),n},t.prototype.synchronizeWithPersistedState=function(t,e){this._syncedDocuments=e,this.limboDocuments=Ft();var n=this.computeDocChanges(t);return this.applyChanges(n,!0)},t.prototype.computeInitialSnapshot=function(){return kr.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Tr.Local)},t}(),Ci=5,Si=function(){function t(t,e,n,r){this.asyncQueue=t,this.remoteStore=e,this.updateFunction=n,this.deferred=r,this.retries=Ci,this.backoff=new ur(this.asyncQueue,ht.RetryTransaction)}return t.prototype.run=function(){this.runWithBackOff()},t.prototype.runWithBackOff=function(){var t=this;this.backoff.backoffAndRun(function(){return s.__awaiter(t,void 0,void 0,function(){var t,e,n=this;return s.__generator(this,function(r){return t=this.remoteStore.createTransaction(),(e=this.tryRunUpdateFunction(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.handleTransactionError(t)})})}).catch(function(t){n.handleTransactionError(t)}),[2]})})})},t.prototype.tryRunUpdateFunction=function(t){try{var e=this.updateFunction(t);return!ir(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(g){return this.deferred.reject(g),null}},t.prototype.handleTransactionError=function(t){var e=this;this.retries>0&&this.isRetryableTransactionError(t)?(this.retries-=1,this.asyncQueue.enqueueAndForget(function(){return e.runWithBackOff(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.isRetryableTransactionError=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!_r(e)}return!1},t}(),Ei=function(){return function(t,e,n){this.query=t,this.targetId=e,this.view=n}}(),Ti=function(){return function(t){this.key=t,this.receivedDocument=!1}}(),Ii=function(){function t(t,e,n,r){this.localStore=t,this.remoteStore=e,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new He(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new Et(ut.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new Wn,this.mutationUserCallbacks={},this.pendingWritesCallbacks=new Map,this.limboTargetIdGenerator=Zt.forSyncEngine(),this.isPrimary=void 0,this.onlineState=mr.Unknown}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){v(null!==t,"SyncEngine listener cannot be null"),v(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=t},t.prototype.listen=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o;return s.__generator(this,function(s){switch(s.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(t))?(this.sharedClientState.addLocalQueryTarget(e=r.targetId),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(t)];case 2:return i=s.sent(),o=this.sharedClientState.addLocalQueryTarget(i.targetId),e=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===o)];case 3:n=s.sent(),this.isPrimary&&this.remoteStore.listen(i),s.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,e]}})})},t.prototype.initializeViewAndComputeSnapshot=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var n,r,i,o,a,l,u,c;return s.__generator(this,function(s){switch(s.label){case 0:return[4,this.localStore.executeQuery(n=t.query)];case 1:return r=s.sent(),[4,this.localStore.remoteDocumentKeys(t.targetId)];case 2:return i=s.sent(),o=new wi(n,i),a=o.computeDocChanges(r),l=Or.createSynthesizedTargetChangeForCurrentChange(t.targetId,e&&this.onlineState!==mr.Offline),v(0===(u=o.applyChanges(a,!0===this.isPrimary,l)).limboChanges.length,"View returned limbo docs before target ack from the server."),v(!!u.snapshot,"applyChanges for new view should always return a snapshot"),c=new Ei(n,t.targetId,o),this.queryViewsByQuery.set(n,c),this.queryViewsByTarget[t.targetId]=c,[2,u.snapshot]}})})},t.prototype.synchronizeViewAndComputeSnapshot=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n,r;return s.__generator(this,function(i){switch(i.label){case 0:return[4,this.localStore.executeQuery(t.query)];case 1:return e=i.sent(),[4,this.localStore.remoteDocumentKeys(t.targetId)];case 2:return n=i.sent(),r=t.view.synchronizeWithPersistedState(e,n),this.isPrimary&&this.updateTrackedLimbos(t.targetId,r.limboChanges),[2,r]}})})},t.prototype.unlisten=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n=this;return s.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),v(!!(e=this.queryViewsByQuery.get(t)),"Trying to unlisten on query not found:"+t),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.sharedClientState.isActiveQueryTarget(e.targetId)?[3,2]:[4,this.localStore.releaseQuery(t,!1).then(function(){n.sharedClientState.clearQueryState(e.targetId),n.remoteStore.unlisten(e.targetId),n.removeAndCleanupQuery(e)}).catch(Fn)]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(e),[4,this.localStore.releaseQuery(t,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}})})},t.prototype.write=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var n;return s.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("write()"),[4,this.localStore.localWrite(t)];case 1:return n=r.sent(),this.sharedClientState.addPendingMutation(n.batchId),this.addMutationCallback(n.batchId,e),[4,this.emitNewSnapsAndNotifyLocalStore(n.changes)];case 2:return r.sent(),[4,this.remoteStore.fillWritePipeline()];case 3:return r.sent(),[2]}})})},t.prototype.runTransaction=function(t,e,n){new Si(t,this.remoteStore,e,n).run()},t.prototype.applyRemoteEvent=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n=this;return s.__generator(this,function(r){switch(r.label){case 0:this.assertSubscribed("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.applyRemoteEvent(t)];case 2:return e=r.sent(),k(t.targetChanges,function(t,e){var r=n.limboResolutionsByTarget[Number(t)];r&&(v(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),e.addedDocuments.size>0?r.receivedDocument=!0:e.modifiedDocuments.size>0?v(r.receivedDocument,"Received change for limbo target document without add."):e.removedDocuments.size>0&&(v(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))}),[4,this.emitNewSnapsAndNotifyLocalStore(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,Fn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},t.prototype.applyOnlineStateChange=function(t,e){if(this.isPrimary&&e===yr.RemoteStore||!this.isPrimary&&e===yr.SharedClientState){this.assertSubscribed("applyOnlineStateChange()");var n=[];this.queryViewsByQuery.forEach(function(e,r){var i=r.view.applyOnlineStateChange(t);v(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)}),this.syncEngineListener.onOnlineStateChange(t),this.syncEngineListener.onWatchChange(n),this.onlineState=t,this.isPrimary&&this.sharedClientState.setOnlineState(t)}},t.prototype.rejectListen=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var n,r,i,o,a,l,u=this;return s.__generator(this,function(s){switch(s.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(t,"rejected",e),(r=(n=this.limboResolutionsByTarget[t])&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[t],i=(i=new Et(ut.comparator)).insert(r,new ze(r,St.forDeletedDoc())),o=Ft().add(r),a=new xr(St.MIN,{},new xt(Q),i,o),[2,this.applyRemoteEvent(a)]):[3,1];case 1:return v(!!(l=this.queryViewsByTarget[t]),"Unknown targetId: "+t),[4,this.localStore.releaseQuery(l.query,!1).then(function(){return u.removeAndCleanupQuery(l)}).catch(Fn)];case 2:s.sent(),this.syncEngineListener.onWatchError(l.query,e),s.label=3;case 3:return[2]}})})},t.prototype.applyBatchState=function(t,e,n){return s.__awaiter(this,void 0,void 0,function(){var r;return s.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(t)];case 1:return null===(r=i.sent())?(f("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.processUserCallback(t,n||null),this.localStore.removeCachedMutationBatchMetadata(t)):y("Unknown batchState: "+e),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}})})},t.prototype.applySuccessfulWrite=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n;return s.__generator(this,function(r){switch(r.label){case 0:this.assertSubscribed("applySuccessfulWrite()"),this.processUserCallback(e=t.batch.batchId,null),this.triggerPendingWritesCallbacks(e),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.acknowledgeBatch(t)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(e,"acknowledged"),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,Fn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},t.prototype.rejectFailedWrite=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var n;return s.__generator(this,function(r){switch(r.label){case 0:this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.triggerPendingWritesCallbacks(t),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.localStore.rejectBatch(t)];case 2:return n=r.sent(),this.sharedClientState.updateMutationState(t,"rejected",e),[4,this.emitNewSnapsAndNotifyLocalStore(n)];case 3:return r.sent(),[3,6];case 4:return[4,Fn(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}})})},t.prototype.registerPendingWritesCallback=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n;return s.__generator(this,function(r){switch(r.label){case 0:return this.remoteStore.canUseNetwork()||f("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),[4,this.localStore.getHighestUnacknowledgedBatchId()];case 1:return-1===(e=r.sent())?(t.resolve(),[2]):((n=this.pendingWritesCallbacks.get(e)||[]).push(t),this.pendingWritesCallbacks.set(e,n),[2])}})})},t.prototype.triggerPendingWritesCallbacks=function(t){(this.pendingWritesCallbacks.get(t)||[]).forEach(function(t){t.resolve()}),this.pendingWritesCallbacks.delete(t)},t.prototype.rejectOutstandingPendingWritesCallbacks=function(t){this.pendingWritesCallbacks.forEach(function(e){e.forEach(function(e){e.reject(new C(w.CANCELLED,t))})}),this.pendingWritesCallbacks.clear()},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new Et(Q)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(v(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){var e=this;if(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(t.targetId);this.limboDocumentRefs.removeReferencesForId(t.targetId),n.forEach(function(t){e.limboDocumentRefs.containsKey(t)||e.removeLimboTarget(t)})}},t.prototype.removeLimboTarget=function(t){var e=this.limboTargetsByKey.get(t);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(t),delete this.limboResolutionsByTarget[e])},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof bi?(this.limboDocumentRefs.addReference(i.key,t),this.trackLimboChange(i)):i instanceof _i?(f("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,t),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)):y("Unknown limbo change: "+JSON.stringify(i))}},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){f("SyncEngine","New document in limbo: "+e);var n=this.limboTargetIdGenerator.next(),r=Br.atPath(e.path);this.limboResolutionsByTarget[n]=new Ti(e),this.remoteStore.listen(new Tn(r,n,En.LimboResolution,it.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var n,r,i,o=this;return s.__generator(this,function(s){switch(s.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach(function(s,a){i.push(Promise.resolve().then(function(){var e=a.view.computeDocChanges(t);return e.needsRefill?o.localStore.executeQuery(a.query).then(function(t){return a.view.computeDocChanges(t,e)}):e}).then(function(t){var i=a.view.applyChanges(t,!0===o.isPrimary,e&&e.targetChanges[a.targetId]);if(o.updateTrackedLimbos(a.targetId,i.limboChanges),i.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(a.targetId,i.snapshot.fromCache?"not-current":"current"),n.push(i.snapshot);var s=vi.fromSnapshot(a.targetId,i.snapshot);r.push(s)}}))}),[4,Promise.all(i)];case 1:return s.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return s.sent(),[2]}})})},t.prototype.assertSubscribed=function(t){v(null!==this.syncEngineListener,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleCredentialChange=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n;return s.__generator(this,function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?(this.rejectOutstandingPendingWritesCallbacks("'waitForPendingWrites' promise is rejected due to a user change."),[4,this.localStore.handleUserChange(t)]):[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}})})},t.prototype.applyPrimaryState=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o,a,l=this;return s.__generator(this,function(s){switch(s.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return s.sent(),e=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e.toArray())];case 2:for(n=s.sent(),r=0,i=n;r<i.length;r++)this.remoteStore.listen(i[r]);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,o=[],a=Promise.resolve(),I(this.queryViewsByTarget,function(t,e){l.sharedClientState.isLocalQueryTarget(t)?o.push(t):a=a.then(function(){return l.unlisten(e.query)}),l.remoteStore.unlisten(e.targetId)}),[4,a]);case 4:return s.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(o)];case 5:return s.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:s.sent(),s.label=7;case 7:return[2]}})})},t.prototype.resetLimboDocuments=function(){var t=this;I(this.limboResolutionsByTarget,function(e){t.remoteStore.unlisten(e)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new Et(ut.comparator)},t.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(t){return s.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o,a,l,u,c;return s.__generator(this,function(s){switch(s.label){case 0:e=[],n=[],r=0,i=t,s.label=1;case 1:return r<i.length?(a=void 0,(l=this.queryViewsByTarget[o=i[r]])?[4,this.localStore.releaseQuery(l.query,!0)]:[3,5]):[3,11];case 2:return s.sent(),[4,this.localStore.allocateQuery(l.query)];case 3:return a=s.sent(),[4,this.synchronizeViewAndComputeSnapshot(l)];case 4:return(u=s.sent()).snapshot&&n.push(u.snapshot),[3,9];case 5:return v(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(o)];case 6:return v(!!(c=s.sent()),"Query data for target "+o+" not found"),[4,this.localStore.allocateQuery(c)];case 7:return a=s.sent(),[4,this.initializeViewAndComputeSnapshot(a,!1)];case 8:s.sent(),s.label=9;case 9:e.push(a),s.label=10;case 10:return r++,[3,1];case 11:return this.syncEngineListener.onWatchChange(n),[2,e]}})})},t.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},t.prototype.applyTargetState=function(t,e,n){return s.__awaiter(this,void 0,void 0,function(){var r,i,o,a,l;return s.__generator(this,function(s){switch(s.label){case 0:if(this.isPrimary)return f("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[t])return[3,11];switch(e){case"current":case"not-current":return[3,1];case"rejected":return[3,8]}return[3,10];case 1:return s.trys.push([1,4,,8]),[4,this.localStore.getNewDocumentChanges()];case 2:return r=s.sent(),i=xr.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,this.emitNewSnapsAndNotifyLocalStore(r,i)];case 3:return s.sent(),[3,11];case 4:return(u=o=s.sent()).code!==w.DATA_LOSS||u.message!==Ge?[3,6]:(a=[],I(this.queryViewsByTarget,function(t){return a.push(t)}),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)]);case 5:return s.sent(),[3,7];case 6:throw o;case 7:return[3,8];case 8:return this.removeAndCleanupQuery(l=this.queryViewsByTarget[t]),[4,this.localStore.releaseQuery(l.query,!0)];case 9:return s.sent(),this.syncEngineListener.onWatchError(l.query,n),[3,11];case 10:y("Unexpected target state: "+e),s.label=11;case 11:return[2]}var u})})},t.prototype.applyActiveTargetsChange=function(t,e){return s.__awaiter(this,void 0,void 0,function(){var n,r,i,o,a,l,u,c,h,d=this;return s.__generator(this,function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,p.label=1;case 1:return n<r.length?(v(!this.queryViewsByTarget[h=r[n]],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(h)]):[3,6];case 2:return v(!!(i=p.sent()),"Query data for active target "+h+" not found"),[4,this.localStore.allocateQuery(i)];case 3:return o=p.sent(),[4,this.initializeViewAndComputeSnapshot(o,!1)];case 4:p.sent(),this.remoteStore.listen(o),p.label=5;case 5:return n++,[3,1];case 6:a=function(t){var e;return s.__generator(this,function(n){switch(n.label){case 0:return(e=l.queryViewsByTarget[t])?[4,l.localStore.releaseQuery(e.query,!1).then(function(){d.remoteStore.unlisten(t),d.removeAndCleanupQuery(e)}).catch(Fn)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})},l=this,u=0,c=e,p.label=7;case 7:return u<c.length?[5,a(h=c[u])]:[3,10];case 8:p.sent(),p.label=9;case 9:return u++,[3,7];case 10:return[2]}})})},t.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},t.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},t.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];return e&&e.receivedDocument?Ft().add(e.key):this.queryViewsByTarget[t]?this.queryViewsByTarget[t].view.syncedDocuments:Ft()},t}(),ki=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),xi="SharedClientState",Oi="firestore_clients",Ai="firestore_mutations",Pi="firestore_targets",Ni="firestore_online_state",Di="firestore_sequence_number",Ri=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,v(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new C(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(g(xi,"Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Mi=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,v(void 0!==n==("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new C(r.error.code,r.error.message)),i?new t(e,r.state,o):(g(xi,"Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Li=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.fromWebStorageEntry=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ut(),s=0;i&&s<r.activeTargetIds.length;++s)i=or(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(g(xi,"Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Vi=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.fromWebStorageEntry=function(e){var n=JSON.parse(e);return"object"==typeof n&&n.onlineState in mr&&"string"==typeof n.clientId?new t(n.clientId,mr[n.onlineState]):(g(xi,"Failed to parse online state: "+e),null)},t}(),Fi=function(){function t(){this.activeTargetIds=Ut()}return t.prototype.addQueryTarget=function(t){v(!this.activeTargetIds.has(t),"Target with ID '"+t+"' already active."),this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.removeQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.toWebStorageJSON=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),ji=function(){function t(e,n,r,i,o){if(this.queue=e,this.platform=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!t.isAvailable(this.platform))throw new C(w.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=Di+"_"+r,this.activeClients[this.localClientId]=new Fi,this.clientStateKeyRe=new RegExp("^"+Oi+"_"+s+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Ai+"_"+s+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+Pi+"_"+s+"_(\\d+)$"),this.onlineStateKey=Ni+"_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return t.isAvailable=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return s.__awaiter(this,void 0,void 0,function(){var t,e,n,r,i,o,a,l,u,c,h=this;return s.__generator(this,function(s){switch(s.label){case 0:return v(!this.started,"WebStorageSharedClientState already started"),v(null!==this.syncEngine,"syncEngine property must be set before calling start()"),v(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(t=s.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)))&&(o=Li.fromWebStorageEntry(r,i))&&(this.activeClients[o.clientId]=o);for(this.persistClientState(),(a=this.storage.getItem(this.onlineStateKey))&&(l=this.fromWebStorageOnlineState(a))&&this.handleOnlineStateEvent(l),u=0,c=this.earlyEvents;u<c.length;u++)this.handleWebStorageEvent(c[u]);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return h.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){var t=Ut();return k(this.activeClients,function(e,n){t=t.unionWith(n.activeTargetIds)}),t},t.prototype.isActiveQueryTarget=function(t){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(t))return!0;return!1},t.prototype.addPendingMutation=function(t){this.persistMutationState(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.persistMutationState(t,e,n),this.removeMutationState(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(t));if(n){var r=Mi.fromWebStorageEntry(t,n);r&&(e=r.state)}}return this.localClientState.addQueryTarget(t),this.persistClientState(),e},t.prototype.removeLocalQueryTarget=function(t){this.localClientState.removeQueryTarget(t),this.persistClientState()},t.prototype.isLocalQueryTarget=function(t){return this.localClientState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(this.toWebStorageQueryTargetMetadataKey(t))},t.prototype.updateQueryState=function(t,e,n){this.persistQueryTargetState(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.removeMutationState(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.persistOnlineState(t)},t.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return f(xi,"READ",t,e),e},t.prototype.setItem=function(t,e){f(xi,"SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){f(xi,"REMOVE",t),this.storage.removeItem(t)},t.prototype.handleWebStorageEvent=function(t){var e=this;if(t.storageArea===this.storage){if(f(xi,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey)return void g("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return s.__awaiter(e,void 0,void 0,function(){var e,n,r,i,o,a;return s.__generator(this,function(s){if(!this.started)return this.earlyEvents.push(t),[2];if(null===t.key)return[2];if(this.clientStateKeyRe.test(t.key)){if(null==t.newValue)return n=this.fromWebStorageClientStateKey(t.key),[2,this.handleClientStateEvent(n,null)];if(e=this.fromWebStorageClientState(t.key,t.newValue))return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue&&(r=this.fromWebStorageMutationMetadata(t.key,t.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue&&(i=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(t.key===this.onlineStateKey){if(null!==t.newValue&&(o=this.fromWebStorageOnlineState(t.newValue)))return[2,this.handleOnlineStateEvent(o)]}else t.key===this.sequenceNumberKey&&(v(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(a=function(t){var e=it.INVALID;if(null!=t)try{var n=JSON.parse(t);v("number"==typeof n,"Found non-numeric sequence number"),e=n}catch(r){g(xi,"Failed to read sequence number from WebStorage",r)}return e}(t.newValue))!==it.INVALID&&this.sequenceNumberHandler(a));return[2]})})})}},Object.defineProperty(t.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),t.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},t.prototype.persistMutationState=function(t,e,n){var r=new Ri(this.currentUser,t,e,n),i=this.toWebStorageMutationBatchKey(t);this.setItem(i,r.toWebStorageJSON())},t.prototype.removeMutationState=function(t){var e=this.toWebStorageMutationBatchKey(t);this.removeItem(e)},t.prototype.persistOnlineState=function(t){this.storage.setItem(this.onlineStateKey,JSON.stringify({clientId:this.localClientId,onlineState:mr[t]}))},t.prototype.persistQueryTargetState=function(t,e,n){var r=this.toWebStorageQueryTargetMetadataKey(t),i=new Mi(t,e,n);this.setItem(r,i.toWebStorageJSON())},t.prototype.toWebStorageClientStateKey=function(t){return v(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),Oi+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageQueryTargetMetadataKey=function(t){return Pi+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageMutationBatchKey=function(t){var e=Ai+"_"+this.persistenceKey+"_"+t;return this.currentUser.isAuthenticated()&&(e+="_"+this.currentUser.uid),e},t.prototype.fromWebStorageClientStateKey=function(t){var e=this.clientStateKeyRe.exec(t);return e?e[1]:null},t.prototype.fromWebStorageClientState=function(t,e){var n=this.fromWebStorageClientStateKey(t);return v(null!==n,"Cannot parse client state key '"+t+"'"),Li.fromWebStorageEntry(n,e)},t.prototype.fromWebStorageMutationMetadata=function(t,e){var n=this.mutationBatchKeyRe.exec(t);v(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]);return Ri.fromWebStorageEntry(new ki(void 0!==n[2]?n[2]:null),r,e)},t.prototype.fromWebStorageQueryTargetMetadata=function(t,e){var n=this.queryTargetKeyRe.exec(t);v(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return Mi.fromWebStorageEntry(r,e)},t.prototype.fromWebStorageOnlineState=function(t){return Vi.fromWebStorageEntry(t)},t.prototype.handleMutationBatchEvent=function(t){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(e){return t.user.uid!==this.currentUser.uid?(f(xi,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.syncEngine.applyBatchState(t.batchId,t.state,t.error)]})})},t.prototype.handleQueryTargetEvent=function(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)},t.prototype.handleClientStateEvent=function(t,e){var n=this,r=this.getAllActiveQueryTargets();e?this.activeClients[t]=e:delete this.activeClients[t];var i=this.getAllActiveQueryTargets(),o=[],a=[];return i.forEach(function(t){return s.__awaiter(n,void 0,void 0,function(){return s.__generator(this,function(e){return r.has(t)||o.push(t),[2]})})}),r.forEach(function(t){return s.__awaiter(n,void 0,void 0,function(){return s.__generator(this,function(e){return i.has(t)||a.push(t),[2]})})}),this.syncEngine.applyActiveTargetsChange(o,a)},t.prototype.handleOnlineStateEvent=function(t){this.activeClients[t.clientId]&&this.onlineStateHandler(t.onlineState)},t}(),Ui=function(){function t(){this.localState=new Fi,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.localState.addQueryTarget(t),this.queryState[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.queryState[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.localState.removeQueryTarget(t)},t.prototype.isLocalQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.queryState[t]},t.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.start=function(){return this.localState=new Fi,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t}(),Bi=function(){function t(t,e){this.cacheSizeBytes=t,this.synchronizeTabs=e}return t.prototype.lruParams=function(){return An.withCacheSize(this.cacheSizeBytes)},t}(),qi=function(){return function(){}}(),zi=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r,this.clientId=G.newId()}return t.prototype.start=function(t){var e=this;this.verifyNotTerminated();var n=new ct,r=new ct,i=!1;return this.credentials.setChangeListener(function(o){i?e.asyncQueue.enqueueAndForget(function(){return e.handleCredentialChange(o)}):(i=!0,e.initializePersistence(t,r,o).then(function(t){return e.initializeRest(o,t)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueueAndForget(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return t.syncEngine.enableNetwork()})},t.prototype.initializePersistence=function(t,e,n){var r=this;return t instanceof Bi?this.startIndexedDbPersistence(n,t).then(function(t){return e.resolve(),t}).catch(function(t){if(e.reject(t),!r.canFallback(t))throw t;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+t),r.startMemoryPersistence()}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof C?t.code===w.FAILED_PRECONDITION||t.code===w.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new C(w.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.startIndexedDbPersistence=function(t,e){var n=this,r=Vn.buildStoragePrefix(this.databaseInfo),i=new fi(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return s.__awaiter(n,void 0,void 0,function(){var n,o;return s.__generator(this,function(s){switch(s.label){case 0:if(e.synchronizeTabs&&!ji.isAvailable(this.platform))throw new C(w.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return n=e.lruParams(),this.sharedClientState=e.synchronizeTabs?new ji(this.asyncQueue,this.platform,r,this.clientId,t):new Ui,[4,Vn.createIndexedDbPersistence({allowTabSynchronization:e.synchronizeTabs,persistenceKey:r,clientId:this.clientId,platform:this.platform,queue:this.asyncQueue,serializer:i,lruParams:n,sequenceNumberSyncer:this.sharedClientState})];case 1:return o=s.sent(),this.persistence=o,[2,o.referenceDelegate.garbageCollector]}})})})},t.prototype.startMemoryPersistence=function(){return this.persistence=Yn.createEagerPersistence(this.clientId),this.sharedClientState=new Ui,Promise.resolve(null)},t.prototype.initializeRest=function(t,e){var n=this;return f("FirestoreClient","Initializing. user=",t.uid),this.platform.loadConnection(this.databaseInfo).then(function(r){return s.__awaiter(n,void 0,void 0,function(){var n,i,o,a,l=this;return s.__generator(this,function(u){switch(u.label){case 0:return this.localStore=new Kn(this.persistence,t),e&&(this.lruScheduler=new Pn(e,this.asyncQueue,this.localStore)),n=this.platform.newConnectivityMonitor(),i=this.platform.newSerializer(this.databaseInfo.databaseId),o=new fr(this.asyncQueue,r,this.credentials,i),a=function(t){return l.syncEngine.applyOnlineStateChange(t,yr.SharedClientState)},this.remoteStore=new jr(this.localStore,o,this.asyncQueue,function(t){return l.syncEngine.applyOnlineStateChange(t,yr.RemoteStore)},n),this.syncEngine=new Ii(this.localStore,this.remoteStore,this.sharedClientState,t),this.sharedClientState.onlineStateHandler=a,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new mi(this.syncEngine),[4,this.sharedClientState.start()];case 1:return u.sent(),[4,this.remoteStore.start()];case 2:return u.sent(),[4,this.persistence.setPrimaryStateListener(function(t){return s.__awaiter(l,void 0,void 0,function(){return s.__generator(this,function(e){switch(e.label){case 0:return[4,this.syncEngine.applyPrimaryState(t)];case 1:return e.sent(),this.lruScheduler&&(t&&!this.lruScheduler.started?this.lruScheduler.start():t||this.lruScheduler.stop()),[2]}})})})];case 3:return u.sent(),[4,this.persistence.setDatabaseDeletedListener(function(){return s.__awaiter(l,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}})})})];case 4:return u.sent(),[2]}})})})},t.prototype.handleCredentialChange=function(t){return this.asyncQueue.verifyOperationInProgress(),f("FirestoreClient","Credential Changed. Current user: "+t.uid),this.syncEngine.handleCredentialChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return t.syncEngine.disableNetwork()})},t.prototype.terminate=function(){var t=this;return this.asyncQueue.enqueueAndInitiateShutdown(function(){return s.__awaiter(t,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.lruScheduler&&this.lruScheduler.stop(),[4,this.remoteStore.shutdown()];case 1:return t.sent(),[4,this.sharedClientState.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown()];case 3:return t.sent(),this.credentials.removeChangeListener(),[2]}})})})},t.prototype.waitForPendingWrites=function(){var t=this;this.verifyNotTerminated();var e=new ct;return this.asyncQueue.enqueueAndForget(function(){return t.syncEngine.registerPendingWritesCallback(e)}),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.verifyNotTerminated();var i=new yi(t,e,n);return this.asyncQueue.enqueueAndForget(function(){return r.eventMgr.listen(i)}),i},t.prototype.unlisten=function(t){var e=this;this.clientTerminated||this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.unlisten(t)})},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return e.localStore.readDocument(t)}).then(function(t){if(t instanceof qe)return t;if(t instanceof ze)return null;throw new C(w.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.verifyNotTerminated(),this.asyncQueue.enqueue(function(){return e.localStore.executeQuery(t)}).then(function(e){var n=Ft(),r=new wi(t,n),i=r.computeDocChanges(e);return r.applyChanges(i,!1).snapshot})},t.prototype.write=function(t){var e=this;this.verifyNotTerminated();var n=new ct;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.addSnapshotsInSyncListener=function(t){var e=this;this.verifyNotTerminated(),this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.addSnapshotsInSyncListener(t),Promise.resolve()})},t.prototype.removeSnapshotsInSyncListener=function(t){this.clientTerminated||this.eventMgr.removeSnapshotsInSyncListener(t)},Object.defineProperty(t.prototype,"clientTerminated",{get:function(){return this.asyncQueue.isShuttingDown},enumerable:!0,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.verifyNotTerminated();var n=new ct;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.runTransaction(e.asyncQueue,t,n),Promise.resolve()}),n.promise},t}(),Wi=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Hi=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];!function(e,n,r,i){if(!(t instanceof Array)||t.length<1)throw new C(w.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+K(1,"element")+".")}();for(var n=0;n<t.length;++n)if(D("FieldPath","string",n,t[n]),0===t[n].length)throw new C(w.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw W("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(lt.keyField().canonicalString()),t}(),Ki=new RegExp("[~\\*/\\[\\]]"),Gi=function(){return function(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}}}(),Qi=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){v(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,t(ki.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){v(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},t}(),$i=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.currentUser=ki.UNAUTHENTICATED,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.changeListener&&e.changeListener(e.currentUser)},this.currentUser=this.getUser(),this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(){var t=this;v(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(t.tokenCounter!==e)throw new C(w.ABORTED,"getToken aborted due to token change.");return n?(v("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Gi(n.accessToken,t.currentUser)):null})},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){v(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,t(this.currentUser)},t.prototype.removeChangeListener=function(){v(null!=this.tokenListener,"removeChangeListener() called twice"),v(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},t.prototype.getUser=function(){var t=this.app.INTERNAL.getUid();return v(null===t||"string"==typeof t,"Received invalid UID: "+t),new ki(t)},t}(),Yi=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=ki.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.sessionIndex},e=this.gapi.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!0,configurable:!0}),t}(),Ji=function(){function t(t,e){this.gapi=t,this.sessionIndex=e}return t.prototype.getToken=function(){return Promise.resolve(new Yi(this.gapi,this.sessionIndex))},t.prototype.setChangeListener=function(t){t(ki.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Xi(t){if(!t)return new Qi;switch(t.type){case"gapi":var e=t.client;return v(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty),"unexpected gapi interface"),new Ji(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new C(w.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}function Zi(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var to=function(){function t(t){this._methodName=t}return t.delete=function(){return O("FieldValue.delete",arguments),eo.instance},t.serverTimestamp=function(){return O("FieldValue.serverTimestamp",arguments),no.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return P("FieldValue.arrayUnion",arguments,1),new ro(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return P("FieldValue.arrayRemove",arguments,1),new io(t)},t.increment=function(t){return D("FieldValue.increment","number",1,t),A("FieldValue.increment",arguments,1),new oo(t)},t.prototype.isEqual=function(t){return this===t},t}(),eo=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return s.__extends(e,t),e.instance=new e,e}(to),no=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return s.__extends(e,t),e.instance=new e,e}(to),ro=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n._elements=e,n}return s.__extends(e,t),e}(to),io=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n._elements=e,n}return s.__extends(e,t),e}(to),oo=function(t){function e(e){var n=t.call(this,"FieldValue.increment")||this;return n._operand=e,n}return s.__extends(e,t),e}(to),so=S(to,"Use FieldValue.<field>() instead."),ao=/^__.*__$/,lo=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return n.push(null!==this.fieldMask?new _e(t,this.data,this.fieldMask,e):new be(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new we(t,this.fieldTransforms)),n},t}(),uo=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new _e(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new we(t,this.fieldTransforms)),n},t}(),co=function(t){return t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.Argument=3]="Argument",t}({});function ho(t){switch(t){case co.Set:case co.MergeSet:case co.Update:return!0;case co.Argument:return!1;default:throw y("Unexpected case for UserDataSource: "+t)}}var po=function(){function t(t,e,n,r,i,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new C(w.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(ho(this.dataSource)&&ao.test(t))throw this.createError("Document fields cannot begin and end with __")},t}(),fo=function(){return function(t,e){this.databaseId=t,this.key=e}}(),go=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new po(co.Set,t,lt.EMPTY_PATH);yo("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new lo(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e,n){var r=new po(co.MergeSet,t,lt.EMPTY_PATH);yo("Data must be an object, but it was:",r,e);var i,o,s=this.parseData(e,r);if(n){for(var a=new xt(lt.comparator),l=0,u=n;l<u.length;l++){var c=u[l],h=void 0;if(c instanceof Hi)h=c._internalPath;else{if("string"!=typeof c)throw y("Expected stringOrFieldPath to be a string or a FieldPath");h=bo(t,c)}if(!r.contains(h))throw new C(w.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");a=a.add(h)}i=pe.fromSet(a),o=r.fieldTransforms.filter(function(t){return i.covers(t.field)})}else i=pe.fromArray(r.fieldMask),o=r.fieldTransforms;return new lo(s,i,o)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new po(co.Update,t,lt.EMPTY_PATH);yo("Data must be an object, but it was:",r,e);var i=new xt(lt.comparator),o=je.EMPTY;k(e,function(e,s){var a=bo(t,e),l=r.childContextForFieldPath(a);if((s=n.runPreConverter(s,l))instanceof eo)i=i.add(a);else{var u=n.parseData(s,l);null!=u&&(i=i.add(a),o=o.set(a,u))}});var s=pe.fromSet(i);return new uo(o,s,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var i=new po(co.Update,t,lt.EMPTY_PATH),o=[vo(t,e)],s=[n];if(r.length%2!=0)throw new C(w.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var a=0;a<r.length;a+=2)o.push(vo(t,r[a])),s.push(r[a+1]);var l=new xt(lt.comparator),u=je.EMPTY;for(a=0;a<o.length;++a){var c=o[a],h=i.childContextForFieldPath(c),d=this.runPreConverter(s[a],h);if(d instanceof eo)l=l.add(c);else{var p=this.parseData(d,h);null!=p&&(l=l.add(c),u=u.set(c,p))}}var f=pe.fromSet(l);return new uo(u,f,i.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new po(co.Argument,t,lt.EMPTY_PATH),r=this.parseData(e,n);return v(null!=r,"Parsed data should not be null."),v(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(r){var n=_o(r);throw e.createError(n)}},t.prototype.parseData=function(t,e){if(mo(t=this.runPreConverter(t,e)))return yo("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof to)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},t.prototype.parseObject=function(t,e){var n=this,r=new Et(Q);return x(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):k(t,function(t,i){var o=n.parseData(i,e.childContextForField(t));null!=o&&(r=r.insert(t,o))}),new je(r)},t.prototype.parseArray=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=this.parseData(o[i],e.childContextForArray(r));null==s&&(s=ke.INSTANCE),n.push(s),r++}return new Ue(n)},t.prototype.parseSentinelFieldValue=function(t,e){if(!ho(e.dataSource))throw e.createError(t._methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t._methodName+"() is not currently supported inside arrays");if(t instanceof eo){if(e.dataSource!==co.MergeSet)throw e.dataSource===co.Update?(v(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof no)e.fieldTransforms.push(new fe(e.path,ei.instance));else if(t instanceof ro){var n=this.parseArrayTransformElements(t._methodName,t._elements),r=new ni(n);e.fieldTransforms.push(new fe(e.path,r))}else if(t instanceof io){n=this.parseArrayTransformElements(t._methodName,t._elements);var i=new ri(n);e.fieldTransforms.push(new fe(e.path,i))}else if(t instanceof oo){var o=this.parseQueryValue("FieldValue.increment",t._operand),s=new ii(o);e.fieldTransforms.push(new fe(e.path,s))}else y("Unknown FieldValue type: "+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return ke.INSTANCE;if("number"==typeof t)return or(t)?new Pe(t):new Ne(t);if("boolean"==typeof t)return xe.of(t);if("string"==typeof t)return new De(t);if(t instanceof Date)return new Re(Ct.fromDate(t));if(t instanceof Ct)return new Re(new Ct(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof Ur)return new Fe(t);if(t instanceof Z)return new Le(t);if(t instanceof fo)return new Ve(t.databaseId,t.key);throw e.createError("Unsupported field value: "+B(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map(function(e,r){var i=new po(co.Argument,t,lt.EMPTY_PATH);return n.parseData(e,i.childContextForArray(r))})},t}();function mo(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof Ur||t instanceof Z||t instanceof fo||t instanceof to)}function yo(t,e,n){if(!mo(n)||!U(n)){var r=B(n);throw e.createError("an object"===r?t+" a custom object":t+" "+r)}}function vo(t,e){if(e instanceof Hi)return e._internalPath;if("string"==typeof e)return bo(t,e);throw new C(w.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function bo(t,e){try{return function(t){if(t.search(Ki)>=0)throw new C(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Hi.bind.apply(Hi,[void 0].concat(t.split("."))))}catch(e){throw new C(w.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e)._internalPath}catch(r){var n=_o(r);throw new C(w.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function _o(t){return t instanceof Error?t.message:t.toString()}var wo="firestore.googleapis.com",Co=!0,So=!0,Eo=!1,To=An.COLLECTION_DISABLED,Io=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new C(w.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wo,this.ssl=Co}else M("settings","non-empty string","host",t.host),this.host=t.host,L("settings","boolean","ssl",t.ssl),this.ssl=T(t.ssl,Co);if(z("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling"]),L("settings","object","credentials",t.credentials),this.credentials=t.credentials,L("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),!0===t.timestampsInSnapshots?g("\n  The timestampsInSnapshots setting now defaults to true and you no\n  longer need to explicitly set it. In a future release, the setting\n  will be removed entirely and so it is recommended that you remove it\n  from your firestore.settings() call now."):!1===t.timestampsInSnapshots&&g("\n  The timestampsInSnapshots setting will soon be removed. YOU MUST UPDATE\n  YOUR CODE.\n\n  To hide this warning, stop using the timestampsInSnapshots setting in your\n  firestore.settings({ ... }) call.\n\n  Once you remove the setting, Timestamps stored in Cloud Firestore will be\n  read back as Firebase Timestamp objects instead of as system Date objects.\n  So you will also need to update code expecting a Date to instead expect a\n  Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at'); const date =\n  timestamp.toDate();\n\n  Please audit all existing usages of Date when you enable the new\n  behavior."),this.timestampsInSnapshots=T(t.timestampsInSnapshots,So),L("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=An.DEFAULT_CACHE_SIZE_BYTES;else{if(t.cacheSizeBytes!==To&&t.cacheSizeBytes<An.MINIMUM_CACHE_SIZE_BYTES)throw new C(w.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+An.MINIMUM_CACHE_SIZE_BYTES);this.cacheSizeBytes=t.cacheSizeBytes}L("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=void 0===t.experimentalForceLongPolling?Eo:t.experimentalForceLongPolling}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling},t}(),ko=function(){function t(e){var n=this;if(this._firebaseApp=null,this._queue=new pt,this.INTERNAL={delete:function(){return s.__awaiter(n,void 0,void 0,function(){return s.__generator(this,function(t){switch(t.label){case 0:return this.ensureClientConfigured(),[4,this._firestoreClient.terminate()];case 1:return t.sent(),[2]}})})}},"object"==typeof e.options){var r=e;this._firebaseApp=r,this._databaseId=t.databaseIdFromApp(r),this._persistenceKey=r.name,this._credentials=new $i(r)}else{var i=e;if(!i.projectId)throw new C(w.INVALID_ARGUMENT,"Must provide projectId");this._databaseId=new rt(i.projectId,i.database),this._persistenceKey="[DEFAULT]",this._credentials=new Qi}this._settings=new Io({}),this._dataConverter=this.createDataConverter(this._databaseId)}return t.prototype.settings=function(t){if(A("Firestore.settings",arguments,1),D("Firestore.settings","object",1,t),E(t,"persistence"))throw new C(w.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new Io(t);if(this._firestoreClient&&!this._settings.isEqual(e))throw new C(w.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._settings=e,void 0!==e.credentials&&(this._credentials=Xi(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(t){if(this._firestoreClient)throw new C(w.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var e=!1;return t&&(void 0!==t.experimentalTabSynchronization&&g("The 'experimentalTabSynchronization' setting has been renamed to 'synchronizeTabs'. In a future release, the setting will be removed and it is recommended that you update your firestore.enablePersistence() call to use 'synchronizeTabs'."),e=T(void 0!==t.synchronizeTabs?t.synchronizeTabs:t.experimentalTabSynchronization,!1)),this.configureClient(new Bi(this._settings.cacheSizeBytes,e))},t.prototype.clearPersistence=function(){var t=this,e=Vn.buildStoragePrefix(this.makeDatabaseInfo()),n=new ct;return this._queue.enqueueAndForgetEvenAfterShutdown(function(){return s.__awaiter(t,void 0,void 0,function(){var t;return s.__generator(this,function(r){switch(r.label){case 0:if(r.trys.push([0,2,,3]),void 0!==this._firestoreClient&&!this._firestoreClient.clientTerminated)throw new C(w.FAILED_PRECONDITION,"Persistence cannot be cleared after this Firestore instance is initialized.");return[4,Vn.clearPersistence(e)];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}})})}),n.promise},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"_isTerminated",{get:function(){return this.ensureClientConfigured(),this._firestoreClient.clientTerminated},enumerable:!0,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this.ensureClientConfigured(),this._firestoreClient.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){return this.ensureClientConfigured(),Zi(t)?this.onSnapshotsInSyncInternal(t):(D("Firestore.onSnapshotsInSync","function",1,t),this.onSnapshotsInSyncInternal({next:t}))},t.prototype.onSnapshotsInSyncInternal=function(t){var e=this,n=new Wi({next:function(){t.next&&t.next()},error:function(t){throw y("Uncaught Error in onSnapshotsInSync")}});return this._firestoreClient.addSnapshotsInSyncListener(n),function(){n.mute(),e._firestoreClient.removeSnapshotsInSyncListener(n)}},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new qi),this._firestoreClient},t.prototype.makeDatabaseInfo=function(){return new et(this._databaseId,this._persistenceKey,this._settings.host,this._settings.ssl,this._settings.forceLongPolling)},t.prototype.configureClient=function(t){v(!!this._settings.host,"FirestoreSettings.host is not set"),v(!this._firestoreClient,"configureClient() called multiple times");var e=this.makeDatabaseInfo();return this._firestoreClient=new zi(b.getPlatform(),e,this._credentials,this._queue),this._firestoreClient.start(t)},t.prototype.createDataConverter=function(t){return new go(function(e){if(e instanceof Ao){var n=t,r=e.firestore._databaseId;if(!r.isEqual(n))throw new C(w.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new fo(t,e._key)}return e})},t.databaseIdFromApp=function(t){var e=t.options;if(!E(e,"projectId"))throw new C(w.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!=typeof n)throw new C(w.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new rt(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._firebaseApp)throw new C(w.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){return A("Firestore.collection",arguments,1),D("Firestore.collection","non-empty string",1,t),this.ensureClientConfigured(),new Lo(st.fromString(t),this)},t.prototype.doc=function(t){return A("Firestore.doc",arguments,1),D("Firestore.doc","non-empty string",1,t),this.ensureClientConfigured(),Ao.forPath(st.fromString(t),this)},t.prototype.collectionGroup=function(t){if(A("Firestore.collectionGroup",arguments,1),D("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new C(w.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.ensureClientConfigured(),new Ro(new Br(st.EMPTY_PATH,t),this)},t.prototype.runTransaction=function(t){var e=this;return A("Firestore.runTransaction",arguments,1),D("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new xo(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new Oo(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(d()){case h.DEBUG:return"debug";case h.ERROR:return"error";case h.SILENT:return"silent";default:return y("Unknown log level: "+d())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(A("Firestore.setLogLevel",arguments,1),D("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":p(h.DEBUG);break;case"error":p(h.ERROR);break;case"silent":p(h.SILENT);break;default:throw new C(w.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._settings.timestampsInSnapshots},t}(),xo=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;A("Transaction.get",arguments,1);var n=Uo("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return y("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof ze)return new No(e._firestore,n._key,null,!1,!1);if(r instanceof qe)return new No(e._firestore,n._key,r,!1,!1);throw y("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)})},t.prototype.set=function(t,e,n){N("Transaction.set",arguments,2,3);var r=Uo("Transaction.set",t,this._firestore),i=(n=Vo("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,i),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof Hi?(P("Transaction.update",arguments,3),r=Uo("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,o)):(A("Transaction.update",arguments,2),r=Uo("Transaction.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(r._key,i),this},t.prototype.delete=function(t){A("Transaction.delete",arguments,1);var e=Uo("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),Oo=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){N("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=Uo("WriteBatch.set",t,this._firestore),i=(n=Vo("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(i.toMutations(r._key,ye.NONE)),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.verifyNotCommitted(),"string"==typeof e||e instanceof Hi?(P("WriteBatch.update",arguments,3),r=Uo("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,o)):(A("WriteBatch.update",arguments,2),r=Uo("WriteBatch.update",t,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(i.toMutations(r._key,ye.exists(!0))),this},t.prototype.delete=function(t){A("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=Uo("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new Ce(e._key,ye.NONE)),this},t.prototype.commit=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new C(w.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),Ao=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!=0)throw new C(w.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new ut(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Lo(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(A("DocumentReference.collection",arguments,1),D("DocumentReference.collection","non-empty string",1,t),!t)throw new C(w.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=st.fromString(t);return new Lo(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw W("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){N("DocumentReference.set",arguments,1,2);var n=(e=Vo("DocumentReference.set",e)).merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,ye.NONE))},t.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof Hi?(P("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,r)):(A("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(n.toMutations(this._key,ye.exists(!0)))},t.prototype.delete=function(){return A("DocumentReference.delete",arguments,0),this._firestoreClient.write([new Ce(this._key,ye.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];N("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof t[i]||Zi(t[i])||(z("DocumentReference.onSnapshot",r=t[i],["includeMetadataChanges"]),L("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return Zi(t[i])?n=t[i]:(D("DocumentReference.onSnapshot","function",i,t[i]),R("DocumentReference.onSnapshot","function",i+1,t[i+1]),R("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(o,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Wi({next:function(t){if(e.next){v(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new No(n.firestore,n._key,r,t.fromCache,t.hasPendingWrites))}},error:r}),o=this._firestoreClient.listen(Br.atPath(this._key.path),i,t);return function(){i.mute(),n._firestoreClient.unlisten(o)}},t.prototype.get=function(t){var e=this;return N("DocumentReference.get",arguments,0,1),jo("DocumentReference.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then(function(t){n(new No(e.firestore,e._key,t,!0,t instanceof qe&&t.hasLocalMutations))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new C(w.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new C(w.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t}(),Po=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),No=function(){function t(t,e,n,r,i){this._firestore=t,this._key=e,this._document=n,this._fromCache=r,this._hasPendingWrites=i}return t.prototype.data=function(t){return N("DocumentSnapshot.data",arguments,0,1),t=Fo("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data(),Te.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},t.prototype.get=function(t,e){if(N("DocumentSnapshot.get",arguments,1,2),e=Fo("DocumentSnapshot.get",e),this._document){var n=this._document.data().field(vo("DocumentSnapshot.get",t));if(null!==n)return this.convertValue(n,Te.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ao(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new Po(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw W("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(t,e){var n=this,r={};return t.forEach(function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertValue=function(t,e){if(t instanceof je)return this.convertObject(t,e);if(t instanceof Ue)return this.convertArray(t,e);if(t instanceof Ve){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||g("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new Ao(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map(function(t){return n.convertValue(t,e)})},t}(),Do=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return v("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},e}(No),Ro=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){if(A("Query.where",arguments,3),q("Query.where",3,r),"in"!==n&&"array-contains-any"!==n){var i=["<","<=","==",">=",">","array-contains"];F("Query.where",i,2,n)}var o,s=vo("Query.where",e),a=zr.fromString(n);if(s.isKeyField()){if(a===zr.ARRAY_CONTAINS||a===zr.ARRAY_CONTAINS_ANY)throw new C(w.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+a.toString()+"' queries on FieldPath.documentId().");if(a===zr.IN){this.validateDisjunctiveFilterElements(r,a);for(var l=[],u=0,c=r;u<c.length;u++){var h=c[u];l.push(this.parseDocumentIdValue(h))}o=new Ue(l)}else o=this.parseDocumentIdValue(r)}else a!==zr.IN&&a!==zr.ARRAY_CONTAINS_ANY||this.validateDisjunctiveFilterElements(r,a),o=this.firestore._dataConverter.parseQueryValue("Query.where",r);var d=Wr.create(s,a,o);return this.validateNewFilter(d),new t(this._query.addFilter(d),this.firestore)},t.prototype.orderBy=function(e,n){var r;if(N("Query.orderBy",arguments,1,2),R("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=Yr.ASCENDING;else{if("desc"!==n)throw new C(w.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=Yr.DESCENDING}if(null!==this._query.startAt)throw new C(w.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new C(w.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=vo("Query.orderBy",e),o=new Xr(i,r);return this.validateNewOrderBy(o),new t(this._query.addOrderBy(o),this.firestore)},t.prototype.limit=function(e){if(A("Query.limit",arguments,1),D("Query.limit","number",1,e),e<=0)throw new C(w.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];P("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw W("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(q(t,1,e),e instanceof No){if(n.length>0)throw new C(w.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new C(w.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,i._document,r)}var o=[e].concat(n);return this.boundFromFields(t,o,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var s=o[i];if(s.field.isKeyField())r.push(new Ve(this.firestore._databaseId,e.key));else{var a=e.field(s.field);if(a instanceof Me)throw new C(w.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===a){var l=s.field.canonicalString();throw new C(w.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}r.push(a)}}return new Jr(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new C(w.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var s=e[o];if(r[o].field.isKeyField()){if("string"!=typeof s)throw new C(w.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof s);if(!this._query.isCollectionGroupQuery()&&-1!==s.indexOf("/"))throw new C(w.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+t+"() must be a plain document ID, but '"+s+"' contains a slash.");var a=this._query.path.child(st.fromString(s));if(!ut.isDocumentKey(a))throw new C(w.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+t+"() must result in a valid document path, but '"+a+"' is not because it contains an odd number of segments.");var l=new ut(a);i.push(new Ve(this.firestore._databaseId,l))}else{var u=this.firestore._dataConverter.parseQueryValue(t,s);i.push(u)}}return new Jr(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];N("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof t[i]||Zi(t[i])||(z("Query.onSnapshot",r=t[i],["includeMetadataChanges"]),L("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),Zi(t[i])?n=t[i]:(D("Query.onSnapshot","function",i,t[i]),R("Query.onSnapshot","function",i+1,t[i+1]),R("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new Wi({next:function(t){e.next&&e.next(new Mo(n.firestore,n._query,t))},error:r}),o=this.firestore.ensureClientConfigured(),s=o.listen(this._query,i,t);return function(){i.mute(),o.unlisten(s)}},t.prototype.get=function(t){var e=this;return N("Query.get",arguments,0,1),jo("Query.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then(function(t){n(new Mo(e.firestore,e._query,t))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new C(w.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.parseDocumentIdValue=function(t){if("string"==typeof t){if(""===t)throw new C(w.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!this._query.isCollectionGroupQuery()&&-1!==t.indexOf("/"))throw new C(w.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var e=this._query.path.child(st.fromString(t));if(!ut.isDocumentKey(e))throw new C(w.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+e+"' is not because it has an odd number of segments ("+e.length+").");return new Ve(this.firestore._databaseId,new ut(e))}if(t instanceof Ao)return new Ve(this.firestore._databaseId,t._key);throw new C(w.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+B(t)+".")},t.prototype.validateDisjunctiveFilterElements=function(t,e){if(!Array.isArray(t)||0===t.length)throw new C(w.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new C(w.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if(t.indexOf(null)>=0)throw new C(w.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter(function(t){return Number.isNaN(t)}).length>0)throw new C(w.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")},t.prototype.validateNewFilter=function(t){if(t instanceof Wr){var e=[zr.ARRAY_CONTAINS,zr.ARRAY_CONTAINS_ANY],n=[zr.IN,zr.ARRAY_CONTAINS_ANY],r=e.indexOf(t.op)>=0,i=n.indexOf(t.op)>=0;if(t.isInequality()){var o=this._query.getInequalityFilterField();if(null!==o&&!o.isEqual(t.field))throw new C(w.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+o.toString()+"' and '"+t.field.toString()+"'");var s=this._query.getFirstOrderByField();null!==s&&this.validateOrderByAndInequalityMatch(t.field,s)}else if(i||r){var a=null;if(i&&(a=this._query.findFilterOperator(n)),null===a&&r&&(a=this._query.findFilterOperator(e)),null!=a)throw new C(w.INVALID_ARGUMENT,a===t.op?"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter.":"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+a.toString()+"' filters.")}}},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new C(w.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),Mo=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new Po(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;N("QuerySnapshot.forEach",arguments,1,2),D("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,"query",{get:function(){return new Ro(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(z("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),L("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new C(w.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map(function(e){var o=new Do(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key));return v(e.type===Er.Added,"Invalid event type for first snapshot"),v(!r||n.query.docComparator(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}})}var o=n.oldDocs;return n.docChanges.filter(function(t){return e||t.type!==Er.Metadata}).map(function(e){var r=new Do(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key)),i=-1,s=-1;return e.type!==Er.Added&&(v((i=o.indexOf(e.doc.key))>=0,"Index for document not found"),o=o.delete(e.doc.key)),e.type!==Er.Removed&&(s=(o=o.add(e.doc)).indexOf(e.doc.key)),{type:Bo(e.type),doc:r,oldIndex:i,newIndex:s}})}(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw W("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new Do(this._firestore,t.key,t,this.metadata.fromCache,this._snapshot.mutatedKeys.has(t.key))},t}();["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(t){try{Object.defineProperty(Mo.prototype.docChanges,t,{get:function(){return function(){throw new C(w.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(e){}});var Lo=function(t){function e(e,n){var r=t.call(this,Br.atPath(e),n)||this;if(e.length%2!=1)throw new C(w.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return r}return s.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new Ao(new ut(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(N("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=G.newId()),D("CollectionReference.doc","non-empty string",1,t),""===t)throw new C(w.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=st.fromString(t);return Ao.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){A("CollectionReference.add",arguments,1),D("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(Ro);function Vo(t,e){if(void 0===e)return{merge:!1};if(z(t,e,["merge","mergeFields"]),L(t,"boolean","merge",e.merge),"mergeFields","a string or a FieldPath",void 0!==(n=e.mergeFields)&&function(t,e,n,r,i){if(!(r instanceof Array))throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires its mergeFields option to be an array, but it was: "+B(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new C(w.INVALID_ARGUMENT,"Function "+t+"() requires all mergeFields elements to be a string or a FieldPath, but the value at index "+o+" was: "+B(r[o]))}(t,0,0,n,function(t){return"string"==typeof t||t instanceof Hi}),void 0!==e.mergeFields&&void 0!==e.merge)throw new C(w.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');var n;return e}function Fo(t,e){return void 0===e?{}:(z(t,e,["serverTimestamps"]),V(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function jo(t,e){R(t,"object",1,e),e&&(z(t,e,["source"]),V(t,0,"source",e.source,["default","server","cache"]))}function Uo(t,e,n){if(e instanceof Ao){if(e.firestore!==n)throw new C(w.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw W(t,"DocumentReference",1,e)}function Bo(t){switch(t){case Er.Added:return"added";case Er.Modified:case Er.Metadata:return"modified";case Er.Removed:return"removed";default:return y("Unknown change type: "+t)}}var qo=S(ko,"Use firebase.firestore() instead."),zo=S(xo,"Use firebase.firestore().runTransaction() instead."),Wo=S(Oo,"Use firebase.firestore().batch() instead."),Ho=S(Ao,"Use firebase.firestore().doc() instead."),Ko=S(No),Go=S(Do),Qo=S(Ro),$o=S(Mo),Yo=S(Lo,"Use firebase.firestore().collection() instead."),Jo={Firestore:qo,GeoPoint:Ur,Timestamp:Ct,Blob:tt,Transaction:zo,WriteBatch:Wo,DocumentReference:Ho,DocumentSnapshot:Ko,Query:Qo,QueryDocumentSnapshot:Go,QuerySnapshot:$o,CollectionReference:Yo,FieldPath:Hi,FieldValue:so,setLogLevel:ko.setLogLevel,CACHE_SIZE_UNLIMITED:To},Xo=function(){function t(){}return t.prototype.addCallback=function(t){},t.prototype.shutdown=function(){},t}(),Zo=function(){function t(){var t=this;this.networkAvailableListener=function(){return t.onNetworkAvailable()},this.networkUnavailableListener=function(){return t.onNetworkUnavailable()},this.callbacks=[],this.configureNetworkMonitoring()}return t.prototype.addCallback=function(t){this.callbacks.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.networkAvailableListener),window.removeEventListener("offline",this.networkUnavailableListener)},t.prototype.configureNetworkMonitoring=function(){window.addEventListener("online",this.networkAvailableListener),window.addEventListener("offline",this.networkUnavailableListener)},t.prototype.onNetworkAvailable=function(){f("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.callbacks;t<e.length;t++)(0,e[t])(0)},t.prototype.onNetworkUnavailable=function(){f("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.callbacks;t<e.length;t++)(0,e[t])(1)},t.isAvailable=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),ts=function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){v(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){v(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){v(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){v(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){v(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){v(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}(),es="Connection",ns={BatchGetDocuments:"batchGet",Commit:"commit"},rs="gl-js/ fire/"+u,is=function(){function t(t){this.databaseId=t.databaseId,this.baseUrl=(t.ssl?"https":"http")+"://"+t.host,this.forceLongPolling=t.forceLongPolling}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=rs},t.prototype.invokeRPC=function(t,e,n){var r=this,i=this.makeUrl(t);return new Promise(function(o,a){var u=new l.XhrIo;u.listenOnce(l.EventType.COMPLETE,function(){try{switch(u.getLastErrorCode()){case l.ErrorCode.NO_ERROR:var e=u.getResponseJson();f(es,"XHR received:",JSON.stringify(e)),o(e);break;case l.ErrorCode.TIMEOUT:f(es,'RPC "'+t+'" timed out'),a(new C(w.DEADLINE_EXCEEDED,"Request time out"));break;case l.ErrorCode.HTTP_ERROR:var n=u.getStatus();if(f(es,'RPC "'+t+'" failed with status:',n,"response text:",u.getResponseText()),n>0){var r=u.getResponseJson().error;if(r&&r.status&&r.message){var i=(s=r.status.toLowerCase().replace("_","-"),Object.values(w).indexOf(s)>=0?s:w.UNKNOWN);a(new C(i,r.message))}else a(new C(w.UNKNOWN,"Server responded with status "+u.getStatus()))}else f(es,'RPC "'+t+'" failed'),a(new C(w.UNAVAILABLE,"Connection failed."));break;default:y('RPC "'+t+'" failed with unanticipated webchannel error '+u.getLastErrorCode()+": "+u.getLastError()+", giving up.")}}finally{f(es,'RPC "'+t+'" completed.')}var s});var c=s.__assign({},e);delete c.database;var h=JSON.stringify(c);f(es,"XHR sending: ",i+" "+h);var d={"Content-Type":"text/plain"};r.modifyHeadersForRequest(d,n),u.send(i,"POST",h,d,15)})},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=l.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.modifyHeadersForRequest(i.initMessageHeaders,e),a.isReactNative()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");f(es,"Creating WebChannel: "+o+" "+i);var s=r.createWebChannel(o,i),u=!1,c=!1,h=new ts({sendFn:function(t){c?f(es,"Not sending because WebChannel is closed:",t):(u||(f(es,"Opening WebChannel transport."),s.open(),u=!0),f(es,"WebChannel sending:",t),s.send(t))},closeFn:function(){return s.close()}}),d=function(t,e){s.listen(t,function(t){try{e(t)}catch(n){setTimeout(function(){throw n},0)}})};return d(l.WebChannel.EventType.OPEN,function(){c||f(es,"WebChannel transport opened.")}),d(l.WebChannel.EventType.CLOSE,function(){c||(c=!0,f(es,"WebChannel transport closed"),h.callOnClose())}),d(l.WebChannel.EventType.ERROR,function(t){c||(c=!0,f(es,"WebChannel transport errored:",t),h.callOnClose(new C(w.UNAVAILABLE,"The operation could not be completed")))}),d(l.WebChannel.EventType.MESSAGE,function(t){if(!c){var e=t.data[0];v(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){f(es,"WebChannel received error:",n);var r=n.status,i=function(t){var e=br[r];if(void 0!==e)return wr(e)}(),o=n.message;void 0===i&&(i=w.INTERNAL,o="Unknown error status: "+r+" with message "+n.message),c=!0,h.callOnClose(new C(i,o)),s.close()}else f(es,"WebChannel received:",e),h.callOnMessage(e)}}),setTimeout(function(){h.callOnOpen()},0),h},t.prototype.makeUrl=function(t){var e=ns[t];v(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/","v1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},t}();function os(t){t.INTERNAL.registerService("firestore",function(t){return new ko(t)},function(t){v(t&&"object"==typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}(Jo))}b.setPlatform(new(function(){function t(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.loadConnection=function(t){return Promise.resolve(new is(t))},t.prototype.newConnectivityMonitor=function(){return Zo.isAvailable()?new Zo:new Xo},t.prototype.newSerializer=function(t){return new fi(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}())),os(i),e.registerFirestore=os},Wcq6:function(t,e,n){"use strict";var r,i=(r=n("wj3C"))&&"object"==typeof r&&"default"in r?r.default:r;t.exports=i},XypG:function(t,e){},crnd:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="crnd"},mrSG:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return i}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return s}),n.d(e,"__decorate",function(){return a}),n.d(e,"__param",function(){return l}),n.d(e,"__metadata",function(){return u}),n.d(e,"__awaiter",function(){return c}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return d}),n.d(e,"__values",function(){return p}),n.d(e,"__read",function(){return f}),n.d(e,"__spread",function(){return g}),n.d(e,"__spreadArrays",function(){return m}),n.d(e,"__await",function(){return y}),n.d(e,"__asyncGenerator",function(){return v}),n.d(e,"__asyncDelegator",function(){return b}),n.d(e,"__asyncValues",function(){return _}),n.d(e,"__makeTemplateObject",function(){return w}),n.d(e,"__importStar",function(){return C}),n.d(e,"__importDefault",function(){return S});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function a(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}function l(t,e){return function(n,r){e(n,r,t)}}function u(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function c(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}l((r=r.apply(t,e||[])).next())})}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function d(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function p(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function f(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(f(arguments[e]));return t}function m(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function v(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(t,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(t){i[t]&&(r[t]=function(e){return new Promise(function(n,r){o.push([t,e,n,r])>1||a(t,e)})})}function a(t,e){try{(n=i[t](e)).value instanceof y?Promise.resolve(n.value.v).then(l,u):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function l(t){a("next",t)}function u(t){a("throw",t)}function c(t,e){t(e),o.shift(),o.length&&a(o[0][0],o[0][1])}}function b(t){var e,n;return e={},r("next"),r("throw",function(t){throw t}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,i){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:i?i(e):e}:i}}function _(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=p(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,i){!function(t,e,n,r){Promise.resolve(r).then(function(e){t({value:e,done:n})},e)}(r,i,(e=t[n](e)).done,e.value)})}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function C(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function S(t){return t&&t.__esModule?t:{default:t}}},"q/0M":function(t,e,n){"use strict";n.r(e),n.d(e,"LogLevel",function(){return i}),n.d(e,"Logger",function(){return a}),n.d(e,"setLogLevel",function(){return l});var r=[],i=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),o=i.INFO,s=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString();switch(e){case i.DEBUG:case i.VERBOSE:console.log.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.INFO:console.info.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.WARN:console.warn.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.ERROR:console.error.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},a=function(){function t(t){this.name=t,this._logLevel=o,this._logHandler=s,r.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.ERROR].concat(t))},t}();function l(t){r.forEach(function(e){e.logLevel=t})}},wj3C:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n("mrSG"),o=n("zVF4"),s=n("q/0M"),a=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r),l=new o.ErrorFactory("app","Firebase",a),u="[DEFAULT]",c=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.services_={},this.tokenListeners_=[],this.analyticsEventRequests_=[],this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(t);var i=this;this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){r.tokenListeners_.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){r.tokenListeners_=r.tokenListeners_.filter(function(e){return e!==t})},analytics:{logEvent:function(){i.analyticsEventRequests_.push(arguments)}}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);for(var e=[],n=0,r=Object.keys(t.services_);n<r.length;n++)for(var i=r[n],o=0,s=Object.keys(t.services_[i]);o<s.length;o++)e.push(t.services_[i][s[o]]);return Promise.all(e.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=u),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==u?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=u),this.services_[t]&&this.services_[t][e]&&delete this.services_[t][e]},t.prototype.extendApp=function(t){if(o.deepExtend(this,t),t.INTERNAL){if(t.INTERNAL.addAuthTokenListener){for(var e=0,n=this.tokenListeners_;e<n.length;e++)this.INTERNAL.addAuthTokenListener(n[e]);this.tokenListeners_=[]}if(t.INTERNAL.analytics){for(var r=0,i=this.analyticsEventRequests_;r<i.length;r++)this.INTERNAL.analytics.logEvent.apply(void 0,i[r]);this.analyticsEventRequests_=[]}}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();c.prototype.name&&c.prototype.options||c.prototype.delete||console.log("dc");var h=new s.Logger("@firebase/app");if(o.isBrowser()&&void 0!==self.firebase){h.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var d=self.firebase.SDK_VERSION;d&&d.indexOf("LITE")>=0&&h.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var p=function t(){var e=function(t){var e={},n={},r={},i={__esModule:!0,initializeApp:function(n,r){void 0===r&&(r={}),"object"==typeof r&&null!==r||(r={name:r});var s=r;void 0===s.name&&(s.name=u);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(o.contains(e,a))throw l.create("duplicate-app",{appName:a});var h=new t(n,s,i);return e[a]=h,c(h,"create"),h},app:s,apps:null,SDK_VERSION:"7.0.0",INTERNAL:{registerService:function(e,u,c,d,p){if(void 0===p&&(p=!1),n[e])return h.debug("There were multiple attempts to register service "+e+"."),i[e];function f(t){if(void 0===t&&(t=s()),"function"!=typeof t[e])throw l.create("invalid-app-argument",{appName:e});return t[e]()}return n[e]=u,d&&(r[e]=d,a().forEach(function(t){d("create",t)})),void 0!==c&&o.deepExtend(f,c),i[e]=f,t.prototype[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this._getService.bind(this,e);return r.apply(this,p?t:[])},f},removeApp:function(t){c(e[t],"delete"),delete e[t]},factories:n,useAsService:d}};function s(t){if(!o.contains(e,t=t||u))throw l.create("no-app",{appName:t});return e[t]}function a(){return Object.keys(e).map(function(t){return e[t]})}function c(t,e){for(var i=0,o=Object.keys(n);i<o.length;i++){var s=d(0,o[i]);if(null===s)return;r[s]&&r[s](e,t)}}function d(t,e){return"serverAuth"===e?null:e}return i.default=i,Object.defineProperty(i,"apps",{get:a}),s.App=t,i}(c);return e.INTERNAL=i.__assign({},e.INTERNAL,{createFirebaseNamespace:t,extendNamespace:function(t){o.deepExtend(e,t)},createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,deepExtend:o.deepExtend}),e}(),f=p.initializeApp;p.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o.isNode()&&h.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),f.apply(void 0,t)};var g=p;e.default=g,e.firebase=g},x7I3:function(t,e,n){"use strict";n.r(e),n.d(e,"ErrorCode",function(){return ar}),n.d(e,"EventType",function(){return lr}),n.d(e,"WebChannel",function(){return ur}),n.d(e,"XhrIo",function(){return cr}),n.d(e,"createWebChannelTransport",function(){return sr});var r,i="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},o=o||{},s=i;function a(t){return"string"==typeof t}function l(t){return"number"==typeof t}function u(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function c(){}function h(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function d(t){return"array"==h(t)}function p(t){var e=h(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var g="closure_uid_"+(1e9*Math.random()>>>0),m=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function b(t,e,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:v).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function C(t,e){function n(){}n.prototype=e.prototype,t.N=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.yb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function S(){this.j=this.j,this.i=this.i}S.prototype.j=!1,S.prototype.la=function(){!this.j&&(this.j=!0,this.G(),0)&&(this[g]||(this[g]=++m))},S.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var E=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(a(t))return a(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},T=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=a(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function I(t){return Array.prototype.concat.apply([],arguments)}function k(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function x(t){return/^[\s\xa0]*$/.test(t)}var O,A=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function P(t,e){return-1!=t.indexOf(e)}function N(t,e){return t<e?-1:t>e?1:0}t:{var D=s.navigator;if(D){var R=D.userAgent;if(R){O=R;break t}}O=""}function M(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function L(t){var e,n={};for(e in t)n[e]=t[e];return n}var V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<V.length;o++)n=V[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function j(t){return j[" "](t),t}j[" "]=c;var U,B,q=P(O,"Opera"),z=P(O,"Trident")||P(O,"MSIE"),W=P(O,"Edge"),H=W||z,K=P(O,"Gecko")&&!(P(O.toLowerCase(),"webkit")&&!P(O,"Edge"))&&!(P(O,"Trident")||P(O,"MSIE"))&&!P(O,"Edge"),G=P(O.toLowerCase(),"webkit")&&!P(O,"Edge");function Q(){var t=s.document;return t?t.documentMode:void 0}t:{var $="",Y=(B=O,K?/rv:([^\);]+)(\)|;)/.exec(B):W?/Edge\/([\d\.]+)/.exec(B):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(B):G?/WebKit\/(\S+)/.exec(B):q?/(?:Version)[ \/]?(\S+)/.exec(B):void 0);if(Y&&($=Y?Y[1]:""),z){var J=Q();if(null!=J&&J>parseFloat($)){U=String(J);break t}}U=$}var X,Z={};function tt(t){return function(t,e){var n=Z;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=A(String(U)).split("."),r=A(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=N(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||N(0==s[2].length,0==a[2].length)||N(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var et=s.document;X=et&&z?Q()||("CSS1Compat"==et.compatMode?parseInt(U,10):5):void 0;var nt=!z||9<=Number(X),rt=z&&!tt("9"),it=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",c,e),s.removeEventListener("test",c,e)}catch(n){}return t}();function ot(t,e){this.type=t,this.a=this.target=e,this.Ja=!0}function st(t,e){if(ot.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(K){t:{try{j(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=a(t.pointerType)?t.pointerType:at[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ot.prototype.b=function(){this.Ja=!1},C(st,ot);var at={2:"touch",3:"pen",4:"mouse"};st.prototype.b=function(){st.N.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,rt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var lt="closure_listenable_"+(1e6*Math.random()|0),ut=0;function ct(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.da=i,this.key=++ut,this.X=this.Z=!1}function ht(t){t.X=!0,t.listener=null,t.proxy=null,t.src=null,t.da=null}function dt(t){this.src=t,this.a={},this.b=0}function pt(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=E(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ht(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function ft(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.X&&o.listener==e&&o.capture==!!n&&o.da==r)return i}return-1}dt.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=ft(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new ct(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var gt="closure_lm_"+(1e6*Math.random()|0),mt={};function yt(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(d(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Et(r),e&&e[lt]?e.Ba(n,r,f(i)?!!i.capture:!!i,o):vt(e,n,r,!0,i,o)}(t,e,n,r,i);if(d(e)){for(var o=0;o<e.length;o++)yt(t,e[o],n,r,i);return null}return n=Et(n),t&&t[lt]?t.Aa(e,n,f(r)?!!r.capture:!!r,i):vt(t,e,n,!1,r,i)}function vt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=f(i)?!!i.capture:!!i;if(s&&!nt)return null;var a=Ct(t);if(a||(t[gt]=a=new dt(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=wt,e=nt?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)it||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_t(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function bt(t){if(!l(t)&&t&&!t.X){var e=t.src;if(e&&e[lt])pt(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_t(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ct(e))?(pt(n,t),0==n.b&&(n.src=null,e[gt]=null)):ht(t)}}}function _t(t){return t in mt?mt[t]:mt[t]="on"+t}function wt(t,e){return!!t.X||function(t,e){var n=t.listener,r=t.da||t.src;return t.Z&&bt(t),n.call(r,e)}(t,nt?new st(e,this):e=new st(e||u("window.event"),this))}function Ct(t){return(t=t[gt])instanceof dt?t:null}var St="__closure_events_fn_"+(1e9*Math.random()>>>0);function Et(t){return"function"==h(t)?t:(t[St]||(t[St]=function(e){return t.handleEvent(e)}),t[St])}function Tt(){S.call(this),this.c=new dt(this),this.J=this,this.B=null}function It(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.X&&s.capture==n){var a=s.listener,l=s.da||s.src;s.Z&&pt(t.c,s),i=!1!==a.call(l,r)&&i}}return i&&0!=r.Ja}C(Tt,S),Tt.prototype[lt]=!0,(r=Tt.prototype).addEventListener=function(t,e,n,r){yt(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(d(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=f(i)?!!i.capture:!!i,r=Et(r),e&&e[lt]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=ft(s=e.a[n],r,i,o))&&(ht(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=Ct(e))&&(n=e.a[n.toString()],e=-1,n&&(e=ft(n,r,i,o)),(r=-1<e?n[e]:null)&&bt(r))}(this,t,e,n,r)},r.dispatchEvent=function(t){var e,n=this.B;if(n)for(e=[];n;n=n.B)e.push(n);n=this.J;var r=t.type||t;if(a(t))t=new ot(t,n);else if(t instanceof ot)t.target=t.target||n;else{var i=t;F(t=new ot(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=It(s,r,!0,t)&&i}if(i=It(s=t.a=n,r,!0,t)&&i,i=It(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=It(s=t.a=e[o],r,!1,t)&&i;return i},r.G=function(){if(Tt.N.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ht(n[r]);delete e.a[t],e.b--}}this.B=null},r.Aa=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},r.Ba=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var kt=s.JSON.stringify;function xt(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function Ot(){this.b=this.a=null}xt.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var At,Pt=new xt(function(){return new Dt},function(t){t.reset()});function Nt(){var t=Vt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Dt(){this.next=this.b=this.a=null}function Rt(t){s.setTimeout(function(){throw t},0)}function Mt(t,e){At||function(){var t=s.Promise.resolve(void 0);At=function(){t.then(Ft)}}(),Lt||(At(),Lt=!0),Vt.add(t,e)}Ot.prototype.add=function(t,e){var n=Pt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Dt.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Dt.prototype.reset=function(){this.next=this.b=this.a=null};var Lt=!1,Vt=new Ot;function Ft(){for(var t;t=Nt();){try{t.a.call(t.b)}catch(n){Rt(n)}var e=Pt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Lt=!1}function jt(t,e){Tt.call(this),this.b=t||1,this.a=e||s,this.f=b(this.gb,this),this.g=w()}function Ut(t){t.ba=!1,t.L&&(t.a.clearTimeout(t.L),t.L=null)}function Bt(t,e,n){if("function"==h(t))n&&(t=b(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=b(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function qt(t,e,n){S.call(this),this.f=null!=n?b(t,n):t,this.c=e,this.b=b(this.ab,this),this.a=[]}function zt(t){t.U=Bt(t.b,t.c),t.f.apply(null,t.a)}function Wt(t){S.call(this),this.b=t,this.a={}}C(jt,Tt),(r=jt.prototype).ba=!1,r.L=null,r.gb=function(){if(this.ba){var t=w()-this.g;0<t&&t<.8*this.b?this.L=this.a.setTimeout(this.f,this.b-t):(this.L&&(this.a.clearTimeout(this.L),this.L=null),this.dispatchEvent("tick"),this.ba&&(Ut(this),this.start()))}},r.start=function(){this.ba=!0,this.L||(this.L=this.a.setTimeout(this.f,this.b),this.g=w())},r.G=function(){jt.N.G.call(this),Ut(this),delete this.a},C(qt,S),(r=qt.prototype).ea=!1,r.U=null,r.Ua=function(t){this.a=arguments,this.U?this.ea=!0:zt(this)},r.G=function(){qt.N.G.call(this),this.U&&(s.clearTimeout(this.U),this.U=null,this.ea=!1,this.a=[])},r.ab=function(){this.U=null,this.ea&&(this.ea=!1,zt(this))},C(Wt,S);var Ht=[];function Kt(t,e,n,r){d(n)||(n&&(Ht[0]=n.toString()),n=Ht);for(var i=0;i<n.length;i++){var o=yt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Gt(t){M(t.a,function(t,e){this.a.hasOwnProperty(e)&&bt(t)},t),t.a={}}function Qt(){}Wt.prototype.G=function(){Wt.N.G.call(this),Gt(this)},Wt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $t=new Tt;function Yt(t){ot.call(this,"serverreachability",t)}function Jt(t){$t.dispatchEvent(new Yt($t,t))}function Xt(t){ot.call(this,"statevent",t)}function Zt(t){$t.dispatchEvent(new Xt($t,t))}function te(t){ot.call(this,"timingevent",t)}function ee(t,e){if("function"!=h(t))throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){t()},e)}C(Yt,ot),C(Xt,ot),C(te,ot);var ne={NO_ERROR:0,hb:1,ob:2,nb:3,kb:4,mb:5,pb:6,Ma:7,TIMEOUT:8,sb:9},re={jb:"complete",wb:"success",Na:"error",Ma:"abort",ub:"ready",vb:"readystatechange",TIMEOUT:"timeout",qb:"incrementaldata",tb:"progress",lb:"downloadprogress",xb:"uploadprogress"};function ie(){}function oe(){}ie.prototype.a=null;var se,ae={OPEN:"a",ib:"b",Na:"c",rb:"d"};function le(){ot.call(this,"d")}function ue(){ot.call(this,"c")}function ce(){}function he(t,e,n){this.g=t,this.W=e,this.V=n||1,this.I=new Wt(this),this.O=de,this.P=new jt(t=H?125:void 0),this.h=null,this.b=!1,this.l=this.D=this.f=this.F=this.v=this.R=this.i=null,this.j=[],this.a=null,this.A=0,this.c=this.w=null,this.o=-1,this.m=!1,this.J=0,this.B=null,this.s=this.S=this.H=!1}C(le,ot),C(ue,ot),C(ce,ie),se=new ce;var de=45e3,pe={},fe={};function ge(t,e,n){t.F=1,t.f=Ue(De(e)),t.l=n,t.H=!0,ye(t,null)}function me(t,e,n,r){t.F=1,t.f=Ue(De(e)),t.l=null,t.H=n,ye(t,r)}function ye(t,e){t.v=w(),_e(t),t.D=De(t.f),je(t.D,"t",t.V),t.A=0,t.a=t.g.$(t.g.Y()?e:null),0<t.J&&(t.B=new qt(b(t.Ka,t,t.a),t.J)),Kt(t.I,t.a,"readystatechange",t.eb),e=t.h?L(t.h):{},t.l?(t.w||(t.w="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ca(t.D,t.w,t.l,e)):(t.w="GET",t.a.ca(t.D,t.w,null,e)),Jt(1)}function ve(t,e,n){for(var r=!0;!t.m&&t.A<n.length;){var i=be(t,n);if(i==fe){4==e&&(t.c=4,Zt(14),r=!1);break}if(i==pe){t.c=4,Zt(15),r=!1;break}Te(t,i)}4==e&&0==n.length&&(t.c=1,Zt(16),r=!1),t.b=t.b&&r,r||(Ee(t),Se(t))}function be(t,e){var n=t.A,r=e.indexOf("\n",n);return-1==r?fe:(n=Number(e.substring(n,r)),isNaN(n)?pe:(r+=1)+n>e.length?fe:(e=e.substr(r,n),t.A=r+n,e))}function _e(t){t.R=w()+t.O,we(t,t.O)}function we(t,e){if(null!=t.i)throw Error("WatchDog timer not null");t.i=ee(b(t.bb,t),e)}function Ce(t){t.i&&(s.clearTimeout(t.i),t.i=null)}function Se(t){t.g.Da()||t.m||t.g.na(t)}function Ee(t){Ce(t);var e=t.B;e&&"function"==typeof e.la&&e.la(),t.B=null,Ut(t.P),Gt(t.I),t.a&&(e=t.a,t.a=null,e.abort(),e.la())}function Te(t,e){try{t.g.Ga(t,e),Jt(4)}catch(n){}}function Ie(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||a(t))T(t,e,void 0);else{if(t.K&&"function"==typeof t.K)var n=t.K();else if(t.C&&"function"==typeof t.C)n=void 0;else if(p(t)||a(t)){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.C&&"function"==typeof t.C)return t.C();if(a(t))return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function ke(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ke)for(n=t.K(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function xe(t,e){Ae(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Oe(t))}function Oe(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Ae(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Ae(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Ae(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(r=he.prototype).setTimeout=function(t){this.O=t},r.eb=function(t){t=t.target;var e=this.B;e&&3==Dn(t)?e.Ua():this.Ka(t)},r.Ka=function(t){try{if(t==this.a)t:{var e=Dn(this.a),n=this.a.ya(),r=this.a.T();if(!(3>e||3==e&&!H&&!this.a.aa())){this.m||4!=e||7==n||Jt(8==n||0>=r?3:2),Ce(this);var i=this.a.T();this.o=i;var o=this.a.aa();if(this.b=200==i){if(this.S&&!this.s){e:{if(this.a){var s=Rn(this.a,"X-HTTP-Initial-Response");if(s&&!x(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.c=3,Zt(12),Ee(this),Se(this);break t}this.s=!0,Te(this,a)}this.H?(ve(this,e,o),H&&this.b&&3==e&&(Kt(this.I,this.P,"tick",this.cb),this.P.start())):Te(this,o),4==e&&Ee(this),this.b&&!this.m&&(4==e?this.g.na(this):(this.b=!1,_e(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.c=3,Zt(12)):(this.c=0,Zt(13)),Ee(this),Se(this)}}}catch(l){}},r.cb=function(){if(this.a){var t=Dn(this.a),e=this.a.aa();this.A<e.length&&(Ce(this),ve(this,t,e),this.b&&4!=t&&_e(this))}},r.cancel=function(){this.m=!0,Ee(this)},r.bb=function(){this.i=null;var t=w();0<=t-this.R?(2!=this.F&&(Jt(3),Zt(17)),Ee(this),this.c=2,Se(this)):we(this,this.R-t)},(r=ke.prototype).C=function(){Oe(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},r.K=function(){return Oe(this),this.a.concat()},r.get=function(t,e){return Ae(this.b,t)?this.b[t]:e},r.set=function(t,e){Ae(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},r.forEach=function(t,e){for(var n=this.K(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Pe=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ne(t,e){var n;this.b=this.j=this.f="",this.i=null,this.g=this.a="",this.h=!1,t instanceof Ne?(this.h=void 0!==e?e:t.h,Re(this,t.f),this.j=t.j,Me(this,t.b),Le(this,t.i),this.a=t.a,Ve(this,tn(t.c)),this.g=t.g):t&&(n=String(t).match(Pe))?(this.h=!!e,Re(this,n[1]||"",!0),this.j=Be(n[2]||""),Me(this,n[3]||"",!0),Le(this,n[4]),this.a=Be(n[5]||"",!0),Ve(this,n[6]||"",!0),this.g=Be(n[7]||"")):(this.h=!!e,this.c=new $e(null,this.h))}function De(t){return new Ne(t)}function Re(t,e,n){t.f=n?Be(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Me(t,e,n){t.b=n?Be(e,!0):e}function Le(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Ve(t,e,n){e instanceof $e?(t.c=e,function(t,e){e&&!t.f&&(Ye(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Je(this,e),Ze(this,n,t))},t)),t.f=e}(t.c,t.h)):(n||(e=qe(e,Ge)),t.c=new $e(e,t.h))}function Fe(t,e,n){t.c.set(e,n)}function je(t,e,n){d(n)||(n=[String(n)]),Ze(t.c,e,n)}function Ue(t){return Fe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^w()).toString(36)),t}function Be(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qe(t,e,n){return a(t)?(t=encodeURI(t).replace(e,ze),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ze(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ne.prototype.toString=function(){var t=[],e=this.f;e&&t.push(qe(e,We,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(qe(e,We,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.a)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(qe(n,"/"==n.charAt(0)?Ke:He,!0))),(n=this.c.toString())&&t.push("?",n),(n=this.g)&&t.push("#",qe(n,Qe)),t.join("")},Ne.prototype.resolve=function(t){var e=De(this),n=!!t.f;n?Re(e,t.f):n=!!t.j,n?e.j=t.j:n=!!t.b,n?Me(e,t.b):n=null!=t.i;var r=t.a;if(n)Le(e,t.i);else if(n=!!t.a){if("/"!=r.charAt(0))if(this.b&&!this.a)r="/"+r;else{var i=e.a.lastIndexOf("/");-1!=i&&(r=e.a.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(P(i,"./")||P(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.a=r:n=""!==t.c.toString(),n?Ve(e,tn(t.c)):n=!!t.g,n&&(e.g=t.g),e};var We=/[#\/\?@]/g,He=/[#\?:]/g,Ke=/[#\?]/g,Ge=/[#\?@]/g,Qe=/#/g;function $e(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ye(t){t.a||(t.a=new ke,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Je(t,e){Ye(t),e=en(t,e),Ae(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,xe(t.a,e))}function Xe(t,e){return Ye(t),e=en(t,e),Ae(t.a.b,e)}function Ze(t,e,n){Je(t,e),0<n.length&&(t.c=null,t.a.set(en(t,e),k(n)),t.b+=n.length)}function tn(t){var e=new $e;return e.c=t.c,t.a&&(e.a=new ke(t.a),e.b=t.b),e}function en(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function nn(t){this.a=t,this.b=this.h=null,this.g=!1,this.i=null,this.c=-1,this.l=this.f=null}function rn(t){var e=t.a.F.a;if(null!=e)Zt(4),e?(Zt(10),Kn(t.a,t,!1)):(Zt(11),Kn(t.a,t,!0));else{t.b=new he(t,void 0,void 0),t.b.h=t.h,e=Jn(e=t.a,e.Y()?t.f:null,t.i),Zt(4),je(e,"TYPE","xmlhttp");var n=t.a.j,r=t.a.I;n&&r&&Fe(e,n,r),me(t.b,e,!1,t.f)}}function on(){this.a=this.b=null}function sn(){this.a=new ke}function an(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[g]||(t[g]=++m)):e.charAt(0)+t}function ln(t,e){this.b=t,this.a=e}function un(t){this.g=t||cn,t=s.PerformanceNavigationTiming?0<(t=s.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(s.ka&&s.ka.Ea&&s.ka.Ea()&&s.ka.Ea().zb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new sn),this.b=null,this.c=[]}(r=$e.prototype).add=function(t,e){Ye(this),this.c=null,t=en(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},r.forEach=function(t,e){Ye(this),this.a.forEach(function(n,r){T(n,function(n){t.call(e,n,r,this)},this)},this)},r.K=function(){Ye(this);for(var t=this.a.C(),e=this.a.K(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},r.C=function(t){Ye(this);var e=[];if(a(t))Xe(this,t)&&(e=I(e,this.a.get(en(this,t))));else{t=this.a.C();for(var n=0;n<t.length;n++)e=I(e,t[n])}return e},r.set=function(t,e){return Ye(this),this.c=null,Xe(this,t=en(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},r.get=function(t,e){return t&&0<(t=this.C(t)).length?String(t[0]):e},r.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.K(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.C(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")},C(function(){},function(){}),(r=nn.prototype).M=null,r.$=function(t){return this.a.$(t)},r.abort=function(){this.b&&(this.b.cancel(),this.b=null),this.c=-1},r.Da=function(){return!1},r.Ga=function(t,e){if(this.c=t.o,0==this.M){if(!this.a.o&&(t=t.a)){var n=Rn(t,"X-Client-Wire-Protocol");this.l=n||null,this.a.j&&(t=Rn(t,"X-HTTP-Session-Id"))&&(this.a.I=t)}if(e){try{var r=this.a.ja.a.parse(e)}catch(i){return(e=this.a).m=this.c,void $n(e,2)}this.f=r[0]}else(e=this.a).m=this.c,$n(e,2)}else 1==this.M&&(this.g?Zt(6):"11111"==e?(Zt(5),this.g=!0,(!z||10<=Number(X))&&(this.c=200,this.b.cancel(),Zt(11),Kn(this.a,this,!0))):(Zt(7),this.g=!1))},r.na=function(){if(this.c=this.b.o,this.b.b)0==this.M?(this.M=1,rn(this)):1==this.M&&(this.g?(Zt(11),Kn(this.a,this,!0)):(Zt(10),Kn(this.a,this,!1)));else{0==this.M?Zt(8):1==this.M&&Zt(9);var t=this.a;t.m=this.c,$n(t,2)}},r.Y=function(){return this.a.Y()},r.ma=function(){return this.a.ma()},sn.prototype.add=function(t){this.a.set(an(t),t)},sn.prototype.C=function(){return this.a.C()};var cn=10;function hn(t,e){!t.a&&(P(e,"spdy")||P(e,"quic")||P(e,"h2"))&&(t.f=t.g,t.a=new sn,t.b&&(gn(t,t.b),t.b=null))}function dn(t){return!!t.b||!!t.a&&t.a.a.c>=t.f}function pn(t){return t.b?1:t.a?t.a.a.c:0}function fn(t,e){return t.b?t=t.b==e:t.a?(e=an(e),t=Ae(t.a.a.b,e)):t=!1,t}function gn(t,e){t.a?t.a.add(e):t.b=e}function mn(t,e){var n;t.b&&t.b==e?t.b=null:((n=t.a)&&(n=an(e),n=Ae(t.a.a.b,n)),n&&xe(t.a.a,an(e)))}function yn(t){if(null!=t.b)return t.c.concat(t.b.j);if(null!=t.a&&0!=t.a.a.c){var e=t.c;return T(t.a.C(),function(t){e=e.concat(t.j)}),e}return k(t.c)}function vn(){}function bn(){this.a=new vn}function _n(t,e,n){var r=n||"";try{Ie(t,function(t,n){var i=t;f(t)&&(i=kt(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function wn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}un.prototype.cancel=function(){this.c=yn(this),this.b?(this.b.cancel(),this.b=null):this.a&&0!=this.a.a.c&&(T(this.a.C(),function(t){t.cancel()}),function(t){t.b={},t.a.length=0,t.c=0}(this.a.a))},vn.prototype.stringify=function(t){return s.JSON.stringify(t,void 0)},vn.prototype.parse=function(t){return s.JSON.parse(t,void 0)};var Cn=s.JSON.parse;function Sn(t){Tt.call(this),this.headers=new ke,this.H=t||null,this.b=!1,this.s=this.a=null,this.A="",this.h=0,this.f="",this.g=this.w=this.l=this.v=!1,this.o=0,this.m=null,this.I=En,this.D=this.F=!1}C(Sn,Tt);var En="",Tn=/^https?$/i,In=["POST","PUT"];function kn(t){return"content-type"==t.toLowerCase()}function xn(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,On(t),Pn(t)}function On(t){t.v||(t.v=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function An(t){if(t.b&&void 0!==o&&(!t.s[1]||4!=Dn(t)||2!=t.T()))if(t.l&&4==Dn(t))Bt(t.Fa,0,t);else if(t.dispatchEvent("readystatechange"),4==Dn(t)){t.b=!1;try{var e,n=t.T();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.A).match(Pe)[1]||null;if(!a&&s.self&&s.self.location){var l=s.self.location.protocol;a=l.substr(0,l.length-1)}i=!Tn.test(a?a.toLowerCase():"")}e=i}e?(t.dispatchEvent("complete"),t.dispatchEvent("success")):(t.h=6,t.f=t.za()+" ["+t.T()+"]",On(t))}finally{Pn(t)}}}function Pn(t,e){if(t.a){Nn(t);var n=t.a,r=t.s[0]?c:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){}}}function Nn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(s.clearTimeout(t.m),t.m=null)}function Dn(t){return t.a?t.a.readyState:0}function Rn(t,e){return t.a?t.a.getResponseHeader(e):null}function Mn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}if(r)return t;if(n=function(t){var e="";return M(n,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(),a(t)){if(e=encodeURIComponent(String(e)),e+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=t.indexOf("#"))&&(n=t.length),0>(r=t.indexOf("?"))||r>n){r=n;var i=""}else i=t.substring(r+1,n);n=(t=[t.substr(0,r),i,t.substr(n)])[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return Fe(t,e,n),t}function Ln(t){this.f=[],this.F=new on,this.ga=this.pa=this.B=this.ha=this.a=this.I=this.j=this.V=this.g=this.J=this.i=null,this.Ra=this.P=0,this.Pa=!!u("internalChannelParams.failFast",t),this.ia=this.w=this.s=this.l=this.h=this.c=null,this.oa=!0,this.m=this.ra=this.O=-1,this.S=this.v=this.A=0,this.Oa=u("internalChannelParams.baseRetryDelayMs",t)||5e3,this.Sa=u("internalChannelParams.retryDelaySeedMs",t)||1e4,this.Qa=u("internalChannelParams.forwardChannelMaxRetries",t)||2,this.qa=u("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.La=t&&t.Ab||void 0,this.D=void 0,this.R=t&&t.supportsCrossDomainXhr||!1,this.H="",this.b=new un(t&&t.concurrentRequestLimit),this.ja=new bn,this.o=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.W=t&&t.fastHandshake||!1)&&!this.o&&(this.o=!0),t&&t.forceLongPolling&&(this.oa=!1),this.fa=void 0}function Vn(t){if(Fn(t),3==t.u){var e=t.P++,n=De(t.B);Fe(n,"SID",t.H),Fe(n,"RID",e),Fe(n,"TYPE","terminate"),qn(t,n),(e=new he(t,e,void 0)).F=2,e.f=Ue(De(n)),n=!1,s.navigator&&s.navigator.sendBeacon&&(n=s.navigator.sendBeacon(e.f.toString(),"")),!n&&s.Image&&((new Image).src=e.f,n=!0),n||(e.a=e.g.$(null),e.a.ca(e.f)),e.v=w(),_e(e)}Yn(t)}function Fn(t){t.w&&(t.w.abort(),t.w=null),t.a&&(t.a.cancel(),t.a=null),t.l&&(s.clearTimeout(t.l),t.l=null),Gn(t),t.b.cancel(),t.h&&(l(t.h)&&s.clearTimeout(t.h),t.h=null)}function jn(t,e){t.f.push(new ln(t.Ra++,e)),3==t.u&&Un(t)}function Un(t){dn(t.b)||t.h||(t.h=!0,Mt(t.Ia,t),t.A=0)}function Bn(t,e){var n;n=e?e.W:t.P++;var r=De(t.B);Fe(r,"SID",t.H),Fe(r,"RID",n),Fe(r,"AID",t.O),qn(t,r),t.g&&t.i&&Mn(r,t.g,t.i),n=new he(t,n,t.A+1),null===t.g&&(n.h=t.i),e&&(t.f=e.j.concat(t.f)),e=zn(t,n,1e3),n.setTimeout(Math.round(.5*t.qa)+Math.round(.5*t.qa*Math.random())),gn(t.b,n),ge(n,r,e)}function qn(t,e){t.c&&Ie({},function(t,n){Fe(e,n,t)})}function zn(t,e,n){n=Math.min(t.f.length,n);var r=t.c?b(t.c.Ta,t.c,t):null;t:for(var i=t.f,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,l=0;l<n;l++){var u=i[l].b,c=i[l].a;if(0>(u-=o))o=Math.max(0,i[l].b-100),a=!1;else try{_n(c,s,"req"+u+"_")}catch(h){r&&r(c)}}if(a){r=s.join("&");break t}}return t=t.f.splice(0,n),e.j=t,r}function Wn(t){t.a||t.l||(t.S=1,Mt(t.Ha,t),t.v=0)}function Hn(t){return!(t.a||t.l||3<=t.v||(t.S++,t.l=ee(b(t.Ha,t),Qn(t,t.v)),t.v++,0))}function Kn(t,e,n){var r=e.l;r&&hn(t.b,r),t.ia=t.oa&&n,t.m=e.c,t.B=Jn(t,null,t.ha),Un(t)}function Gn(t){null!=t.s&&(s.clearTimeout(t.s),t.s=null)}function Qn(t,e){var n=t.Oa+Math.floor(Math.random()*t.Sa);return t.ma()||(n*=2),n*e}function $n(t,e){if(2==e){var n=null;t.c&&(n=null);var r=b(t.fb,t);n||(n=new Ne("//www.google.com/images/cleardot.gif"),s.location&&"http"==s.location.protocol||Re(n,"https"),Ue(n)),function(t,e){var n=new Qt;if(s.Image){var r=new Image;r.onload=_(wn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_(wn,n,r,"TestLoadImage: error",!1,e),r.onabort=_(wn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_(wn,n,r,"TestLoadImage: timeout",!1,e),s.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Zt(2);t.u=0,t.c&&t.c.ta(e),Yn(t),Fn(t)}function Yn(t){t.u=0,t.m=-1,t.c&&(0==yn(t.b).length&&0==t.f.length||(t.b.c.length=0,k(t.f),t.f.length=0),t.c.sa())}function Jn(t,e,n){var r=function(t){return t instanceof Ne?De(t):new Ne(t,void 0)}(n);if(""!=r.b)e&&Me(r,e+"."+r.b),Le(r,r.i);else{var i=s.location;r=function(t,e,n,r){var i=new Ne(null,void 0);return t&&Re(i,t),e&&Me(i,e),n&&Le(i,n),r&&(i.a=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&M(t.V,function(t,e){Fe(r,e,t)}),n=t.I,(e=t.j)&&n&&Fe(r,e,n),Fe(r,"VER",t.wa),qn(t,r),r}function Xn(){}function Zn(){if(z&&!(10<=Number(X)))throw Error("Environmental error: no available transport.")}function tr(t,e){Tt.call(this),this.a=new Ln(e),this.g=t,this.m=e&&e.testUrl?e.testUrl:function(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?e=i:((r=""==e)||(r=0<=(r=e.length-1)&&e.indexOf("/",r)==r),e+=r?i:"/"+i)}return e}(this.g,"test"),this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.i=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.xa&&(t?t["X-WebChannel-Client-Profile"]=e.xa:t={"X-WebChannel-Client-Profile":e.xa}),this.a.J=t,(t=e&&e.httpHeadersOverwriteParam)&&!x(t)&&(this.a.g=t),this.l=e&&e.supportsCrossDomainXhr||!1,this.h=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!x(e)&&(this.a.j=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new rr(this)}function er(t){le.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function nr(){ue.call(this),this.status=1}function rr(t){this.a=t}(r=Sn.prototype).ca=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.A+"; newUri="+t);e=e?e.toUpperCase():"GET",this.A=t,this.f="",this.h=0,this.v=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:se),this.a.onreadystatechange=b(this.Fa,this);try{this.w=!0,this.a.open(e,String(t),!0),this.w=!1}catch(o){return void xn(this,o)}t=n||"";var i=new ke(this.headers);r&&Ie(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=kn,n=t.length,r=a(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:a(t)?t.charAt(e):t[e]}(i.K()),n=s.FormData&&t instanceof s.FormData,!(0<=E(In,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Nn(this),0<this.o&&((this.D=function(t){return z&&tt(9)&&l(t.timeout)&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=b(this.Ca,this)):this.m=Bt(this.Ca,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){xn(this,o)}},r.Ca=function(){void 0!==o&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},r.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Pn(this))},r.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Pn(this,!0)),Sn.N.G.call(this)},r.Fa=function(){this.j||(this.w||this.l||this.g?An(this):this.$a())},r.$a=function(){An(this)},r.T=function(){try{return 2<Dn(this)?this.a.status:-1}catch(B){return-1}},r.za=function(){try{return 2<Dn(this)?this.a.statusText:""}catch(B){return""}},r.aa=function(){try{return this.a?this.a.responseText:""}catch(B){return""}},r.Va=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Cn(e)}},r.ya=function(){return this.h},r.Ya=function(){return a(this.f)?this.f:String(this.f)},(r=Ln.prototype).wa=8,r.u=1,r.Da=function(){return 0==this.u},r.Ia=function(t){if(this.h)if(this.h=null,1==this.u){if(!t){this.P=Math.floor(1e5*Math.random());var e,n=new he(this,t=this.P++,void 0),r=this.i;if(this.J&&(r?F(r=L(r),this.J):r=this.J),null===this.g&&(n.h=r),this.W)t:{for(var i=e=0;i<this.f.length;i++){var o=this.f[i];if(void 0===(o="__data__"in o.a&&a(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.f.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=zn(this,n,e),Fe(i=De(this.B),"RID",t),Fe(i,"CVER",22),this.o&&this.j&&Fe(i,"X-HTTP-Session-Id",this.j),qn(this,i),this.g&&r&&Mn(i,this.g,r),gn(this.b,n),this.W?(Fe(i,"$req",e),Fe(i,"SID","null"),n.S=!0,ge(n,i,null)):ge(n,i,e),this.u=2}}else 3==this.u&&(t?Bn(this,t):0==this.f.length||dn(this.b)||Bn(this))},r.Ha=function(){this.l=null,this.a=new he(this,"rpc",this.S),null===this.g&&(this.a.h=this.i),this.a.J=0;var t=De(this.pa);Fe(t,"RID","rpc"),Fe(t,"SID",this.H),Fe(t,"CI",this.ia?"0":"1"),Fe(t,"AID",this.O),qn(this,t),Fe(t,"TYPE","xmlhttp"),this.g&&this.i&&Mn(t,this.g,this.i),this.D&&this.a.setTimeout(this.D),me(this.a,t,!0,this.ga)},r.Ga=function(t,e){if(0!=this.u&&(this.a==t||fn(this.b,t)))if(this.m=t.o,!t.s&&fn(this.b,t)&&3==this.u){try{var n=this.ja.a.parse(e)}catch(o){n=null}if(d(n)&&3==n.length){if(0==(e=n)[0]){t:if(!this.l){if(this.a){if(!(this.a.v+3e3<t.v))break t;Gn(this),this.a.cancel(),this.a=null}Hn(this),Zt(18)}}else this.ra=e[1],0<this.ra-this.O&&37500>e[2]&&this.ia&&0==this.v&&!this.s&&(this.s=ee(b(this.Za,this),6e3));if(1>=pn(this.b)&&this.fa){try{this.fa()}catch(o){}this.fa=void 0}}else $n(this,11)}else if((t.s||this.a==t)&&Gn(this),!x(e))for(e=n=this.ja.a.parse(e),n=0;n<e.length;n++){var r=e[n];if(this.O=r[0],r=r[1],2==this.u)if("c"==r[0]){this.H=r[1],this.ga=r[2];var i=r[3];null!=i&&(this.wa=i),null!=(r=r[5])&&l(r)&&0<r&&(this.D=1.5*r),this.o&&(r=t.a)&&((i=Rn(r,"X-Client-Wire-Protocol"))&&hn(this.b,i),this.j&&(r=Rn(r,"X-HTTP-Session-Id")))&&(this.I=r,Fe(this.B,this.j,r)),this.u=3,this.c&&this.c.va(),r=t,this.pa=Jn(this,this.Y()?this.ga:null,this.ha),r.s?(mn(this.b,r),(i=this.D)&&r.setTimeout(i),r.i&&(Ce(r),_e(r)),this.a=r):Wn(this),0<this.f.length&&Un(this)}else"stop"!=r[0]&&"close"!=r[0]||$n(this,7);else 3==this.u&&("stop"==r[0]||"close"==r[0]?"stop"==r[0]?$n(this,7):Vn(this):"noop"!=r[0]&&this.c&&this.c.ua(r),this.v=0)}},r.Za=function(){null!=this.s&&(this.s=null,this.a.cancel(),this.a=null,Hn(this),Zt(19))},r.na=function(t){var e=null;if(this.a==t){Gn(this),this.a=null;var n=2}else{if(!fn(this.b,t))return;e=t.j,mn(this.b,t),n=1}if(this.m=t.o,0!=this.u)if(t.b)1==n?(e=w()-t.v,$t.dispatchEvent(new te($t,t.l?t.l.length:0,e,this.A)),Un(this)):Wn(this);else{var r=t.c;if(3==r||0==r&&0<this.m||!(1==n&&function(t,e){return!(pn(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.f=e.j.concat(t.f),0):1==t.u||2==t.u||t.A>=(t.Pa?0:t.Qa)||(t.h=ee(b(t.Ia,t,e),Qn(t,t.A)),t.A++,0)))}(this,t)||2==n&&Hn(this)))switch(e&&0<e.length&&(t=this.b,t.c=t.c.concat(e)),r){case 1:$n(this,5);break;case 4:$n(this,10);break;case 3:$n(this,6);break;default:$n(this,2)}}},r.fb=function(t){Zt(t?2:1)},r.$=function(t){if(t&&!this.R)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Sn(this.La)).F=this.R,t},r.ma=function(){return!!this.c&&!0},r.Y=function(){return this.R},(r=Xn.prototype).va=function(){},r.ua=function(){},r.ta=function(){},r.sa=function(){},r.Ta=function(){},Zn.prototype.a=function(t,e){return new tr(t,e)},C(tr,Tt),(r=tr.prototype).addEventListener=function(t,e,n,r){tr.N.addEventListener.call(this,t,e,n,r)},r.removeEventListener=function(t,e,n,r){tr.N.removeEventListener.call(this,t,e,n,r)},r.Wa=function(){this.a.c=this.f,this.l&&(this.a.R=!0);var t=this.a,e=this.m,n=this.g,r=this.b||void 0;Zt(0),t.ha=n,t.V=r||{},t.o&&(t.F.b=[],t.F.a=!1),t.w=new nn(t),null===t.g&&(t.w.h=t.i),n=e,t.g&&t.i&&(n=Mn(e,t.g,t.i)),(t=t.w).i=n,e=Jn(t.a,null,t.i),Zt(3),null!=(n=t.a.F.b)?(t.f=n[0],t.M=1,rn(t)):(je(e,"MODE","init"),!t.a.o&&t.a.j&&je(e,"X-HTTP-Session-Id",t.a.j),t.b=new he(t,void 0,void 0),t.b.h=t.h,me(t.b,e,!1,null),t.M=0)},r.close=function(){Vn(this.a)},r.Xa=function(t){if(a(t)){var e={};e.__data__=t,jn(this.a,e)}else this.h?((e={}).__data__=kt(t),jn(this.a,e)):jn(this.a,t)},r.G=function(){this.a.c=null,delete this.f,Vn(this.a),delete this.a,tr.N.G.call(this)},C(er,le),C(nr,ue),C(rr,Xn),rr.prototype.va=function(){this.a.dispatchEvent("a")},rr.prototype.ua=function(t){this.a.dispatchEvent(new er(t))},rr.prototype.ta=function(t){this.a.dispatchEvent(new nr(t))},rr.prototype.sa=function(){this.a.dispatchEvent("b")};var ir=_(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},Zn);Zn.prototype.createWebChannel=Zn.prototype.a,tr.prototype.send=tr.prototype.Xa,tr.prototype.open=tr.prototype.Wa,tr.prototype.close=tr.prototype.close,ne.NO_ERROR=0,ne.TIMEOUT=8,ne.HTTP_ERROR=6,re.COMPLETE="complete",oe.EventType=ae,ae.OPEN="a",ae.CLOSE="b",ae.ERROR="c",ae.MESSAGE="d",Tt.prototype.listen=Tt.prototype.Aa,Sn.prototype.listenOnce=Sn.prototype.Ba,Sn.prototype.getLastError=Sn.prototype.Ya,Sn.prototype.getLastErrorCode=Sn.prototype.ya,Sn.prototype.getStatus=Sn.prototype.T,Sn.prototype.getStatusText=Sn.prototype.za,Sn.prototype.getResponseJson=Sn.prototype.Va,Sn.prototype.getResponseText=Sn.prototype.aa,Sn.prototype.send=Sn.prototype.ca;var or={createWebChannelTransport:ir,ErrorCode:ne,EventType:re,WebChannel:oe,XhrIo:Sn},sr=or.createWebChannelTransport,ar=or.ErrorCode,lr=or.EventType,ur=or.WebChannel,cr=or.XhrIo;e.default=or},yLV6:function(t,e,n){var r;!function(i,o,s,a){"use strict";var l,u=["","webkit","Moz","MS","ms","o"],c=o.createElement("div"),h="function",d=Math.round,p=Math.abs,f=Date.now;function g(t,e,n){return setTimeout(C(t,n),e)}function m(t,e,n){return!!Array.isArray(t)&&(y(t,n[e],n),!0)}function y(t,e,n){var r;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==a)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function v(t,e,n){var r="DEPRECATED METHOD: "+e+"\n"+n+" AT \n";return function(){var e=new Error("get-stack-trace"),n=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=i.console&&(i.console.warn||i.console.log);return o&&o.call(i.console,r,n),t.apply(this,arguments)}}l="function"!=typeof Object.assign?function(t){if(t===a||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!==a&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e}:Object.assign;var b=v(function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&t[r[i]]===a)&&(t[r[i]]=e[r[i]]),i++;return t},"extend","Use `assign`."),_=v(function(t,e){return b(t,e,!0)},"merge","Use `assign`.");function w(t,e,n){var r,i=e.prototype;(r=t.prototype=Object.create(i)).constructor=t,r._super=i,n&&l(r,n)}function C(t,e){return function(){return t.apply(e,arguments)}}function S(t,e){return typeof t==h?t.apply(e&&e[0]||a,e):t}function E(t,e){return t===a?e:t}function T(t,e,n){y(O(e),function(e){t.addEventListener(e,n,!1)})}function I(t,e,n){y(O(e),function(e){t.removeEventListener(e,n,!1)})}function k(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function x(t,e){return t.indexOf(e)>-1}function O(t){return t.trim().split(/\s+/g)}function A(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function P(t){return Array.prototype.slice.call(t,0)}function N(t,e,n){for(var r=[],i=[],o=0;o<t.length;){var s=e?t[o][e]:t[o];A(i,s)<0&&r.push(t[o]),i[o]=s,o++}return n&&(r=e?r.sort(function(t,n){return t[e]>n[e]}):r.sort()),r}function D(t,e){for(var n,r,i=e[0].toUpperCase()+e.slice(1),o=0;o<u.length;){if((r=(n=u[o])?n+i:e)in t)return r;o++}return a}var R=1;function M(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||i}var L="ontouchstart"in i,V=D(i,"PointerEvent")!==a,F=L&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),j=25,U=1,B=4,q=8,z=1,W=2,H=4,K=8,G=16,Q=W|H,$=K|G,Y=Q|$,J=["x","y"],X=["clientX","clientY"];function Z(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){S(t.options.enable,[t])&&n.handler(e)},this.init()}function tt(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=e&U&&r-i==0,s=e&(B|q)&&r-i==0;n.isFirst=!!o,n.isFinal=!!s,o&&(t.session={}),n.eventType=e,function(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=et(e)),i>1&&!n.firstMultiple?n.firstMultiple=et(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,l=s?s.center:o.center,u=e.center=nt(r);e.timeStamp=f(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=st(l,u),e.distance=ot(l,u),function(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};e.eventType!==U&&o.eventType!==B||(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}(n,e),e.offsetDirection=it(e.deltaX,e.deltaY);var c,h,d=rt(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=d.x,e.overallVelocityY=d.y,e.overallVelocity=p(d.x)>p(d.y)?d.x:d.y,e.scale=s?(c=s.pointers,ot((h=r)[0],h[1],X)/ot(c[0],c[1],X)):1,e.rotation=s?function(t,e){return st(r[1],r[0],X)+st(t[1],t[0],X)}(s.pointers):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,function(t,e){var n,r,i,o,s=t.lastInterval||e,l=e.timeStamp-s.timeStamp;if(e.eventType!=q&&(l>j||s.velocity===a)){var u=e.deltaX-s.deltaX,c=e.deltaY-s.deltaY,h=rt(l,u,c);r=h.x,i=h.y,n=p(h.x)>p(h.y)?h.x:h.y,o=it(u,c),t.lastInterval=e}else n=s.velocity,r=s.velocityX,i=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}(n,e);var g=t.element;k(e.srcEvent.target,g)&&(g=e.srcEvent.target),e.target=g}(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function et(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:d(t.pointers[n].clientX),clientY:d(t.pointers[n].clientY)},n++;return{timeStamp:f(),pointers:e,center:nt(e),deltaX:t.deltaX,deltaY:t.deltaY}}function nt(t){var e=t.length;if(1===e)return{x:d(t[0].clientX),y:d(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:d(n/e),y:d(r/e)}}function rt(t,e,n){return{x:e/t||0,y:n/t||0}}function it(t,e){return t===e?z:p(t)>=p(e)?t<0?W:H:e<0?K:G}function ot(t,e,n){n||(n=J);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function st(t,e,n){return n||(n=J),180*Math.atan2(e[n[1]]-t[n[1]],e[n[0]]-t[n[0]])/Math.PI}Z.prototype={handler:function(){},init:function(){this.evEl&&T(this.element,this.evEl,this.domHandler),this.evTarget&&T(this.target,this.evTarget,this.domHandler),this.evWin&&T(M(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&I(this.element,this.evEl,this.domHandler),this.evTarget&&I(this.target,this.evTarget,this.domHandler),this.evWin&&I(M(this.element),this.evWin,this.domHandler)}};var at={mousedown:U,mousemove:2,mouseup:B},lt="mousedown",ut="mousemove mouseup";function ct(){this.evEl=lt,this.evWin=ut,this.pressed=!1,Z.apply(this,arguments)}w(ct,Z,{handler:function(t){var e=at[t.type];e&U&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=B),this.pressed&&(e&B&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var ht={pointerdown:U,pointermove:2,pointerup:B,pointercancel:q,pointerout:q},dt={2:"touch",3:"pen",4:"mouse",5:"kinect"},pt="pointerdown",ft="pointermove pointerup pointercancel";function gt(){this.evEl=pt,this.evWin=ft,Z.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}i.MSPointerEvent&&!i.PointerEvent&&(pt="MSPointerDown",ft="MSPointerMove MSPointerUp MSPointerCancel"),w(gt,Z,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=ht[r],o=dt[t.pointerType]||t.pointerType,s="touch"==o,a=A(e,t.pointerId,"pointerId");i&U&&(0===t.button||s)?a<0&&(e.push(t),a=e.length-1):i&(B|q)&&(n=!0),a<0||(e[a]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(a,1))}});var mt={touchstart:U,touchmove:2,touchend:B,touchcancel:q},yt="touchstart",vt="touchstart touchmove touchend touchcancel";function bt(){this.evTarget=yt,this.evWin=vt,this.started=!1,Z.apply(this,arguments)}w(bt,Z,{handler:function(t){var e=mt[t.type];if(e===U&&(this.started=!0),this.started){var n=(function(t,e){var n=P(t.touches),r=P(t.changedTouches);return e&(B|q)&&(n=N(n.concat(r),"identifier",!0)),[n,r]}).call(this,t,e);e&(B|q)&&n[0].length-n[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var _t={touchstart:U,touchmove:2,touchend:B,touchcancel:q},wt="touchstart touchmove touchend touchcancel";function Ct(){this.evTarget=wt,this.targetIds={},Z.apply(this,arguments)}w(Ct,Z,{handler:function(t){var e=_t[t.type],n=(function(t,e){var n=P(t.touches),r=this.targetIds;if(e&(2|U)&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,s=P(t.changedTouches),a=[],l=this.target;if(o=n.filter(function(t){return k(t.target,l)}),e===U)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<s.length;)r[s[i].identifier]&&a.push(s[i]),e&(B|q)&&delete r[s[i].identifier],i++;return a.length?[N(o.concat(a),"identifier",!0),a]:void 0}).call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}});var St=2500;function Et(){Z.apply(this,arguments);var t=C(this.handler,this);this.touch=new Ct(this.manager,t),this.mouse=new ct(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Tt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches;setTimeout(function(){var t=r.indexOf(n);t>-1&&r.splice(t,1)},St)}}w(Et,Z,{handler:function(t,e,n){var r="mouse"==n.pointerType;if(!(r&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if("touch"==n.pointerType)(function(t,e){t&U?(this.primaryTouch=e.changedPointers[0].identifier,Tt.call(this,e)):t&(B|q)&&Tt.call(this,e)}).call(this,e,n);else if(r&&(function(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),s=Math.abs(n-i.y);if(o<=25&&s<=25)return!0}return!1}).call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var It=D(c.style,"touchAction"),kt=It!==a,xt=function(){if(!kt)return!1;var t={},e=i.CSS&&i.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=!e||i.CSS.supports("touch-action",n)}),t}();function Ot(t,e){this.manager=t,this.set(e)}Ot.prototype={set:function(t){"compute"==t&&(t=this.compute()),kt&&this.manager.element.style&&xt[t]&&(this.manager.element.style[It]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return y(this.manager.recognizers,function(e){S(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(t){if(x(t,"none"))return"none";var e=x(t,"pan-x"),n=x(t,"pan-y");return e&&n?"none":e||n?e?"pan-x":"pan-y":x(t,"manipulation")?"manipulation":"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,i=x(r,"none")&&!xt.none,o=x(r,"pan-y")&&!xt["pan-y"],s=x(r,"pan-x")&&!xt["pan-x"];if(i&&1===t.pointers.length&&t.distance<2&&t.deltaTime<250)return;if(!s||!o)return i||o&&n&Q||s&&n&$?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var At=1,Pt=2,Nt=4,Dt=8,Rt=Dt,Mt=16;function Lt(t){this.options=l({},this.defaults,t||{}),this.id=R++,this.manager=null,this.options.enable=E(this.options.enable,!0),this.state=At,this.simultaneous={},this.requireFail=[]}function Vt(t){return t&Mt?"cancel":t&Dt?"end":t&Nt?"move":t&Pt?"start":""}function Ft(t){return t==G?"down":t==K?"up":t==W?"left":t==H?"right":""}function jt(t,e){var n=e.manager;return n?n.get(t):t}function Ut(){Lt.apply(this,arguments)}function Bt(){Ut.apply(this,arguments),this.pX=null,this.pY=null}function qt(){Ut.apply(this,arguments)}function zt(){Lt.apply(this,arguments),this._timer=null,this._input=null}function Wt(){Ut.apply(this,arguments)}function Ht(){Ut.apply(this,arguments)}function Kt(){Lt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Gt(t,e){return(e=e||{}).recognizers=E(e.recognizers,Gt.defaults.preset),new Qt(t,e)}function Qt(t,e){var n;this.options=l({},Gt.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((n=this).options.inputClass||(V?gt:F?Ct:L?Et:ct))(n,tt),this.touchAction=new Ot(this,this.options.touchAction),$t(this,!0),y(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function $t(t,e){var n,r=t.element;r.style&&(y(t.options.cssProps,function(i,o){n=D(r.style,o),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={}))}Lt.prototype={defaults:{},set:function(t){return l(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=jt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)?this:(t=jt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return-1===A(e,t=jt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=jt(t,this);var e=A(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function r(n){e.manager.emit(n,t)}n<Dt&&r(e.options.event+Vt(n)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),n>=Dt&&r(e.options.event+Vt(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(32|At)))return!1;t++}return!0},recognize:function(t){var e=l({},t);if(!S(this.options.enable,[this,e]))return this.reset(),void(this.state=32);this.state&(Rt|Mt|32)&&(this.state=At),this.state=this.process(e),this.state&(Pt|Nt|Dt|Mt)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},w(Ut,Lt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=e&(Pt|Nt),i=this.attrTest(t);return r&&(n&q||!i)?e|Mt:r||i?n&B?e|Dt:e&Pt?e|Nt:Pt:32}}),w(Bt,Ut,{defaults:{event:"pan",threshold:10,pointers:1,direction:Y},getTouchAction:function(){var t=this.options.direction,e=[];return t&Q&&e.push("pan-y"),t&$&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,s=t.deltaY;return i&e.direction||(e.direction&Q?(i=0===o?z:o<0?W:H,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===s?z:s<0?K:G,n=s!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return Ut.prototype.attrTest.call(this,t)&&(this.state&Pt||!(this.state&Pt)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Ft(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),w(qt,Ut,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&Pt)},emit:function(t){1!==t.scale&&(t.additionalEvent=this.options.event+(t.scale<1?"in":"out")),this._super.emit.call(this,t)}}),w(zt,Lt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime>e.time;if(this._input=t,!r||!n||t.eventType&(B|q)&&!i)this.reset();else if(t.eventType&U)this.reset(),this._timer=g(function(){this.state=Rt,this.tryEmit()},e.time,this);else if(t.eventType&B)return Rt;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===Rt&&(t&&t.eventType&B?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),w(Wt,Ut,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&Pt)}}),w(Ht,Ut,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Q|$,pointers:1},getTouchAction:function(){return Bt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(Q|$)?e=t.overallVelocity:n&Q?e=t.overallVelocityX:n&$&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&p(e)>this.options.velocity&&t.eventType&B},emit:function(t){var e=Ft(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),w(Kt,Lt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,i=t.deltaTime<e.time;if(this.reset(),t.eventType&U&&0===this.count)return this.failTimeout();if(r&&i&&n){if(t.eventType!=B)return this.failTimeout();var o=!this.pTime||t.timeStamp-this.pTime<e.interval,s=!this.pCenter||ot(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,s&&o?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=g(function(){this.state=Rt,this.tryEmit()},e.interval,this),Pt):Rt}return 32},failTimeout:function(){return this._timer=g(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==Rt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Gt.VERSION="2.0.7",Gt.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[Wt,{enable:!1}],[qt,{enable:!1},["rotate"]],[Ht,{direction:Q}],[Bt,{direction:Q},["swipe"]],[Kt],[Kt,{event:"doubletap",taps:2},["tap"]],[zt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Qt.prototype={set:function(t){return l(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var n;this.touchAction.preventDefaults(t);var r=this.recognizers,i=e.curRecognizer;(!i||i&&i.state&Rt)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&n.state&(Pt|Nt|Dt)&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof Lt)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=A(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==a&&e!==a){var n=this.handlers;return y(O(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(t!==a){var n=this.handlers;return y(O(t),function(t){e?n[t]&&n[t].splice(A(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var n=o.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&$t(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(Gt,{INPUT_START:U,INPUT_MOVE:2,INPUT_END:B,INPUT_CANCEL:q,STATE_POSSIBLE:At,STATE_BEGAN:Pt,STATE_CHANGED:Nt,STATE_ENDED:Dt,STATE_RECOGNIZED:Rt,STATE_CANCELLED:Mt,STATE_FAILED:32,DIRECTION_NONE:z,DIRECTION_LEFT:W,DIRECTION_RIGHT:H,DIRECTION_UP:K,DIRECTION_DOWN:G,DIRECTION_HORIZONTAL:Q,DIRECTION_VERTICAL:$,DIRECTION_ALL:Y,Manager:Qt,Input:Z,TouchAction:Ot,TouchInput:Ct,MouseInput:ct,PointerEventInput:gt,TouchMouseInput:Et,SingleTouchInput:bt,Recognizer:Lt,AttrRecognizer:Ut,Tap:Kt,Pan:Bt,Swipe:Ht,Pinch:qt,Rotate:Wt,Press:zt,on:T,off:I,each:y,merge:_,extend:b,assign:l,inherit:w,bindFn:C,prefixed:D}),(void 0!==i?i:"undefined"!=typeof self?self:{}).Hammer=Gt,(r=(function(){return Gt}).call(e,n,e,t))===a||(t.exports=r)}(window,document)},zUnb:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.r(e),n("yLV6");let i=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=t},get useDeprecatedSynchronousErrorHandling(){return i}};function s(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(o.useDeprecatedSynchronousErrorHandling)throw t;s(t)},complete(){}},l=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function u(t){return null!==t&&"object"==typeof t}const c=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:i,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(r(i))try{i.call(this)}catch(s){e=s instanceof c?d(s.errors):[s]}if(l(o)){let t=-1,n=o.length;for(;++t<n;){const n=o[t];if(u(n))try{n.unsubscribe()}catch(s){e=e||[],s instanceof c?e=e.concat(d(s.errors)):e.push(s)}}}if(e)throw new c(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;(n=new t)._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof c?e.errors:e),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class f extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof f?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new g(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new g(this,t,e,n)}}[p](){return this}static create(t,e,n){const r=new f(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class g extends f{constructor(t,e,n,i){let o;super(),this._parentSubscriber=t;let s=this;r(e)?o=e:e&&(o=e.next,n=e.error,i=e.complete,e!==a&&(r((s=Object.create(e)).unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=i}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):s(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;s(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(t,e,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return o.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(s(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const m=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function y(){}function v(...t){return b(t)}function b(t){return t?1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}:y}let _=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:r}=this,i=function(t,e,n){if(t){if(t instanceof f)return t;if(t[p])return t[p]()}return t||e||n?new f(t,e,n):new f(a)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),o.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(t){try{return this._subscribe(t)}catch(e){o.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:r}=t;if(e||r)return!1;t=n&&n instanceof f?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=w(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[m](){return this}pipe(...t){return 0===t.length?this:b(t)(this)}toPromise(t){return new(t=w(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function w(t){if(t||(t=o.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const C=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class S extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class E extends f{constructor(t){super(t),this.destination=t}}let T=(()=>{class t extends _{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new E(this)}lift(t){const e=new I(this,this);return e.operator=t,e}next(t){if(this.closed)throw new C;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new C;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new C;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new C;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new C;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new S(this,t))}asObservable(){const t=new _;return t.source=this,t}}return t.create=(t,e)=>new I(t,e),t})();class I extends T{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function k(t){return t&&"function"==typeof t.schedule}class x extends f{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const O=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()};function A(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const P=A(),N=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function D(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const R=t=>{if(t&&"function"==typeof t[m])return(t=>e=>{const n=t[m]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)})(t);if(N(t))return O(t);if(D(t))return(t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,s),e))(t);if(t&&"function"==typeof t[P])return(t=>e=>{const n=t[P]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e})(t);{const e=u(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function M(t,e,n,r,i=new x(t,n,r)){if(!i.closed)return e instanceof _?e.subscribe(i):R(e)(i)}class L extends f{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function V(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new F(t,e))}}class F{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new j(t,this.project,this.thisArg))}}class j extends f{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function U(t,e){return new _(n=>{const r=new h;let i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function B(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[m]}(t))return function(t,e){return new _(n=>{const r=new h;return r.add(e.schedule(()=>{const i=t[m]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(D(t))return function(t,e){return new _(n=>{const r=new h;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(N(t))return U(t,e);if(function(t){return t&&"function"==typeof t[P]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new _(n=>{const r=new h;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[P](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const o=i.next();t=o.value,e=o.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof _?t:new _(R(t))}function q(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?r=>r.pipe(q((n,r)=>B(t(n,r)).pipe(V((t,i)=>e(n,t,r,i))),n)):("number"==typeof e&&(n=e),e=>e.lift(new z(t,n)))}class z{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new W(t,this.project,this.concurrent))}}class W extends L{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const r=new x(this,void 0,void 0);this.destination.add(r),M(this,t,e,n,r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,r,i){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function H(t){return t}function K(t=Number.POSITIVE_INFINITY){return q(H,t)}function G(t,e){return e?U(t,e):new _(O(t))}function Q(...t){let e=Number.POSITIVE_INFINITY,n=null,r=t[t.length-1];return k(r)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof r&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof _?t[0]:K(e)(G(t,n))}function $(){return function(t){return t.lift(new Y(t))}}class Y{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new J(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class J extends f{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class X extends _{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new h).add(this.source.subscribe(new tt(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return $()(this)}}const Z=(()=>{const t=X.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class tt extends E{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function et(){return new T}function nt(){return t=>$()(function(t,e){return function(e){let n;n="function"==typeof t?t:function(){return t};const r=Object.create(e,Z);return r.source=e,r.subjectFactory=n,r}}(et)(t))}const rt="__annotations__",it="__parameters__",ot="__prop__metadata__";function st(t,e,n,r,i){const o=at(e);function s(...t){if(this instanceof s)return o.call(this,...t),this;const e=new s(...t);return function(n){return i&&i(n,...t),(n.hasOwnProperty(rt)?n[rt]:Object.defineProperty(n,rt,{value:[]})[rt]).push(e),r&&r(n),n}}return n&&(s.prototype=Object.create(n.prototype)),s.prototype.ngMetadataName=t,s.annotationCls=s,s}function at(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}function lt(t,e,n){const r=at(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(it)?t[it]:Object.defineProperty(t,it,{value:[]})[it];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}function ut(t,e,n,r){const i=at(e);function o(...t){if(this instanceof o)return i.apply(this,t),this;const e=new o(...t);return function(n,i){const o=n.constructor,s=o.hasOwnProperty(ot)?o[ot]:Object.defineProperty(o,ot,{value:{}})[ot];s[i]=s.hasOwnProperty(i)&&s[i]||[],s[i].unshift(e),r&&r(n,i,...t)}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o}const ct=lt("Inject",t=>({token:t})),ht=lt("Optional"),dt=lt("Self"),pt=lt("SkipSelf");var ft=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function gt(t){for(let e in t)if(t[e]===gt)return e;throw Error("Could not find renamed property on target object.")}function mt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function yt(t){const e=t[vt];return e&&e.token===t?e:null}const vt=gt({ngInjectableDef:gt});function bt(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(bt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}const _t=gt({__forward_ref__:gt});function wt(t){return t.__forward_ref__=wt,t.toString=function(){return bt(this())},t}function Ct(t){const e=t;return"function"==typeof e&&e.hasOwnProperty(_t)&&e.__forward_ref__===wt?e():t}const St="undefined"!=typeof globalThis&&globalThis,Et="undefined"!=typeof window&&window,Tt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,It="undefined"!=typeof global&&global,kt=St||It||Et||Tt;class xt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.ngInjectableDef=mt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ot=new xt("INJECTOR",-1),At=new Object,Pt="ngTempTokenPath",Nt="ngTokenPath",Dt=/\n/gm,Rt="\u0275",Mt="__source",Lt=gt({provide:String,useValue:gt});let Vt,Ft=void 0;function jt(t){const e=Ft;return Ft=t,e}function Ut(t,e=ft.Default){return(Vt||function(t,e=ft.Default){if(void 0===Ft)throw new Error("inject() must be called from an injection context");return null===Ft?function(t,e,n){const r=yt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&ft.Optional)return null;throw new Error(`Injector: NOT_FOUND [${bt(t)}]`)}(t,0,e):Ft.get(t,e&ft.Optional?null:void 0,e)})(t,e)}const Bt=Ut;function qt(t){const e=[];for(let n=0;n<t.length;n++){const r=Ct(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=ft.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof ht||"Optional"===i.ngMetadataName||i===ht?n|=ft.Optional:i instanceof pt||"SkipSelf"===i.ngMetadataName||i===pt?n|=ft.SkipSelf:i instanceof dt||"Self"===i.ngMetadataName||i===dt?n|=ft.Self:t=i instanceof ct||i===ct?i.token:i}e.push(Ut(t,n))}else e.push(Ut(r))}return e}class zt{get(t,e=At){if(e===At){const e=new Error(`NullInjectorError: No provider for ${bt(t)}!`);throw e.name="NullInjectorError",e}return e}}function Wt(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==Rt?t.substr(2):t;let i=bt(e);if(e instanceof Array)i=e.map(bt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):bt(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(Dt,"\n  ")}`}class Ht{}class Kt{}function Gt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Qt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}const $t=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),Yt=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),Jt=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(kt))(),Xt="ngDebugContext",Zt="ngOriginalError",te="ngErrorLogger";function ee(t){return t[Xt]}function ne(t){return t[Zt]}function re(t,...e){t.error(...e)}class ie{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[te]||re}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?ee(t)?ee(t):this._findContext(ne(t)):null}_findOriginalError(t){let e=ne(t);for(;e&&ne(e);)e=ne(e);return e}}let oe=!0,se=!1;function ae(){return se=!0,oe}class le{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t),this.inertBodyElement=this.inertDocument.createElement("body"),t.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}const e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);const n=e.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(t){t="<body><remove></remove>"+t+"</body>";try{const n=(new window.DOMParser).parseFromString(t,"text/html").body;return n.removeChild(n.firstChild),n}catch(e){return null}}getInertBodyElement_InertDocument(t){const e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const ue=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,ce=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function he(t){return(t=String(t)).match(ue)||t.match(ce)?t:(ae()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function de(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function pe(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const fe=de("area,br,col,hr,img,wbr"),ge=de("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),me=de("rp,rt"),ye=pe(me,ge),ve=pe(fe,pe(ge,de("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pe(me,de("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ye),be=de("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_e=de("srcset"),we=pe(be,_e,de("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),de("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ce=de("script,style,template");class Se{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ve.hasOwnProperty(e))return this.sanitizedSomething=!0,!Ce.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!we.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;be[o]&&(s=he(s)),_e[o]&&(r=s,s=(r=String(r)).split(",").map(t=>he(t.trim())).join(", ")),this.buf.push(" ",e,'="',Ie(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ve.hasOwnProperty(e)&&!fe.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(Ie(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const Ee=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Te=/([^\#-~ |!])/g;function Ie(t){return t.replace(/&/g,"&amp;").replace(Ee,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(Te,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ke;function xe(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}const Oe=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();class Ae{}const Pe=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Ne=/^url\(([^)]+)\)$/,De=/([A-Z])/g;function Re(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}let Me=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Le(),t})();const Le=(...t)=>{},Ve=Function;function Fe(t){return"function"==typeof t}const je=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,Ue=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Be=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,qe=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s+super\(\.\.\.arguments\)/;class ze{constructor(t){this._reflect=t||kt.Reflect}isReflectionEnabled(){return!0}factory(t){return(...e)=>new t(...e)}_zipTypesAndAnnotations(t,e){let n;n=void 0===t?new Array(e.length):new Array(t.length);for(let r=0;r<n.length;r++)n[r]=void 0===t?[]:t[r]&&t[r]!=Object?[t[r]]:[],e&&null!=e[r]&&(n[r]=n[r].concat(e[r]));return n}_ownParameters(t,e){if(function(t){return je.test(t)||qe.test(t)||Ue.test(t)&&!Be.test(t)}(t.toString()))return null;if(t.parameters&&t.parameters!==e.parameters)return t.parameters;const n=t.ctorParameters;if(n&&n!==e.ctorParameters){const t="function"==typeof n?n():n,e=t.map(t=>t&&t.type),r=t.map(t=>t&&We(t.decorators));return this._zipTypesAndAnnotations(e,r)}const r=t.hasOwnProperty(it)&&t[it],i=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",t);return i||r?this._zipTypesAndAnnotations(i,r):new Array(t.length).fill(void 0)}parameters(t){if(!Fe(t))return[];const e=He(t);let n=this._ownParameters(t,e);return n||e===Object||(n=this.parameters(e)),n||[]}_ownAnnotations(t,e){if(t.annotations&&t.annotations!==e.annotations){let e=t.annotations;return"function"==typeof e&&e.annotations&&(e=e.annotations),e}return t.decorators&&t.decorators!==e.decorators?We(t.decorators):t.hasOwnProperty(rt)?t[rt]:null}annotations(t){if(!Fe(t))return[];const e=He(t),n=this._ownAnnotations(t,e)||[];return(e!==Object?this.annotations(e):[]).concat(n)}_ownPropMetadata(t,e){if(t.propMetadata&&t.propMetadata!==e.propMetadata){let e=t.propMetadata;return"function"==typeof e&&e.propMetadata&&(e=e.propMetadata),e}if(t.propDecorators&&t.propDecorators!==e.propDecorators){const e=t.propDecorators,n={};return Object.keys(e).forEach(t=>{n[t]=We(e[t])}),n}return t.hasOwnProperty(ot)?t[ot]:null}propMetadata(t){if(!Fe(t))return{};const e=He(t),n={};if(e!==Object){const t=this.propMetadata(e);Object.keys(t).forEach(e=>{n[e]=t[e]})}const r=this._ownPropMetadata(t,e);return r&&Object.keys(r).forEach(t=>{const e=[];n.hasOwnProperty(t)&&e.push(...n[t]),e.push(...r[t]),n[t]=e}),n}ownPropMetadata(t){return Fe(t)&&this._ownPropMetadata(t,He(t))||{}}hasLifecycleHook(t,e){return t instanceof Ve&&e in t.prototype}guards(t){return{}}getter(t){return new Function("o","return o."+t+";")}setter(t){return new Function("o","v","return o."+t+" = v;")}method(t){return new Function("o","args",`if (!o.${t}) throw new Error('"${t}" is undefined');\n        return o.${t}.apply(o, args);`)}importUri(t){return"object"==typeof t&&t.filePath?t.filePath:`./${bt(t)}`}resourceUri(t){return`./${bt(t)}`}resolveIdentifier(t,e,n,r){return r}resolveEnum(t,e){return t[e]}}function We(t){return t?t.map(t=>new(0,t.type.annotationCls)(...t.args?t.args:[])):[]}function He(t){const e=t.prototype?Object.getPrototypeOf(t.prototype):null;return(e?e.constructor:null)||Object}const Ke=gt({provide:String,useValue:gt}),Ge=[];function Qe(t,e){if(!e){const e=(new ze).parameters(t);return()=>new t(...qt(e))}if(Ke in e){const t=e;return()=>t.useValue}if(e.useExisting){const t=e;return()=>Ut(t.useExisting)}if(e.useFactory){const t=e;return()=>t.useFactory(...qt(t.deps||Ge))}if(e.useClass){const n=e;let r=e.deps;if(!r){const e=new ze;r=e.parameters(t)}return()=>new n.useClass(...qt(r))}{let n=e.deps;if(!n){const e=new ze;n=e.parameters(t)}return()=>new t(...qt(n))}}const $e=st("Injectable",void 0,void 0,void 0,(t,e)=>Ye(t,e)),Ye=function(t,e){e&&void 0!==e.providedIn&&!yt(t)&&(t.ngInjectableDef=mt({token:t,providedIn:e.providedIn,factory:Qe(t,e)}))},Je=new xt("The presence of this token marks an injector as being the root injector."),Xe=function(t,e,n){return new sn(t,e,n)};let Ze=(()=>{class t{static create(t,e){return Array.isArray(t)?Xe(t,e,""):Xe(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=At,t.NULL=new zt,t.ngInjectableDef=mt({token:t,providedIn:"any",factory:()=>Ut(Ot)}),t.__NG_ELEMENT_ID__=-1,t})();const tn=function(t){return t},en=[],nn=tn,rn=function(){return Array.prototype.slice.call(arguments)},on="\u0275";class sn{constructor(t,e=Ze.NULL,n=null){this.parent=e,this.source=n;const r=this._records=new Map;r.set(Ze,{token:Ze,fn:tn,deps:en,value:this,useNew:!1}),r.set(Ot,{token:Ot,fn:tn,deps:en,value:this,useNew:!1}),function t(e,n){if(n)if((n=Ct(n))instanceof Array)for(let r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw ln("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw ln("Unexpected provider",n);{let t=Ct(n.provide);const r=function(t){const e=function(t){let e=en;const n=t.deps;if(n&&n.length){e=[];for(let t=0;t<n.length;t++){let r=6,i=Ct(n[t]);if(i instanceof Array)for(let t=0,e=i;t<e.length;t++){const n=e[t];n instanceof ht||n==ht?r|=1:n instanceof pt||n==pt?r&=-3:n instanceof dt||n==dt?r&=-5:i=n instanceof ct?n.token:Ct(n)}e.push({token:i,options:r})}}else if(t.useExisting)e=[{token:Ct(t.useExisting),options:6}];else if(!(n||Lt in t))throw ln("'deps' required",t);return e}(t);let n=tn,r=en,i=!1,o=Ct(t.provide);if(Lt in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)i=!0,n=Ct(t.useClass);else{if("function"!=typeof o)throw ln("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);i=!0,n=o}return{deps:e,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){let r=e.get(t);if(r){if(r.fn!==rn)throw an(t)}else e.set(t,r={token:n.provide,deps:[],useNew:!1,fn:rn,value:en});r.deps.push({token:t=n,options:6})}const i=e.get(t);if(i&&i.fn==rn)throw an(t);e.set(t,r)}}}(r,t)}get(t,e,n=ft.Default){const r=this._records.get(t);try{return function t(e,n,r,i,o,s){try{return function(e,n,r,i,o,s){let a;if(!n||s&ft.SkipSelf)s&ft.Self||(a=i.get(e,o,ft.Default));else{if((a=n.value)==nn)throw Error(on+"Circular dependency");if(a===en){n.value=nn;let e=void 0,o=n.useNew,s=n.fn,l=n.deps,u=en;if(l.length){u=[];for(let e=0;e<l.length;e++){const n=l[e],o=n.options,s=2&o?r.get(n.token):void 0;u.push(t(n.token,s,r,s||4&o?i:Ze.NULL,1&o?null:Ze.THROW_IF_NOT_FOUND,ft.Default))}}n.value=a=o?new s(...u):s.apply(e,u)}}return a}(e,n,r,i,o,s)}catch(a){throw a instanceof Error||(a=new Error(a)),(a[Pt]=a[Pt]||[]).unshift(e),n&&n.value==nn&&(n.value=en),a}}(t,r,this._records,this.parent,e,n)}catch(i){return function(t,e,n,r){const i=t[Pt];throw e[Mt]&&i.unshift(e[Mt]),t.message=Wt("\n"+t.message,i,"StaticInjectorError",r),t[Nt]=i,t[Pt]=null,t}(i,t,0,this.source)}}toString(){const t=[];return this._records.forEach((e,n)=>t.push(bt(n))),`StaticInjector[${t.join(", ")}]`}}function an(t){return ln("Cannot mix multi providers and regular providers",t)}function ln(t,e){return new Error(Wt(t,e,"StaticInjectorError"))}const un=new xt("AnalyzeForEntryComponents");class cn{}const hn=ut("ContentChildren",(t,e={})=>Object.assign({selector:t,first:!1,isViewQuery:!1,descendants:!1},e),cn);let dn=null;function pn(){if(!dn){const t=kt.Symbol;if(t&&t.iterator)dn=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(dn=n)}}}return dn}function fn(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function gn(t,e){const n=yn(t),r=yn(e);if(n&&r)return function(t,e,n){const r=t[pn()](),i=e[pn()]();for(;;){const t=r.next(),e=i.next();if(t.done&&e.done)return!0;if(t.done||e.done)return!1;if(!n(t.value,e.value))return!1}}(t,e,gn);{const i=t&&("object"==typeof t||"function"==typeof t),o=e&&("object"==typeof e||"function"==typeof e);return!(n||!i||r||!o)||fn(t,e)}}class mn{constructor(t){this.wrapped=t}static wrap(t){return new mn(t)}static unwrap(t){return mn.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof mn}}function yn(t){return!!vn(t)&&(Array.isArray(t)||!(t instanceof Map)&&pn()in t)}function vn(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function bn(t){return!!t&&"function"==typeof t.then}function _n(t){return!!t&&"function"==typeof t.subscribe}class wn{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}class Cn{}class Sn{}function En(t){const e=Error(`No component factory found for ${bt(t)}. Did you add it to @NgModule.entryComponents?`);return e[Tn]=t,e}const Tn="ngComponent";class In{resolveComponentFactory(t){throw En(t)}}let kn=(()=>{class t{}return t.NULL=new In,t})();class xn{constructor(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(let r=0;r<t.length;r++){const e=t[r];this._factories.set(e.componentType,e)}}resolveComponentFactory(t){let e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw En(t);return new On(e,this._ngModule)}}class On extends Sn{constructor(t,e){super(),this.factory=t,this.ngModule=e,this.selector=t.selector,this.componentType=t.componentType,this.ngContentSelectors=t.ngContentSelectors,this.inputs=t.inputs,this.outputs=t.outputs}create(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)}}function An(...t){}let Pn=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Nn(t),t})();const Nn=An;class Dn{}class Rn{}const Mn=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let Ln=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Vn(),t})();const Vn=An;class Fn{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const jn=new Fn("8.2.5");class Un{constructor(){}supports(t){return yn(t)}create(t){return new qn(t)}}const Bn=(t,e)=>e;class qn{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Bn}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Kn(n,r,i)?e:n,s=Kn(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!yn(t))throw new Error(`Error trying to diff '${bt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)r=this._trackByFn(e,n=t[e]),null!==i&&fn(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),fn(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[pn()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&fn(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),fn(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(fn(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(fn(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new zn(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Hn),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Hn),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class zn{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Wn{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&fn(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Hn{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Wn,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Kn(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Gn{constructor(){}supports(t){return t instanceof Map||vn(t)}create(){return new Qn}}class Qn{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||vn(t)))throw new Error(`Error trying to diff '${bt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new $n(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){fn(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class $n{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Yn=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new pt,new ht]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.ngInjectableDef=mt({token:t,providedIn:"root",factory:()=>new t([new Un])}),t})(),Jn=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new pt,new ht]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.ngInjectableDef=mt({token:t,providedIn:"root",factory:()=>new t([new Gn])}),t})();const Xn=[new Gn],Zn=new Yn([new Un]),tr=new Jn(Xn);let er=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>nr(t,Pn),t})();const nr=An;let rr=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ir(t,Pn),t})();const ir=An;function or(t,e,n,r){let i=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${e}'. Current value: '${n}'.`;return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){const n=new Error(t);return sr(n,e),n}(i,t)}function sr(t,e){t[Xt]=e,t[te]=e.logError.bind(e)}function ar(t){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${t}`)}function lr(t,e,n){const r=t.state,i=1792&r;return i===e?(t.state=-1793&r|n,t.initIndex=-1,!0):i===n}function ur(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function cr(t,e){return t.nodes[e]}function hr(t,e){return t.nodes[e]}function dr(t,e){return t.nodes[e]}function pr(t,e){return t.nodes[e]}function fr(t,e){return t.nodes[e]}const gr={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},mr=()=>{},yr=new Map;function vr(t){let e=yr.get(t);return e||(e=bt(t)+"_"+yr.size,yr.set(t,e)),e}function br(t,e,n,r){if(mn.isWrapped(r)){r=mn.unwrap(r);const i=t.def.nodes[e].bindingIndex+n,o=mn.unwrap(t.oldValues[i]);t.oldValues[i]=new mn(o)}return r}const _r="$$undefined",wr="$$empty";function Cr(t){return{id:_r,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}let Sr=0;function Er(t,e,n,r){return!(!(2&t.state)&&fn(t.oldValues[e.bindingIndex+n],r))}function Tr(t,e,n,r){return!!Er(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function Ir(t,e,n,r){const i=t.oldValues[e.bindingIndex+n];if(1&t.state||!gn(i,r)){const o=e.bindings[n].name;throw or(gr.createDebugContext(t,e.nodeIndex),`${o}: ${i}`,`${o}: ${r}`,0!=(1&t.state))}}function kr(t){let e=t;for(;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function xr(t,e){let n=t;for(;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function Or(t,e,n,r){try{return kr(33554432&t.def.nodes[e].flags?hr(t,e).componentView:t),gr.handleEvent(t,e,n,r)}catch(i){t.root.errorHandler.handleError(i)}}function Ar(t){return t.parent?hr(t.parent,t.parentNodeDef.nodeIndex):null}function Pr(t){return t.parent?t.parentNodeDef.parent:null}function Nr(t,e){switch(201347067&e.flags){case 1:return hr(t,e.nodeIndex).renderElement;case 2:return cr(t,e.nodeIndex).renderText}}function Dr(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function Rr(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function Mr(t){return 1<<t%32}function Lr(t){const e={};let n=0;const r={};return t&&t.forEach(([t,i])=>{"number"==typeof t?(e[t]=i,n|=Mr(t)):r[t]=i}),{matchedQueries:e,references:r,matchedQueryIds:n}}function Vr(t,e){return t.map(t=>{let n,r;return Array.isArray(t)?[r,n]=t:(r=0,n=t),n&&("function"==typeof n||"object"==typeof n)&&e&&Object.defineProperty(n,Mt,{value:e,configurable:!0}),{flags:r,token:n,tokenKey:vr(n)}})}function Fr(t,e,n){let r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===Yt.Native?hr(t,n.renderParent.nodeIndex).renderElement:void 0:e}const jr=new WeakMap;function Ur(t){let e=jr.get(t);return e||((e=t(()=>mr)).factory=t,jr.set(t,e)),e}function Br(t,e,n,r,i){3===e&&(n=t.renderer.parentNode(Nr(t,t.def.lastRenderRootNode))),qr(t,e,0,t.def.nodes.length-1,n,r,i)}function qr(t,e,n,r,i,o,s){for(let a=n;a<=r;a++){const n=t.def.nodes[a];11&n.flags&&Wr(t,n,e,i,o,s),a+=n.childCount}}function zr(t,e,n,r,i,o){let s=t;for(;s&&!Dr(s);)s=s.parent;const a=s.parent,l=Pr(s),u=l.nodeIndex+l.childCount;for(let c=l.nodeIndex+1;c<=u;c++){const t=a.def.nodes[c];t.ngContentIndex===e&&Wr(a,t,n,r,i,o),c+=t.childCount}if(!a.parent){const s=t.root.projectableNodes[e];if(s)for(let e=0;e<s.length;e++)Hr(t,s[e],n,r,i,o)}}function Wr(t,e,n,r,i,o){if(8&e.flags)zr(t,e.ngContent.index,n,r,i,o);else{const s=Nr(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Hr(t,s,n,r,i,o),32&e.bindingFlags&&Hr(hr(t,e.nodeIndex).componentView,s,n,r,i,o)):Hr(t,s,n,r,i,o),16777216&e.flags){const s=hr(t,e.nodeIndex).viewContainer._embeddedViews;for(let t=0;t<s.length;t++)Br(s[t],n,r,i,o)}1&e.flags&&!e.element.name&&qr(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,i,o)}}function Hr(t,e,n,r,i,o){const s=t.renderer;switch(n){case 1:s.appendChild(r,e);break;case 2:s.insertBefore(r,e,i);break;case 3:s.removeChild(r,e);break;case 0:o.push(e)}}const Kr=/^:([^:]+):(.+)$/;function Gr(t){if(":"===t[0]){const e=t.match(Kr);return[e[1],e[2]]}return["",t]}function Qr(t){let e=0;for(let n=0;n<t.length;n++)e|=t[n].flags;return e}function $r(t,e,n,r,i,o,s,a,l,u,c,h,d,p,f,g,m,y,v,b){switch(t){case 1:return e+Yr(n)+r;case 2:return e+Yr(n)+r+Yr(i)+o;case 3:return e+Yr(n)+r+Yr(i)+o+Yr(s)+a;case 4:return e+Yr(n)+r+Yr(i)+o+Yr(s)+a+Yr(l)+u;case 5:return e+Yr(n)+r+Yr(i)+o+Yr(s)+a+Yr(l)+u+Yr(c)+h;case 6:return e+Yr(n)+r+Yr(i)+o+Yr(s)+a+Yr(l)+u+Yr(c)+h+Yr(d)+p;case 7:return e+Yr(n)+r+Yr(i)+o+Yr(s)+a+Yr(l)+u+Yr(c)+h+Yr(d)+p+Yr(f)+g;case 8:return e+Yr(n)+r+Yr(i)+o+Yr(s)+a+Yr(l)+u+Yr(c)+h+Yr(d)+p+Yr(f)+g+Yr(m)+y;case 9:return e+Yr(n)+r+Yr(i)+o+Yr(s)+a+Yr(l)+u+Yr(c)+h+Yr(d)+p+Yr(f)+g+Yr(m)+y+Yr(v)+b;default:throw new Error("Does not support more than 9 expressions")}}function Yr(t){return null!=t?t.toString():""}const Jr=new Object,Xr=vr(Ze),Zr=vr(Ot),ti=vr(Ht);function ei(t,e,n,r){return n=Ct(n),{index:-1,deps:Vr(r,bt(e)),flags:t,token:e,value:n}}function ni(t,e,n=Ze.THROW_IF_NOT_FOUND){const r=jt(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);const s=e.tokenKey;switch(s){case Xr:case Zr:case ti:return t}const a=t._def.providersByKey[s];let l;if(a){let e=t._providers[a.index];return void 0===e&&(e=t._providers[a.index]=ri(t,a)),e===Jr?void 0:e}if((l=yt(e.token))&&(i=t,null!=(o=l).providedIn&&(function(t,e){return t._def.modules.indexOf(o.providedIn)>-1}(i)||"root"===o.providedIn&&i._def.isRoot))){const n=t._providers.length;return t._def.providers[n]=t._def.providersByKey[e.tokenKey]={flags:5120,value:l.factory,deps:[],index:n,token:e.token},t._providers[n]=Jr,t._providers[n]=ri(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{jt(r)}var i,o}function ri(t,e){let n;switch(201347067&e.flags){case 512:n=function(t,e,n){const r=n.length;switch(r){case 0:return new e;case 1:return new e(ni(t,n[0]));case 2:return new e(ni(t,n[0]),ni(t,n[1]));case 3:return new e(ni(t,n[0]),ni(t,n[1]),ni(t,n[2]));default:const i=new Array(r);for(let e=0;e<r;e++)i[e]=ni(t,n[e]);return new e(...i)}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){const r=n.length;switch(r){case 0:return e();case 1:return e(ni(t,n[0]));case 2:return e(ni(t,n[0]),ni(t,n[1]));case 3:return e(ni(t,n[0]),ni(t,n[1]),ni(t,n[2]));default:const i=Array(r);for(let e=0;e<r;e++)i[e]=ni(t,n[e]);return e(...i)}}(t,e.value,e.deps);break;case 2048:n=ni(t,e.deps[0]);break;case 256:n=e.value}return n===Jr||null===n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Jr:n}function ii(t,e){const n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;const r=n[e];return r.viewContainerParent=null,Qt(n,e),gr.dirtyParentQueries(r),si(r),r}function oi(t,e,n){const r=e?Nr(e,e.def.lastRenderRootNode):t.renderElement,i=n.renderer.parentNode(r),o=n.renderer.nextSibling(r);Br(n,2,i,o,void 0)}function si(t){Br(t,3,null,null,void 0)}const ai=new Object;function li(t,e,n,r,i,o){return new ui(t,e,n,r,i,o)}class ui extends Sn{constructor(t,e,n,r,i,o){super(),this.selector=t,this.componentType=e,this._inputs=r,this._outputs=i,this.ngContentSelectors=o,this.viewDefFactory=n}get inputs(){const t=[],e=this._inputs;for(let n in e)t.push({propName:n,templateName:e[n]});return t}get outputs(){const t=[];for(let e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t}create(t,e,n,r){if(!r)throw new Error("ngModule should be provided");const i=Ur(this.viewDefFactory),o=i.nodes[0].element.componentProvider.nodeIndex,s=gr.createRootView(t,e||[],n,i,r,ai),a=dr(s,o).instance;return n&&s.renderer.setAttribute(hr(s,0).renderElement,"ng-version",jn.full),new ci(s,new fi(s),a)}}class ci extends Cn{constructor(t,e,n){super(),this._view=t,this._viewRef=e,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=e,this.changeDetectorRef=e,this.instance=n}get location(){return new Pn(hr(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new vi(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(t){this._viewRef.onDestroy(t)}}function hi(t,e,n){return new di(t,e,n)}class di{constructor(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}get element(){return new Pn(this._data.renderElement)}get injector(){return new vi(this._view,this._elDef)}get parentInjector(){let t=this._view,e=this._elDef.parent;for(;!e&&t;)e=Pr(t),t=t.parent;return t?new vi(t,e):new vi(this._view,null)}clear(){for(let t=this._embeddedViews.length-1;t>=0;t--){const e=ii(this._data,t);gr.destroyView(e)}}get(t){const e=this._embeddedViews[t];if(e){const t=new fi(e);return t.attachToViewContainerRef(this),t}return null}get length(){return this._embeddedViews.length}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;i||t instanceof On||(i=o.get(Ht));const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=t;return function(t,e,n,r){let i=e.viewContainer._embeddedViews;null==n&&(n=i.length),r.viewContainerParent=t,Gt(i,n,r),function(t,e){const n=Ar(e);if(!n||n===t||16&e.state)return;e.state|=16;let r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,n){if(4&n.flags)return;e.parent.def.nodeFlags|=4,n.flags|=4;let r=n.parent;for(;r;)r.childFlags|=4,r=r.parent}(0,e.parentNodeDef)}(e,r),gr.dirtyParentQueries(r),oi(e,n>0?i[n-1]:null,r)}(this._view,this._data,e,n._view),n.attachToViewContainerRef(this),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(t._view);return function(t,e,r){const i=t.viewContainer._embeddedViews,o=i[n];Qt(i,n),null==r&&(r=i.length),Gt(i,r,o),gr.dirtyParentQueries(o),si(o),oi(t,r>0?i[r-1]:null,o)}(this._data,0,e),t}indexOf(t){return this._embeddedViews.indexOf(t._view)}remove(t){const e=ii(this._data,t);e&&gr.destroyView(e)}detach(t){const e=ii(this._data,t);return e?new fi(e):null}}function pi(t){return new fi(t)}class fi{constructor(t){this._view=t,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(t){const e=[];return Br(t,0,void 0,void 0,e),e}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){kr(this._view)}detach(){this._view.state&=-5}detectChanges(){const t=this._view.root.rendererFactory;t.begin&&t.begin();try{gr.checkAndUpdateView(this._view)}finally{t.end&&t.end()}}checkNoChanges(){gr.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),gr.destroyView(this._view)}detachFromAppRef(){this._appRef=null,si(this._view),gr.dirtyParentQueries(this._view)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}}function gi(t,e){return new mi(t,e)}class mi extends er{constructor(t,e){super(),this._parentView=t,this._def=e}createEmbeddedView(t){return new fi(gr.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))}get elementRef(){return new Pn(hr(this._parentView,this._def.nodeIndex).renderElement)}}function yi(t,e){return new vi(t,e)}class vi{constructor(t,e){this.view=t,this.elDef=e}get(t,e=Ze.THROW_IF_NOT_FOUND){return gr.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:vr(t)},e)}}function bi(t,e){const n=t.def.nodes[e];if(1&n.flags){const e=hr(t,n.nodeIndex);return n.element.template?e.template:e.renderElement}if(2&n.flags)return cr(t,n.nodeIndex).renderText;if(20240&n.flags)return dr(t,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${e}`)}function _i(t){return new wi(t.renderer)}class wi{constructor(t){this.delegate=t}selectRootElement(t){return this.delegate.selectRootElement(t)}createElement(t,e){const[n,r]=Gr(e),i=this.delegate.createElement(r,n);return t&&this.delegate.appendChild(t,i),i}createViewRoot(t){return t}createTemplateAnchor(t){const e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e}createText(t,e){const n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n}projectNodes(t,e){for(let n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])}attachViewAfter(t,e){const n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t);for(let i=0;i<e.length;i++)this.delegate.insertBefore(n,e[i],r)}detachView(t){for(let e=0;e<t.length;e++){const n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}destroyView(t,e){for(let n=0;n<e.length;n++)this.delegate.destroyNode(e[n])}listen(t,e,n){return this.delegate.listen(t,e,n)}listenGlobal(t,e,n){return this.delegate.listen(t,e,n)}setElementProperty(t,e,n){this.delegate.setProperty(t,e,n)}setElementAttribute(t,e,n){const[r,i]=Gr(e);null!=n?this.delegate.setAttribute(t,i,n,r):this.delegate.removeAttribute(t,i,r)}setBindingDebugInfo(t,e,n){}setElementClass(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)}setElementStyle(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)}invokeElementMethod(t,e,n){t[e].apply(t,n)}setText(t,e){this.delegate.setValue(t,e)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function Ci(t,e,n,r){return new Si(t,e,n,r)}class Si{constructor(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){const e=t._def,n=t._providers=new Array(e.providers.length);for(let r=0;r<e.providers.length;r++){const i=e.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=ri(t,i))}}(this)}get(t,e=Ze.THROW_IF_NOT_FOUND,n=ft.Default){let r=0;return n&ft.SkipSelf?r|=1:n&ft.Self&&(r|=4),ni(this,{token:t,tokenKey:vr(t),flags:r},e)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(kn)}destroy(){if(this._destroyed)throw new Error(`The ng module ${bt(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(t,e){const n=t._def,r=new Set;for(let i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){const e=t._providers[i];if(e&&e!==Jr){const t=e.ngOnDestroy;"function"!=typeof t||r.has(e)||(t.apply(e),r.add(e))}}}(this),this._destroyListeners.forEach(t=>t())}onDestroy(t){this._destroyListeners.push(t)}}const Ei=vr(Dn),Ti=vr(Ln),Ii=vr(Pn),ki=vr(rr),xi=vr(er),Oi=vr(Me),Ai=vr(Ze),Pi=vr(Ot);function Ni(t,e,n,r,i,o,s,a){const l=[];if(s)for(let c in s){const[t,e]=s[c];l[t]={flags:8,name:c,nonMinifiedName:e,ns:null,securityContext:null,suffix:null}}const u=[];if(a)for(let c in a)u.push({type:1,propName:c,target:null,eventName:a[c]});return Mi(t,e|=16384,n,r,i,i,o,l,u)}function Di(t,e,n){return Mi(-1,t|=16,null,0,e,e,n)}function Ri(t,e,n,r,i){return Mi(-1,t,e,0,n,r,i)}function Mi(t,e,n,r,i,o,s,a,l){const{matchedQueries:u,references:c,matchedQueryIds:h}=Lr(n);l||(l=[]),a||(a=[]),o=Ct(o);const d=Vr(s,bt(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:h,references:c,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:Qr(a),outputs:l,element:null,provider:{token:i,value:o,deps:d},text:null,query:null,ngContent:null}}function Li(t,e){return Ui(t,e)}function Vi(t,e){let n=t;for(;n.parent&&!Dr(n);)n=n.parent;return Bi(n.parent,Pr(n),!0,e.provider.value,e.provider.deps)}function Fi(t,e){const n=Bi(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(let r=0;r<e.outputs.length;r++){const i=e.outputs[r],o=n[i.propName];if(!_n(o))throw new Error(`@Output ${i.propName} not initialized in '${n.constructor.name}'.`);{const n=o.subscribe(ji(t,e.parent.nodeIndex,i.eventName));t.disposables[e.outputIndex+r]=n.unsubscribe.bind(n)}}return n}function ji(t,e,n){return r=>Or(t,e,n,r)}function Ui(t,e){const n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return Bi(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,i){const o=i.length;switch(o){case 0:return r();case 1:return r(zi(t,e,n,i[0]));case 2:return r(zi(t,e,n,i[0]),zi(t,e,n,i[1]));case 3:return r(zi(t,e,n,i[0]),zi(t,e,n,i[1]),zi(t,e,n,i[2]));default:const s=Array(o);for(let r=0;r<o;r++)s[r]=zi(t,e,n,i[r]);return r(...s)}}(t,e.parent,n,r.value,r.deps);case 2048:return zi(t,e.parent,n,r.deps[0]);case 256:return r.value}}function Bi(t,e,n,r,i){const o=i.length;switch(o){case 0:return new r;case 1:return new r(zi(t,e,n,i[0]));case 2:return new r(zi(t,e,n,i[0]),zi(t,e,n,i[1]));case 3:return new r(zi(t,e,n,i[0]),zi(t,e,n,i[1]),zi(t,e,n,i[2]));default:const s=new Array(o);for(let r=0;r<o;r++)s[r]=zi(t,e,n,i[r]);return new r(...s)}}const qi={};function zi(t,e,n,r,i=Ze.THROW_IF_NOT_FOUND){if(8&r.flags)return r.token;const o=t;2&r.flags&&(i=null);const s=r.tokenKey;s===Oi&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);let a=t;for(;a;){if(e)switch(s){case Ei:return _i(Wi(a,e,n));case Ti:return Wi(a,e,n).renderer;case Ii:return new Pn(hr(a,e.nodeIndex).renderElement);case ki:return hr(a,e.nodeIndex).viewContainer;case xi:if(e.element.template)return hr(a,e.nodeIndex).template;break;case Oi:return pi(Wi(a,e,n));case Ai:case Pi:return yi(a,e);default:const t=(n?e.element.allProviders:e.element.publicProviders)[s];if(t){let e=dr(a,t.nodeIndex);return e||(e={instance:Ui(a,t)},a.nodes[t.nodeIndex]=e),e.instance}}n=Dr(a),e=Pr(a),a=a.parent,4&r.flags&&(a=null)}const l=o.root.injector.get(r.token,qi);return l!==qi||i===qi?l:o.root.ngModule.injector.get(r.token,i)}function Wi(t,e,n){let r;if(n)r=hr(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!Dr(r);)r=r.parent;return r}function Hi(t,e,n,r,i,o){if(32768&n.flags){const e=hr(t,n.parent.nodeIndex).componentView;2&e.def.flags&&(e.state|=8)}if(e.instance[n.bindings[r].name]=i,524288&n.flags){o=o||{};const e=mn.unwrap(t.oldValues[n.bindingIndex+r]);o[n.bindings[r].nonMinifiedName]=new wn(e,i,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=i,o}function Ki(t,e){if(!(t.def.nodeFlags&e))return;const n=t.def.nodes;let r=0;for(let i=0;i<n.length;i++){const o=n[i];let s=o.parent;for(!s&&o.flags&e&&Qi(t,i,o.flags&e,r++),0==(o.childFlags&e)&&(i+=o.childCount);s&&1&s.flags&&i===s.nodeIndex+s.childCount;)s.directChildFlags&e&&(r=Gi(t,s,e,r)),s=s.parent}}function Gi(t,e,n,r){for(let i=e.nodeIndex+1;i<=e.nodeIndex+e.childCount;i++){const e=t.def.nodes[i];e.flags&n&&Qi(t,i,e.flags&n,r++),i+=e.childCount}return r}function Qi(t,e,n,r){const i=dr(t,e);if(!i)return;const o=i.instance;o&&(gr.setCurrentNode(t,e),1048576&n&&ur(t,512,r)&&o.ngAfterContentInit(),2097152&n&&o.ngAfterContentChecked(),4194304&n&&ur(t,768,r)&&o.ngAfterViewInit(),8388608&n&&o.ngAfterViewChecked(),131072&n&&o.ngOnDestroy())}const $i=new xt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Jt}),Yi={},Ji=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}(),Xi=void 0;var Zi=["en",[["a","p"],["AM","PM"],Xi],[["AM","PM"],Xi,Xi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xi,"{1} 'at' {0}",Xi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];const to="en-US";let eo=to;function no(t){var e;e="Expected localeId to be defined",null==t&&function(t){throw new Error(`ASSERTION ERROR: ${t}`)}(e),"string"==typeof t&&(eo=t.toLowerCase().replace(/_/g,"-"))}class ro extends T{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,i=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(i=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(r,i,o);return t instanceof h&&t.add(s),s}}function io(){return this._results[pn()]()}class oo{constructor(){this.dirty=!0,this._results=[],this.changes=new ro,this.length=0;const t=pn(),e=oo.prototype;e[t]||(e[t]=io)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const so=st("Directive",(t={})=>t,void 0,void 0,(t,e)=>ho(t,e)),ao=st("Component",(t={})=>Object.assign({changeDetection:$t.Default},t),so,void 0,(t,e)=>co(t,e)),lo=ut("Input",t=>({bindingPropertyName:t})),uo=ut("Output",t=>({bindingPropertyName:t})),co=An,ho=An,po=st("NgModule",t=>t,void 0,void 0,(t,e)=>fo(t,e)),fo=function(t,e){let n=e&&e.imports||[];var r;e&&e.exports&&(n=[...n,e.exports]),t.ngInjectorDef={factory:(r={factory:Qe(t,{useClass:t}),providers:e&&e.providers,imports:n}).factory,providers:r.providers||[],imports:r.imports||[]}},go=new xt("Application Initializer");class mo{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();bn(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}const yo=new xt("AppId");function vo(){return`${bo()}${bo()}${bo()}`}function bo(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const _o=new xt("Platform Initializer"),wo=new xt("Platform ID"),Co=new xt("appBootstrapListener");class So{log(t){console.log(t)}warn(t){console.warn(t)}}const Eo=new xt("LocaleId"),To=!1;function Io(){throw new Error("Runtime compiler is not loaded")}const ko=Io,xo=Io,Oo=Io,Ao=Io;class Po{constructor(){this.compileModuleSync=ko,this.compileModuleAsync=xo,this.compileModuleAndAllComponentsSync=Oo,this.compileModuleAndAllComponentsAsync=Ao}clearCache(){}clearCacheFor(t){}getModuleId(t){}}class No{}let Do,Ro;function Mo(){const t=kt.wtf;return!(!t||!(Do=t.trace)||(Ro=Do.events,0))}const Lo=Mo(),Vo=Lo?function(t,e=null){return Ro.createScope(t,e)}:(t,e)=>(function(t,e){return null}),Fo=Lo?function(t,e){return Do.leaveScope(t,e),e}:(t,e)=>e,jo=(()=>Promise.resolve(0))();function Uo(t){"undefined"==typeof Zone?jo.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Bo{constructor({enableLongStackTrace:t=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ro(!1),this.onMicrotaskEmpty=new ro(!1),this.onStable=new ro(!1),this.onError=new ro(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");var e;Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,n,r,i,o,s)=>{try{return Ho(e),t.invokeTask(r,i,o,s)}finally{Ko(e)}},onInvoke:(t,n,r,i,o,s,a)=>{try{return Ho(e),t.invoke(r,i,o,s,a)}finally{Ko(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e.hasPendingMicrotasks=i.microTask,Wo(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Bo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,zo,qo,qo);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function qo(){}const zo={};function Wo(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ho(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ko(t){t._nesting--,Wo(t)}class Go{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ro,this.onMicrotaskEmpty=new ro,this.onStable=new ro,this.onError=new ro}run(t){return t()}runGuarded(t){return t()}runOutsideAngular(t){return t()}runTask(t){return t()}}class Qo{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bo.assertNotInAngularZone(),Uo(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Uo(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}class $o{constructor(){this._applications=new Map,Xo.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Xo.findTestabilityInTree(this,t,e)}}class Yo{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let Jo,Xo=new Yo,Zo=function(t,e,n){return t.get(No).createCompiler([e]).compileModuleAsync(n)},ts=function(t){return t instanceof On};const es=new xt("AllowMultipleToken");class ns{constructor(t,e){this.name=t,this.token=e}}function rs(t,e,n=[]){const r=`Platform: ${e}`,i=new xt(r);return(e=[])=>{let o=is();if(!o||o.injector.get(es,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0});!function(t){if(Jo&&!Jo.destroyed&&!Jo.injector.get(es,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Jo=t.get(os);const e=t.get(_o,null);e&&e.forEach(t=>t())}(Ze.create({providers:t,name:r}))}return function(t){const e=is();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function is(){return Jo&&!Jo.destroyed?Jo:null}class os{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n="noop"===(i=e?e.ngZone:void 0)?new Go:("zone.js"===i?void 0:i)||new Bo({enableLongStackTrace:ae()}),r=[{provide:Bo,useValue:n}];var i;return n.run(()=>{const e=Ze.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(ie,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return To&&no(i.injector.get(Eo,to)||to),i.onDestroy(()=>ls(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const i=n();return bn(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(mo);return t.runInitializers(),t.donePromise.then(()=>(this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=ss({},e);return Zo(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(as);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${bt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}function ss(t,e){return Array.isArray(e)?e.reduce(ss,t):Object.assign({},t,e)}let as=(()=>{class t{constructor(t,e,n,r,i,o){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=ae(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new _(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new _(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Bo.assertNotInAngularZone(),Uo(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Bo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Q(s,a.pipe(nt()))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Sn?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=ts(n)?null:this._injector.get(Ht),i=n.create(Ze.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(Qo,null);return o&&i.injector.get($o).registerApplication(i.location.nativeElement,o),this._loadComponent(i),ae()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=t._tickScope();try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1,Fo(e)}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;ls(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Co,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),ls(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t._tickScope=Vo("ApplicationRef#tick()"),t})();function ls(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class us{}const cs="#",hs="NgFactory";class ds{}const ps={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class fs{constructor(t,e){this._compiler=t,this._config=e||ps}load(t){return!To&&this._compiler instanceof Po?this.loadFactory(t):this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split(cs);return void 0===r&&(r="default"),n("crnd")(e).then(t=>t[r]).then(t=>gs(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split(cs),i=hs;return void 0===r&&(r="default",i=""),n("crnd")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>gs(t,e,r))}}function gs(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}class ms{constructor(t,e){this.name=t,this.callback=e}}class ys{constructor(t,e,n){this.listeners=[],this.parent=null,this._debugContext=n,this.nativeNode=t,e&&e instanceof vs&&e.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class vs extends ys{constructor(t,e,n){super(t,e,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=t}addChild(t){t&&(this.childNodes.push(t),t.parent=this)}removeChild(t){const e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))}insertChildrenAfter(t,e){const n=this.childNodes.indexOf(t);-1!==n&&(this.childNodes.splice(n+1,0,...e),e.forEach(e=>{e.parent&&e.parent.removeChild(e),t.parent=this}))}insertBefore(t,e){const n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))}query(t){return this.queryAll(t)[0]||null}queryAll(t){const e=[];return function t(e,n,r){e.childNodes.forEach(e=>{e instanceof vs&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e}queryAllNodes(t){const e=[];return function t(e,n,r){e instanceof vs&&e.childNodes.forEach(e=>{n(e)&&r.push(e),e instanceof vs&&t(e,n,r)})}(this,t,e),e}get children(){return this.childNodes.filter(t=>t instanceof vs)}triggerEventHandler(t,e){this.listeners.forEach(n=>{n.name==t&&n.callback(e)})}}const bs=new Map,_s=function(t){return bs.get(t)||null};function ws(t){bs.set(t.nativeNode,t)}const Cs=rs(null,"core",[{provide:wo,useValue:"unknown"},{provide:os,deps:[Ze]},{provide:$o,deps:[]},{provide:So,deps:[]}]);function Ss(){return Zn}function Es(){return tr}function Ts(t){return t?(To&&no(t),t):to}function Is(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}class ks{constructor(t){}}function xs(t,e,n,r,i,o){t|=1;const{matchedQueries:s,references:a,matchedQueryIds:l}=Lr(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:l,references:a,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:o?Ur(o):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||mr},provider:null,text:null,query:null,ngContent:null}}function Os(t,e,n,r,i,o,s=[],a,l,u,c,h){u||(u=mr);const{matchedQueries:d,references:p,matchedQueryIds:f}=Lr(n);let g=null,m=null;o&&([g,m]=Gr(o)),a=a||[];const y=new Array(a.length);for(let _=0;_<a.length;_++){const[t,e,n]=a[_],[r,i]=Gr(e);let o=void 0,s=void 0;switch(15&t){case 4:s=n;break;case 1:case 8:o=n}y[_]={flags:t,ns:r,name:i,nonMinifiedName:i,securityContext:o,suffix:s}}l=l||[];const v=new Array(l.length);for(let _=0;_<l.length;_++){const[t,e]=l[_];v[_]={type:0,target:t,eventName:e,propName:null}}const b=(s=s||[]).map(([t,e])=>{const[n,r]=Gr(t);return[n,r,e]});return h=function(t){if(t&&t.id===_r){const e=null!=t.encapsulation&&t.encapsulation!==Yt.None||t.styles.length||Object.keys(t.data).length;t.id=e?`c${Sr++}`:wr}return t&&t.id===wr&&(t=null),t||null}(h),c&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:f,references:p,ngContentIndex:r,childCount:i,bindings:y,bindingFlags:Qr(y),outputs:v,element:{ns:g,name:m,attrs:b,template:null,componentProvider:null,componentView:c||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:u||mr},provider:null,text:null,query:null,ngContent:null}}function As(t,e,n){const r=n.element,i=t.root.selectorOrNode,o=t.renderer;let s;if(t.parent||!i){s=r.name?o.createElement(r.name,r.ns):o.createComment("");const i=Fr(t,e,n);i&&o.appendChild(i,s)}else s=o.selectRootElement(i,!!r.componentRendererType&&r.componentRendererType.encapsulation===Yt.ShadowDom);if(r.attrs)for(let a=0;a<r.attrs.length;a++){const[t,e,n]=r.attrs[a];o.setAttribute(s,e,n,t)}return s}function Ps(t,e,n,r){for(let s=0;s<n.outputs.length;s++){const a=n.outputs[s],l=Ns(t,n.nodeIndex,(o=a.eventName,(i=a.target)?`${i}:${o}`:o));let u=a.target,c=t;"component"===a.target&&(u=null,c=e);const h=c.renderer.listen(u||r,a.eventName,l);t.disposables[n.outputIndex+s]=h}var i,o}function Ns(t,e,n){return r=>Or(t,e,n,r)}function Ds(t,e,n,r){if(!Tr(t,e,n,r))return!1;const i=e.bindings[n],o=hr(t,e.nodeIndex),s=o.renderElement,a=i.name;switch(15&i.flags){case 1:!function(t,e,n,r,i,o){const s=e.securityContext;let a=s?t.root.sanitizer.sanitize(s,o):o;a=null!=a?a.toString():null;const l=t.renderer;null!=o?l.setAttribute(n,i,a,r):l.removeAttribute(n,i,r)}(t,i,s,i.ns,a,r);break;case 2:!function(t,e,n,r){const i=t.renderer;r?i.addClass(e,n):i.removeClass(e,n)}(t,s,a,r);break;case 4:!function(t,e,n,r,i){let o=t.root.sanitizer.sanitize(Oe.STYLE,i);if(null!=o){o=o.toString();const t=e.suffix;null!=t&&(o+=t)}else o=null;const s=t.renderer;null!=o?s.setStyle(n,r,o):s.removeStyle(n,r)}(t,i,s,a,r);break;case 8:!function(t,e,n,r,i){const o=e.securityContext;let s=o?t.root.sanitizer.sanitize(o,i):i;t.renderer.setProperty(n,r,s)}(33554432&e.flags&&32&i.flags?o.componentView:t,i,s,a,r)}return!0}function Rs(t,e,n){let r=[];for(let i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:e,filterId:Mr(e),bindings:r},ngContent:null}}function Ms(t){const e=t.def.nodeMatchedQueries;for(;t.parent&&Rr(t);){let n=t.parentNodeDef;t=t.parent;const r=n.nodeIndex+n.childCount;for(let i=0;i<=r;i++){const r=t.def.nodes[i];67108864&r.flags&&536870912&r.flags&&(r.query.filterId&e)===r.query.filterId&&fr(t,i).setDirty(),!(1&r.flags&&i+r.childCount<n.nodeIndex)&&67108864&r.childFlags&&536870912&r.childFlags||(i+=r.childCount)}}if(134217728&t.def.nodeFlags)for(let n=0;n<t.def.nodes.length;n++){const e=t.def.nodes[n];134217728&e.flags&&536870912&e.flags&&fr(t,n).setDirty(),n+=e.childCount}}function Ls(t,e){const n=fr(t,e.nodeIndex);if(!n.dirty)return;let r,i=void 0;if(67108864&e.flags){const n=e.parent.parent;i=Vs(t,n.nodeIndex,n.nodeIndex+n.childCount,e.query,[]),r=dr(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(i=Vs(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(i);const o=e.query.bindings;let s=!1;for(let a=0;a<o.length;a++){const t=o[a];let e;switch(t.bindingType){case 0:e=n.first;break;case 1:e=n,s=!0}r[t.propName]=e}s&&n.notifyOnChanges()}function Vs(t,e,n,r,i){for(let o=e;o<=n;o++){const e=t.def.nodes[o],n=e.matchedQueries[r.id];if(null!=n&&i.push(Fs(t,e,n)),1&e.flags&&e.element.template&&(e.element.template.nodeMatchedQueries&r.filterId)===r.filterId){const n=hr(t,o);if((e.childMatchedQueries&r.filterId)===r.filterId&&(Vs(t,o+1,o+e.childCount,r,i),o+=e.childCount),16777216&e.flags){const t=n.viewContainer._embeddedViews;for(let e=0;e<t.length;e++){const o=t[e],s=Ar(o);s&&s===n&&Vs(o,0,o.def.nodes.length-1,r,i)}}const s=n.template._projectedViews;if(s)for(let t=0;t<s.length;t++){const e=s[t];Vs(e,0,e.def.nodes.length-1,r,i)}}(e.childMatchedQueries&r.filterId)!==r.filterId&&(o+=e.childCount)}return i}function Fs(t,e,n){if(null!=n)switch(n){case 1:return hr(t,e.nodeIndex).renderElement;case 0:return new Pn(hr(t,e.nodeIndex).renderElement);case 2:return hr(t,e.nodeIndex).template;case 3:return hr(t,e.nodeIndex).viewContainer;case 4:return dr(t,e.nodeIndex).instance}}function js(t,e){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:e}}}function Us(t,e,n){const r=Fr(t,e,n);r&&zr(t,n.ngContent.index,1,r,null,void 0)}function Bs(t,e){const n=Object.keys(e),r=n.length,i=new Array(r);for(let o=0;o<r;o++){const t=n[o];i[e[t]]=t}return function(t,e,n){const r=new Array(n.length);for(let i=0;i<n.length;i++){const t=n[i];r[i]={flags:8,name:t,ns:null,nonMinifiedName:t,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:64,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Qr(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}(0,t,i)}function qs(t,e,n){const r=new Array(n.length-1);for(let i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function zs(t,e,n){let r;const i=t.renderer;r=i.createText(n.text.prefix);const o=Fr(t,e,n);return o&&i.appendChild(o,r),{renderText:r}}function Ws(t,e){return(null!=t?t.toString():"")+e.suffix}function Hs(t,e,n,r){let i=0,o=0,s=0,a=0,l=0,u=null,c=null,h=!1,d=!1,p=null;for(let f=0;f<e.length;f++){const t=e[f];if(t.nodeIndex=f,t.parent=u,t.bindingIndex=i,t.outputIndex=o,t.renderParent=c,s|=t.flags,l|=t.matchedQueryIds,t.element){const e=t.element;e.publicProviders=u?u.element.publicProviders:Object.create(null),e.allProviders=e.publicProviders,h=!1,d=!1,t.element.template&&(l|=t.element.template.nodeMatchedQueries)}if(Gs(u,t,e.length),i+=t.bindings.length,o+=t.outputs.length,!c&&3&t.flags&&(p=t),20224&t.flags){h||(h=!0,u.element.publicProviders=Object.create(u.element.publicProviders),u.element.allProviders=u.element.publicProviders);const e=0!=(32768&t.flags);0==(8192&t.flags)||e?u.element.publicProviders[vr(t.provider.token)]=t:(d||(d=!0,u.element.allProviders=Object.create(u.element.publicProviders)),u.element.allProviders[vr(t.provider.token)]=t),e&&(u.element.componentProvider=t)}if(u?(u.childFlags|=t.flags,u.directChildFlags|=t.flags,u.childMatchedQueries|=t.matchedQueryIds,t.element&&t.element.template&&(u.childMatchedQueries|=t.element.template.nodeMatchedQueries)):a|=t.flags,t.childCount>0)u=t,Ks(t)||(c=t);else for(;u&&f===u.nodeIndex+u.childCount;){const t=u.parent;t&&(t.childFlags|=u.childFlags,t.childMatchedQueries|=u.childMatchedQueries),c=(u=t)&&Ks(u)?u.renderParent:u}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:l,flags:t,nodes:e,updateDirectives:n||mr,updateRenderer:r||mr,handleEvent:(t,n,r,i)=>e[n].element.handleEvent(t,r,i),bindingCount:i,outputCount:o,lastRenderRootNode:p}}function Ks(t){return 0!=(1&t.flags)&&null===t.element.name}function Gs(t,e,n){const r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${e.nodeIndex}!`)}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${e.nodeIndex}!`);if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${e.nodeIndex}!`);if(134217728&e.flags&&t)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${e.nodeIndex}!`)}if(e.childCount){const r=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=r&&e.nodeIndex+e.childCount>r)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${e.nodeIndex}!`)}}function Qs(t,e,n,r){const i=Js(t.root,t.renderer,t,e,n);return Xs(i,t.component,r),Zs(i),i}function $s(t,e,n){const r=Js(t,t.renderer,null,null,e);return Xs(r,n,n),Zs(r),r}function Ys(t,e,n,r){const i=e.element.componentRendererType;let o;return o=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,Js(t.root,o,t,e.element.componentProvider,n)}function Js(t,e,n,r,i){const o=new Array(i.nodes.length),s=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:o,state:13,root:t,renderer:e,oldValues:new Array(i.bindingCount),disposables:s,initIndex:-1}}function Xs(t,e,n){t.component=e,t.context=n}function Zs(t){let e;Dr(t)&&(e=hr(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);const n=t.def,r=t.nodes;for(let i=0;i<n.nodes.length;i++){const o=n.nodes[i];let s;switch(gr.setCurrentNode(t,i),201347067&o.flags){case 1:const n=As(t,e,o);let a=void 0;if(33554432&o.flags){const e=Ur(o.element.componentView);a=gr.createComponentView(t,o,e,n)}Ps(t,a,o,n),s={renderElement:n,componentView:a,viewContainer:null,template:o.element.template?gi(t,o):void 0},16777216&o.flags&&(s.viewContainer=hi(t,o,s));break;case 2:s=zs(t,e,o);break;case 512:case 1024:case 2048:case 256:(s=r[i])||4096&o.flags||(s={instance:Li(t,o)});break;case 16:s={instance:Vi(t,o)};break;case 16384:(s=r[i])||(s={instance:Fi(t,o)}),32768&o.flags&&Xs(hr(t,o.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new oo;break;case 8:Us(t,e,o),s=void 0}r[i]=s}la(t,aa.CreateViewNodes),da(t,201326592,268435456,0)}function ta(t){ra(t),gr.updateDirectives(t,1),ua(t,aa.CheckNoChanges),gr.updateRenderer(t,1),la(t,aa.CheckNoChanges),t.state&=-97}function ea(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,lr(t,0,256),ra(t),gr.updateDirectives(t,0),ua(t,aa.CheckAndUpdate),da(t,67108864,536870912,0);let e=lr(t,256,512);Ki(t,2097152|(e?1048576:0)),gr.updateRenderer(t,0),la(t,aa.CheckAndUpdate),da(t,134217728,536870912,0),Ki(t,8388608|((e=lr(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,lr(t,768,1024)}function na(t,e,n,r,i,o,s,a,l,u,c,h,d){return 0===n?function(t,e,n,r,i,o,s,a,l,u,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,i,o,s,a,l,u,c,h){const d=e.bindings.length;let p=!1;return d>0&&Ds(t,e,0,n)&&(p=!0),d>1&&Ds(t,e,1,r)&&(p=!0),d>2&&Ds(t,e,2,i)&&(p=!0),d>3&&Ds(t,e,3,o)&&(p=!0),d>4&&Ds(t,e,4,s)&&(p=!0),d>5&&Ds(t,e,5,a)&&(p=!0),d>6&&Ds(t,e,6,l)&&(p=!0),d>7&&Ds(t,e,7,u)&&(p=!0),d>8&&Ds(t,e,8,c)&&(p=!0),d>9&&Ds(t,e,9,h)&&(p=!0),p}(t,e,n,r,i,o,s,a,l,u,c,h);case 2:return function(t,e,n,r,i,o,s,a,l,u,c,h){let d=!1;const p=e.bindings,f=p.length;if(f>0&&Tr(t,e,0,n)&&(d=!0),f>1&&Tr(t,e,1,r)&&(d=!0),f>2&&Tr(t,e,2,i)&&(d=!0),f>3&&Tr(t,e,3,o)&&(d=!0),f>4&&Tr(t,e,4,s)&&(d=!0),f>5&&Tr(t,e,5,a)&&(d=!0),f>6&&Tr(t,e,6,l)&&(d=!0),f>7&&Tr(t,e,7,u)&&(d=!0),f>8&&Tr(t,e,8,c)&&(d=!0),f>9&&Tr(t,e,9,h)&&(d=!0),d){let d=e.text.prefix;f>0&&(d+=Ws(n,p[0])),f>1&&(d+=Ws(r,p[1])),f>2&&(d+=Ws(i,p[2])),f>3&&(d+=Ws(o,p[3])),f>4&&(d+=Ws(s,p[4])),f>5&&(d+=Ws(a,p[5])),f>6&&(d+=Ws(l,p[6])),f>7&&(d+=Ws(u,p[7])),f>8&&(d+=Ws(c,p[8])),f>9&&(d+=Ws(h,p[9]));const g=cr(t,e.nodeIndex).renderText;t.renderer.setValue(g,d)}return d}(t,e,n,r,i,o,s,a,l,u,c,h);case 16384:return function(t,e,n,r,i,o,s,a,l,u,c,h){const d=dr(t,e.nodeIndex),p=d.instance;let f=!1,g=void 0;const m=e.bindings.length;return m>0&&Er(t,e,0,n)&&(f=!0,g=Hi(t,d,e,0,n,g)),m>1&&Er(t,e,1,r)&&(f=!0,g=Hi(t,d,e,1,r,g)),m>2&&Er(t,e,2,i)&&(f=!0,g=Hi(t,d,e,2,i,g)),m>3&&Er(t,e,3,o)&&(f=!0,g=Hi(t,d,e,3,o,g)),m>4&&Er(t,e,4,s)&&(f=!0,g=Hi(t,d,e,4,s,g)),m>5&&Er(t,e,5,a)&&(f=!0,g=Hi(t,d,e,5,a,g)),m>6&&Er(t,e,6,l)&&(f=!0,g=Hi(t,d,e,6,l,g)),m>7&&Er(t,e,7,u)&&(f=!0,g=Hi(t,d,e,7,u,g)),m>8&&Er(t,e,8,c)&&(f=!0,g=Hi(t,d,e,8,c,g)),m>9&&Er(t,e,9,h)&&(f=!0,g=Hi(t,d,e,9,h,g)),g&&p.ngOnChanges(g),65536&e.flags&&ur(t,256,e.nodeIndex)&&p.ngOnInit(),262144&e.flags&&p.ngDoCheck(),f}(t,e,n,r,i,o,s,a,l,u,c,h);case 32:case 64:case 128:return function(t,e,n,r,i,o,s,a,l,u,c,h){const d=e.bindings;let p=!1;const f=d.length;if(f>0&&Tr(t,e,0,n)&&(p=!0),f>1&&Tr(t,e,1,r)&&(p=!0),f>2&&Tr(t,e,2,i)&&(p=!0),f>3&&Tr(t,e,3,o)&&(p=!0),f>4&&Tr(t,e,4,s)&&(p=!0),f>5&&Tr(t,e,5,a)&&(p=!0),f>6&&Tr(t,e,6,l)&&(p=!0),f>7&&Tr(t,e,7,u)&&(p=!0),f>8&&Tr(t,e,8,c)&&(p=!0),f>9&&Tr(t,e,9,h)&&(p=!0),p){const p=pr(t,e.nodeIndex);let g;switch(201347067&e.flags){case 32:g=new Array(d.length),f>0&&(g[0]=n),f>1&&(g[1]=r),f>2&&(g[2]=i),f>3&&(g[3]=o),f>4&&(g[4]=s),f>5&&(g[5]=a),f>6&&(g[6]=l),f>7&&(g[7]=u),f>8&&(g[8]=c),f>9&&(g[9]=h);break;case 64:g={},f>0&&(g[d[0].name]=n),f>1&&(g[d[1].name]=r),f>2&&(g[d[2].name]=i),f>3&&(g[d[3].name]=o),f>4&&(g[d[4].name]=s),f>5&&(g[d[5].name]=a),f>6&&(g[d[6].name]=l),f>7&&(g[d[7].name]=u),f>8&&(g[d[8].name]=c),f>9&&(g[d[9].name]=h);break;case 128:const t=n;switch(f){case 1:g=t.transform(n);break;case 2:g=t.transform(r);break;case 3:g=t.transform(r,i);break;case 4:g=t.transform(r,i,o);break;case 5:g=t.transform(r,i,o,s);break;case 6:g=t.transform(r,i,o,s,a);break;case 7:g=t.transform(r,i,o,s,a,l);break;case 8:g=t.transform(r,i,o,s,a,l,u);break;case 9:g=t.transform(r,i,o,s,a,l,u,c);break;case 10:g=t.transform(r,i,o,s,a,l,u,c,h)}}p.value=g}return p}(t,e,n,r,i,o,s,a,l,u,c,h);default:throw"unreachable"}}(t,e,r,i,o,s,a,l,u,c,h,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){let r=!1;for(let i=0;i<n.length;i++)Ds(t,e,i,n[i])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)Tr(t,e,o,n[o])&&(i=!0);if(i){let i="";for(let t=0;t<n.length;t++)i+=Ws(n[t],r[t]);i=e.text.prefix+i;const o=cr(t,e.nodeIndex).renderText;t.renderer.setValue(o,i)}return i}(t,e,n);case 16384:return function(t,e,n){const r=dr(t,e.nodeIndex),i=r.instance;let o=!1,s=void 0;for(let a=0;a<n.length;a++)Er(t,e,a,n[a])&&(o=!0,s=Hi(t,r,e,a,n[a],s));return s&&i.ngOnChanges(s),65536&e.flags&&ur(t,256,e.nodeIndex)&&i.ngOnInit(),262144&e.flags&&i.ngDoCheck(),o}(t,e,n);case 32:case 64:case 128:return function(t,e,n){const r=e.bindings;let i=!1;for(let o=0;o<n.length;o++)Tr(t,e,o,n[o])&&(i=!0);if(i){const i=pr(t,e.nodeIndex);let o;switch(201347067&e.flags){case 32:o=n;break;case 64:o={};for(let e=0;e<n.length;e++)o[r[e].name]=n[e];break;case 128:const t=n[0],i=n.slice(1);o=t.transform(...i)}i.value=o}return i}(t,e,n);default:throw"unreachable"}}(t,e,r)}function ra(t){const e=t.def;if(4&e.nodeFlags)for(let n=0;n<e.nodes.length;n++){const r=e.nodes[n];if(4&r.flags){const e=hr(t,n).template._projectedViews;if(e)for(let n=0;n<e.length;n++){const r=e[n];r.state|=32,xr(r,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function ia(t,e,n,r,i,o,s,a,l,u,c,h,d){return 0===n?function(t,e,n,r,i,o,s,a,l,u,c,h){const d=e.bindings.length;d>0&&Ir(t,e,0,n),d>1&&Ir(t,e,1,r),d>2&&Ir(t,e,2,i),d>3&&Ir(t,e,3,o),d>4&&Ir(t,e,4,s),d>5&&Ir(t,e,5,a),d>6&&Ir(t,e,6,l),d>7&&Ir(t,e,7,u),d>8&&Ir(t,e,8,c),d>9&&Ir(t,e,9,h)}(t,e,r,i,o,s,a,l,u,c,h,d):function(t,e,n){for(let r=0;r<n.length;r++)Ir(t,e,r,n[r])}(t,e,r),!1}function oa(t,e){if(fr(t,e.nodeIndex).dirty)throw or(gr.createDebugContext(t,e.nodeIndex),`Query ${e.query.id} not dirty`,`Query ${e.query.id} dirty`,0!=(1&t.state))}function sa(t){if(!(128&t.state)){if(ua(t,aa.Destroy),la(t,aa.Destroy),Ki(t,131072),t.disposables)for(let e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(!(16&t.state))return;const e=Ar(t);if(e){const n=e.template._projectedViews;n&&(Qt(n,n.indexOf(t)),gr.dirtyParentQueries(t))}}(t),t.renderer.destroyNode&&function(t){const e=t.def.nodes.length;for(let n=0;n<e;n++){const e=t.def.nodes[n];1&e.flags?t.renderer.destroyNode(hr(t,n).renderElement):2&e.flags?t.renderer.destroyNode(cr(t,n).renderText):(67108864&e.flags||134217728&e.flags)&&fr(t,n).destroy()}}(t),Dr(t)&&t.renderer.destroy(),t.state|=128}}const aa=function(){var t={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return t[t.CreateViewNodes]="CreateViewNodes",t[t.CheckNoChanges]="CheckNoChanges",t[t.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",t[t.Destroy]="Destroy",t}();function la(t,e){const n=t.def;if(33554432&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];33554432&i.flags?ca(hr(t,r).componentView,e):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function ua(t,e){const n=t.def;if(16777216&n.nodeFlags)for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];if(16777216&i.flags){const n=hr(t,r).viewContainer._embeddedViews;for(let t=0;t<n.length;t++)ca(n[t],e)}else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function ca(t,e){const n=t.state;switch(e){case aa.CheckNoChanges:0==(128&n)&&(12==(12&n)?ta(t):64&n&&ha(t,aa.CheckNoChangesProjectedViews));break;case aa.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?ta(t):64&n&&ha(t,e));break;case aa.CheckAndUpdate:0==(128&n)&&(12==(12&n)?ea(t):64&n&&ha(t,aa.CheckAndUpdateProjectedViews));break;case aa.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?ea(t):64&n&&ha(t,e));break;case aa.Destroy:sa(t);break;case aa.CreateViewNodes:Zs(t)}}function ha(t,e){ua(t,e),la(t,e)}function da(t,e,n,r){if(!(t.def.nodeFlags&e&&t.def.nodeFlags&n))return;const i=t.def.nodes.length;for(let o=0;o<i;o++){const i=t.def.nodes[o];if(i.flags&e&&i.flags&n)switch(gr.setCurrentNode(t,i.nodeIndex),r){case 0:Ls(t,i);break;case 1:oa(t,i)}i.childFlags&e&&i.childFlags&n||(o+=i.childCount)}}let pa=!1;function fa(t,e,n,r,i,o){const s=i.injector.get(Rn);return $s(ma(t,i,s,e,n),r,o)}function ga(t,e,n,r,i,o){const s=i.injector.get(Rn),a=ma(t,i,new Qa(s),e,n),l=Ia(r);return Ka(Na.create,$s,null,[a,l,o])}function ma(t,e,n,r,i){const o=e.injector.get(Ae),s=e.injector.get(ie),a=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:i,sanitizer:o,rendererFactory:n,renderer:a,errorHandler:s}}function ya(t,e,n,r){const i=Ia(n);return Ka(Na.create,Qs,null,[t,e,i,r])}function va(t,e,n,r){return n=Ca.get(e.element.componentProvider.provider.token)||Ia(n),Ka(Na.create,Ys,null,[t,e,n,r])}function ba(t,e,n,r){return Ci(t,e,n,function(t){const{hasOverrides:e,hasDeprecatedOverrides:n}=function(t){let e=!1,n=!1;return 0===_a.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(t=>{const r=_a.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(t=>{wa.forEach((r,i)=>{yt(i).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t);return e?(function(t){for(let e=0;e<t.providers.length;e++){const r=t.providers[e];n&&(r.flags|=4096);const i=_a.get(r.token);i&&(r.flags=-3841&r.flags|i.flags,r.deps=Vr(i.deps),r.value=i.value)}if(wa.size>0){let e=new Set(t.modules);wa.forEach((r,i)=>{if(e.has(yt(i).providedIn)){let e={token:i,flags:r.flags|(n?4096:0),deps:Vr(r.deps),value:r.value,index:t.providers.length};t.providers.push(e),t.providersByKey[vr(i)]=e}})}}(t=t.factory(()=>mr)),t):t}(r))}const _a=new Map,wa=new Map,Ca=new Map;function Sa(t){let e;_a.set(t.token,t),"function"==typeof t.token&&(e=yt(t.token))&&"function"==typeof e.providedIn&&wa.set(t.token,t)}function Ea(t,e){const n=Ur(e.viewDefFactory),r=Ur(n.nodes[0].element.componentView);Ca.set(t,r)}function Ta(){_a.clear(),wa.clear(),Ca.clear()}function Ia(t){if(0===_a.size)return t;const e=function(t){const e=[];let n=null;for(let r=0;r<t.nodes.length;r++){const i=t.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&_a.has(i.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(()=>mr);for(let r=0;r<e.length;r++)n(t,e[r]);return t;function n(t,e){for(let n=e+1;n<t.nodes.length;n++){const e=t.nodes[n];if(1&e.flags)return;if(3840&e.flags){const t=e.provider,n=_a.get(t.token);n&&(e.flags=-3841&e.flags|n.flags,t.deps=Vr(n.deps),t.value=n.value)}}}}function ka(t,e,n,r,i,o,s,a,l,u,c,h,d){const p=t.def.nodes[e];return na(t,p,n,r,i,o,s,a,l,u,c,h,d),224&p.flags?pr(t,e).value:void 0}function xa(t,e,n,r,i,o,s,a,l,u,c,h,d){const p=t.def.nodes[e];return ia(t,p,n,r,i,o,s,a,l,u,c,h,d),224&p.flags?pr(t,e).value:void 0}function Oa(t){return Ka(Na.detectChanges,ea,null,[t])}function Aa(t){return Ka(Na.checkNoChanges,ta,null,[t])}function Pa(t){return Ka(Na.destroy,sa,null,[t])}const Na=function(){var t={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return t[t.create]="create",t[t.detectChanges]="detectChanges",t[t.checkNoChanges]="checkNoChanges",t[t.destroy]="destroy",t[t.handleEvent]="handleEvent",t}();let Da,Ra,Ma;function La(t,e){Ra=t,Ma=e}function Va(t,e,n,r){return La(t,e),Ka(Na.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function Fa(t,e){if(128&t.state)throw ar(Na[Da]);return La(t,qa(t,0)),t.def.updateDirectives(function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?Ua(t,o,r,i):Ba(t,o,r,i),16384&o.flags&&La(t,qa(t,n)),224&o.flags?pr(t,o.nodeIndex).value:void 0},t)}function ja(t,e){if(128&t.state)throw ar(Na[Da]);return La(t,za(t,0)),t.def.updateRenderer(function(t,n,r,...i){const o=t.def.nodes[n];return 0===e?Ua(t,o,r,i):Ba(t,o,r,i),3&o.flags&&La(t,za(t,n)),224&o.flags?pr(t,o.nodeIndex).value:void 0},t)}function Ua(t,e,n,r){if(na(t,e,n,...r)){const s=1===n?r[0]:r;if(16384&e.flags){const n={};for(let t=0;t<e.bindings.length;t++){const r=e.bindings[t],a=s[t];8&r.flags&&(n[(i=r.nonMinifiedName,o=void 0,o=i.replace(/[$@]/g,"_"),`ng-reflect-${i=o.replace(De,(...t)=>"-"+t[1].toLowerCase())}`)]=Re(a))}const r=e.parent,a=hr(t,r.nodeIndex).renderElement;if(r.element.name)for(let e in n){const r=n[e];null!=r?t.renderer.setAttribute(a,e,r):t.renderer.removeAttribute(a,e)}else t.renderer.setValue(a,`bindings=${JSON.stringify(n,null,2)}`)}}var i,o}function Ba(t,e,n,r){ia(t,e,n,...r)}function qa(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(16384&e.flags&&e.bindings&&e.bindings.length)return n}return null}function za(t,e){for(let n=e;n<t.def.nodes.length;n++){const e=t.def.nodes[n];if(3&e.flags&&e.bindings&&e.bindings.length)return n}return null}class Wa{constructor(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];let n=this.nodeDef,r=t;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=Pr(r),r=r.parent;this.elDef=n,this.elView=r}get elOrCompView(){return hr(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return yi(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const t=[];if(this.elDef)for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t}get references(){const t={};if(this.elDef){Ha(this.elView,this.elDef,t);for(let e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){const n=this.elView.def.nodes[e];20224&n.flags&&Ha(this.elView,n,t),e+=n.childCount}}return t}get componentRenderElement(){const t=function(t){for(;t&&!Dr(t);)t=t.parent;return t.parent?hr(t.parent,Pr(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Nr(this.view,this.nodeDef):Nr(this.elView,this.elDef)}logError(t,...e){let n,r;2&this.nodeDef.flags?(n=this.view.def,r=this.nodeDef.nodeIndex):(n=this.elView.def,r=this.elDef.nodeIndex);const i=function(t,e){let n=-1;for(let r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(n,r);let o=-1;n.factory(()=>++o===i?t.error.bind(t,...e):mr),o<i&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error(...e))}}function Ha(t,e,n){for(let r in e.references)n[r]=Fs(t,e,e.references[r])}function Ka(t,e,n,r){const i=Da,o=Ra,s=Ma;try{Da=t;const l=e.apply(n,r);return Ra=o,Ma=s,Da=i,l}catch(a){if(ee(a)||!Ra)throw a;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),sr(t,e),t}(a,Ga())}}function Ga(){return Ra?new Wa(Ra,Ma):null}class Qa{constructor(t){this.delegate=t}createRenderer(t,e){return new $a(this.delegate.createRenderer(t,e))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class $a{constructor(t){this.delegate=t,this.debugContextFactory=Ga,this.data=this.delegate.data}createDebugContext(t){return this.debugContextFactory(t)}destroyNode(t){const e=_s(t);bs.delete(e.nativeNode),e instanceof ys&&(e.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(t)}destroy(){this.delegate.destroy()}createElement(t,e){const n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){const e=new vs(n,null,r);e.name=t,ws(e)}return n}createComment(t){const e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&ws(new ys(e,null,n)),e}createText(t){const e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&ws(new ys(e,null,n)),e}appendChild(t,e){const n=_s(t),r=_s(e);n&&r&&n instanceof vs&&n.addChild(r),this.delegate.appendChild(t,e)}insertBefore(t,e,n){const r=_s(t),i=_s(e),o=_s(n);r&&i&&r instanceof vs&&r.insertBefore(o,i),this.delegate.insertBefore(t,e,n)}removeChild(t,e){const n=_s(t),r=_s(e);n&&r&&n instanceof vs&&n.removeChild(r),this.delegate.removeChild(t,e)}selectRootElement(t,e){const n=this.delegate.selectRootElement(t,e),r=Ga();return r&&ws(new vs(n,null,r)),n}setAttribute(t,e,n,r){const i=_s(t);i&&i instanceof vs&&(i.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){const r=_s(t);r&&r instanceof vs&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)}addClass(t,e){const n=_s(t);n&&n instanceof vs&&(n.classes[e]=!0),this.delegate.addClass(t,e)}removeClass(t,e){const n=_s(t);n&&n instanceof vs&&(n.classes[e]=!1),this.delegate.removeClass(t,e)}setStyle(t,e,n,r){const i=_s(t);i&&i instanceof vs&&(i.styles[e]=n),this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){const r=_s(t);r&&r instanceof vs&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){const r=_s(t);r&&r instanceof vs&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)}listen(t,e,n){if("string"!=typeof t){const r=_s(t);r&&r.listeners.push(new ms(e,n))}return this.delegate.listen(t,e,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setValue(t,e){return this.delegate.setValue(t,e)}}function Ya(t,e,n){return new Ja(t,e,n)}class Ja extends Kt{constructor(t,e,n){super(),this.moduleType=t,this._bootstrapComponents=e,this._ngModuleDefFactory=n}create(t){!function(){if(pa)return;pa=!0;const t=ae()?{setCurrentNode:La,createRootView:ga,createEmbeddedView:ya,createComponentView:va,createNgModuleRef:ba,overrideProvider:Sa,overrideComponentView:Ea,clearOverrides:Ta,checkAndUpdateView:Oa,checkNoChangesView:Aa,destroyView:Pa,createDebugContext:(t,e)=>new Wa(t,e),handleEvent:Va,updateDirectives:Fa,updateRenderer:ja}:{setCurrentNode:()=>{},createRootView:fa,createEmbeddedView:Qs,createComponentView:Ys,createNgModuleRef:Ci,overrideProvider:mr,overrideComponentView:mr,clearOverrides:mr,checkAndUpdateView:ea,checkNoChangesView:ta,destroyView:sa,createDebugContext:(t,e)=>new Wa(t,e),handleEvent:(t,e,n,r)=>t.def.handleEvent(t,e,n,r),updateDirectives:(t,e)=>t.def.updateDirectives(0===e?ka:xa,t),updateRenderer:(t,e)=>t.def.updateRenderer(0===e?ka:xa,t)};gr.setCurrentNode=t.setCurrentNode,gr.createRootView=t.createRootView,gr.createEmbeddedView=t.createEmbeddedView,gr.createComponentView=t.createComponentView,gr.createNgModuleRef=t.createNgModuleRef,gr.overrideProvider=t.overrideProvider,gr.overrideComponentView=t.overrideComponentView,gr.clearOverrides=t.clearOverrides,gr.checkAndUpdateView=t.checkAndUpdateView,gr.checkNoChangesView=t.checkNoChangesView,gr.destroyView=t.destroyView,gr.resolveDep=zi,gr.createDebugContext=t.createDebugContext,gr.handleEvent=t.handleEvent,gr.updateDirectives=t.updateDirectives,gr.updateRenderer=t.updateRenderer,gr.dirtyParentQueries=Ms}();const e=function(t){const e=Array.from(t.providers),n=Array.from(t.modules),r={};for(const i in t.providersByKey)r[i]=t.providersByKey[i];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(Ur(this._ngModuleDefFactory));return gr.createNgModuleRef(this.moduleType,t||Ze.NULL,this._bootstrapComponents,e)}}class Xa{}class Za{prepareRoute(t){return t&&t.activatedRouteData&&t.activatedRouteData.animation}}class tl{}const el=new xt("Location Initialized");class nl{}const rl=new xt("appBaseHref");class il{constructor(t,e){this._subject=new ro,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=il.stripTrailingSlash(ol(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+il.normalizeQueryParams(e))}normalize(t){return il.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,ol(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+il.normalizeQueryParams(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+il.normalizeQueryParams(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}static normalizeQueryParams(t){return t&&"?"!==t[0]?"?"+t:t}static joinWithSlash(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}static stripTrailingSlash(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}}function ol(t){return t.replace(/\/index.html$/,"")}class sl extends nl{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=il.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+il.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+il.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}class al extends nl{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return il.joinWithSlash(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+il.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+il.normalizeQueryParams(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+il.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}const ll=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}(),ul=function(t){return function(t){const e=t.toLowerCase().replace(/_/g,"-");let n=Yi[e];if(n)return n;const r=e.split("-")[0];if(n=Yi[r])return n;if("en"===r)return Zi;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[Ji.PluralCase]},cl=new xt("UseV4Plurals");class hl{}class dl extends hl{constructor(t,e){super(),this.locale=t,this.deprecatedPluralFn=e}getPluralCategory(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):ul(e||this.locale)(t)){case ll.Zero:return"zero";case ll.One:return"one";case ll.Two:return"two";case ll.Few:return"few";case ll.Many:return"many";default:return"other"}}}class pl{}class fl{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._initialClasses=[]}getValue(){return null}setClass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}setNgClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(yn(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}applyChanges(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${bt(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}let gl=(()=>{class t{constructor(t){this._delegate=t}getValue(){return this._delegate.getValue()}}return t.ngDirectiveDef=void 0,t})();class ml extends gl{constructor(t){super(t)}set klass(t){this._delegate.setClass(t)}set ngClass(t){this._delegate.setNgClass(t)}ngDoCheck(){this._delegate.applyChanges()}}class yl{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class vl{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){ae()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new yl(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new bl(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new bl(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}class bl{constructor(t,e){this.record=t,this.view=e}}class _l{constructor(t,e){this._viewContainer=t,this._context=new wl,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Cl("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Cl("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}class wl{constructor(){this.$implicit=null,this.ngIf=null}}function Cl(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${bt(e)}'.`)}class Sl{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}class El{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}class Tl{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new Sl(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}class Il{constructor(t,e,n){n._addDefault(new Sl(t,e))}}class kl{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class xl{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const Ol=new xl,Al=new kl;class Pl{constructor(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):fn(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,mn.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(t){if(bn(t))return Ol;if(_n(t))return Al;throw Error(`InvalidPipeArgument: '${t}' for pipe '${bt(Pl)}'`)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}class Nl{}const Dl=new xt("DocumentToken"),Rl="browser",Ml="server";function Ll(t){return t===Ml}let Vl=(()=>{class t{}return t.ngInjectableDef=mt({token:t,providedIn:"root",factory:()=>new Fl(Ut(Dl),window,Ut(ie))}),t})();class Fl{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{const n=this.document.querySelector(`#${t}`);if(n)return void this.scrollToElement(n);const r=this.document.querySelector(`[name='${t}']`);if(r)return void this.scrollToElement(r)}catch(e){this.errorHandler.handleError(e)}}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}}}function jl(...t){let e=t[t.length-1];return k(e)?(t.pop(),U(t,e)):G(t)}class Ul extends T{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new C;return this._value}next(t){super.next(this._value=t)}}const Bl=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),ql={};function zl(...t){let e=null,n=null;return k(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),G(t,n).lift(new Wl(e))}class Wl{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Hl(t,this.resultSelector))}}class Hl extends L{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(ql),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++){const e=t[n];this.add(M(this,e,e,n))}}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n,r,i){const o=this.values,s=this.toRespond?o[n]===ql?--this.toRespond:this.toRespond:0;o[n]=e,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Kl=new _(t=>t.complete());function Gl(t){return t?function(t){return new _(e=>t.schedule(()=>e.complete()))}(t):Kl}function Ql(t){return new _(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?B(n):Gl()).subscribe(e)})}function $l(){return K(1)}function Yl(t,e){return function(n){return n.lift(new Jl(t,e))}}class Jl{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Xl(t,this.predicate,this.thisArg))}}class Xl extends f{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Zl=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function tu(t){return function(e){return 0===t?Gl():e.lift(new eu(t))}}class eu{constructor(t){if(this.total=t,this.total<0)throw new Zl}call(t,e){return e.subscribe(new nu(t,this.total))}}class nu extends f{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function ru(t=function(){return new Bl}){return e=>e.lift(new iu(t))}class iu{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new ou(t,this.errorFactory))}}class ou extends f{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function su(t=null){return e=>e.lift(new au(t))}class au{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new lu(t,this.defaultValue))}}class lu extends f{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function uu(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Yl((e,n)=>t(e,n,r)):H,tu(1),n?su(e):ru(()=>new Bl))}function cu(t){return function(e){const n=new hu(t),r=e.lift(n);return n.caught=r}}class hu{constructor(t){this.selector=t}call(t,e){return e.subscribe(new du(t,this.selector,this.caught))}}class du extends L{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new x(this,void 0,void 0);this.add(r),M(this,n,void 0,void 0,r)}}}function pu(t){return e=>0===t?Gl():e.lift(new fu(t))}class fu{constructor(t){if(this.total=t,this.total<0)throw new Zl}call(t,e){return e.subscribe(new gu(t,this.total))}}class gu extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function mu(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Yl((e,n)=>t(e,n,r)):H,pu(1),n?su(e):ru(()=>new Bl))}class yu{constructor(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}call(t,e){return e.subscribe(new vu(t,this.predicate,this.thisArg,this.source))}}class vu extends f{constructor(t,e,n,r){super(t),this.predicate=e,this.thisArg=n,this.source=r,this.index=0,this.thisArg=n||this}notifyComplete(t){this.destination.next(t),this.destination.complete()}_next(t){let e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function bu(t,e){return"function"==typeof e?n=>n.pipe(bu((n,r)=>B(t(n,r)).pipe(V((t,i)=>e(n,t,r,i))))):e=>e.lift(new _u(t))}class _u{constructor(t){this.project=t}call(t,e){return e.subscribe(new wu(t,this.project))}}class wu extends L{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)}_innerSub(t,e,n){const r=this.innerSubscription;r&&r.unsubscribe();const i=new x(this,void 0,void 0);this.destination.add(i),this.innerSubscription=M(this,t,e,n,i)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,r,i){this.destination.next(e)}}function Cu(...t){return $l()(jl(...t))}function Su(...t){const e=t[t.length-1];return k(e)?(t.pop(),n=>Cu(t,n,e)):e=>Cu(t,e)}function Eu(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Tu(t,e,n))}}class Tu{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new Iu(t,this.accumulator,this.seed,this.hasSeed))}}class Iu extends f{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ku(t,e){return q(t,e,1)}function xu(t,e,n){return function(r){return r.lift(new Ou(t,e,n))}}class Ou{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Au(t,this.nextOrObserver,this.error,this.complete))}}class Au extends f{constructor(t,e,n,i){super(t),this._tapNext=y,this._tapError=y,this._tapComplete=y,this._tapError=n||y,this._tapComplete=i||y,r(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||y,this._tapError=e.error||y,this._tapComplete=e.complete||y)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}class Pu{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Nu(t,this.callback))}}class Nu extends f{constructor(t,e){super(t),this.add(new h(e))}}let Du=null;function Ru(){return Du}class Mu{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(t){this._attrToPropMap=t}}class Lu extends Mu{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const e=this.createElement("div",document);if(null!=this.getStyle(e,"animationName"))this._animationPrefix="";else{const t=["Webkit","Moz","O","ms"];for(let n=0;n<t.length;n++)if(null!=this.getStyle(e,t[n]+"AnimationName")){this._animationPrefix="-"+t[n].toLowerCase()+"-";break}}const n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(n).forEach(t=>{null!=this.getStyle(e,t)&&(this._transitionEnd=n[t])})}catch(t){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(t){return t.getDistributedNodes()}resolveAndSetHref(t,e,n){t.href=null==n?e:e+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const Vu={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},Fu=3,ju={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Uu={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Bu=(()=>{if(kt.Node)return kt.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))}})();class qu extends Lu{parse(t){throw new Error("parse not implemented")}static makeCurrent(){var t;t=new qu,Du||(Du=t)}hasProperty(t,e){return e in t}setProperty(t,e,n){t[e]=n}getProperty(t,e){return t[e]}invoke(t,e,n){t[e](...n)}logError(t){window.console&&(console.error?console.error(t):console.log(t))}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return Vu}contains(t,e){return Bu.call(t,e)}querySelector(t,e){return t.querySelector(e)}querySelectorAll(t,e){return t.querySelectorAll(e)}on(t,e,n){t.addEventListener(e,n,!1)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}createMouseEvent(t){const e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e}createEvent(t){const e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e}preventDefault(t){t.preventDefault(),t.returnValue=!1}isPrevented(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue}getInnerHTML(t){return t.innerHTML}getTemplateContent(t){return"content"in t&&this.isTemplateElement(t)?t.content:null}getOuterHTML(t){return t.outerHTML}nodeName(t){return t.nodeName}nodeValue(t){return t.nodeValue}type(t){return t.type}content(t){return this.hasProperty(t,"content")?t.content:t}firstChild(t){return t.firstChild}nextSibling(t){return t.nextSibling}parentElement(t){return t.parentNode}childNodes(t){return t.childNodes}childNodesAsList(t){const e=t.childNodes,n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=e[r];return n}clearNodes(t){for(;t.firstChild;)t.removeChild(t.firstChild)}appendChild(t,e){t.appendChild(e)}removeChild(t,e){t.removeChild(e)}replaceChild(t,e,n){t.replaceChild(e,n)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}insertBefore(t,e,n){t.insertBefore(n,e)}insertAllBefore(t,e,n){n.forEach(n=>t.insertBefore(n,e))}insertAfter(t,e,n){t.insertBefore(n,e.nextSibling)}setInnerHTML(t,e){t.innerHTML=e}getText(t){return t.textContent}setText(t,e){t.textContent=e}getValue(t){return t.value}setValue(t,e){t.value=e}getChecked(t){return t.checked}setChecked(t,e){t.checked=e}createComment(t){return this.getDefaultDocument().createComment(t)}createTemplate(t){const e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createElementNS(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)}createTextNode(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)}createScriptTag(t,e,n){const r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r}createStyleElement(t,e){const n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n}createShadowRoot(t){return t.createShadowRoot()}getShadowRoot(t){return t.shadowRoot}getHost(t){return t.host}clone(t){return t.cloneNode(!0)}getElementsByClassName(t,e){return t.getElementsByClassName(e)}getElementsByTagName(t,e){return t.getElementsByTagName(e)}classList(t){return Array.prototype.slice.call(t.classList,0)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}hasClass(t,e){return t.classList.contains(e)}setStyle(t,e,n){t.style[e]=n}removeStyle(t,e){t.style[e]=""}getStyle(t,e){return t.style[e]}hasStyle(t,e,n){const r=this.getStyle(t,e)||"";return n?r==n:r.length>0}tagName(t){return t.tagName}attributeMap(t){const e=new Map,n=t.attributes;for(let r=0;r<n.length;r++){const t=n.item(r);e.set(t.name,t.value)}return e}hasAttribute(t,e){return t.hasAttribute(e)}hasAttributeNS(t,e,n){return t.hasAttributeNS(e,n)}getAttribute(t,e){return t.getAttribute(e)}getAttributeNS(t,e,n){return t.getAttributeNS(e,n)}setAttribute(t,e,n){t.setAttribute(e,n)}setAttributeNS(t,e,n,r){t.setAttributeNS(e,n,r)}removeAttribute(t,e){t.removeAttribute(e)}removeAttributeNS(t,e,n){t.removeAttributeNS(e,n)}templateAwareRoot(t){return this.isTemplateElement(t)?this.content(t):t}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(t){return t.title}setTitle(t,e){t.title=e||""}elementMatches(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))}isTemplateElement(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName}isTextNode(t){return t.nodeType===Node.TEXT_NODE}isCommentNode(t){return t.nodeType===Node.COMMENT_NODE}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}hasShadowRoot(t){return null!=t.shadowRoot&&t instanceof HTMLElement}isShadowRoot(t){return t instanceof DocumentFragment}importIntoDoc(t){return document.importNode(this.templateAwareRoot(t),!0)}adoptNode(t){return document.adoptNode(t)}getHref(t){return t.getAttribute("href")}getEventKey(t){let e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),t.location===Fu&&Uu.hasOwnProperty(e)&&(e=Uu[e]))}return ju[e]||e}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Wu||(Wu=document.querySelector("base"))?Wu.getAttribute("href"):null;return null==e?null:(n=e,zu||(zu=document.createElement("a")),zu.setAttribute("href",n),"/"===zu.pathname.charAt(0)?zu.pathname:"/"+zu.pathname);var n}resetBaseElement(){Wu=null}getUserAgent(){return window.navigator.userAgent}setData(t,e,n){this.setAttribute(t,"data-"+e,n)}getData(t,e){return this.getAttribute(t,"data-"+e)}getComputedStyle(t){return getComputedStyle(t)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}setCookie(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)}}let zu,Wu=null;function Hu(){return!!window.history.pushState}const Ku=new xt("TRANSITION_ID"),Gu=[{provide:go,useFactory:function(t,e,n){return()=>{n.get(mo).donePromise.then(()=>{const n=Ru();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(e=>n.getAttribute(e,"ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Ku,Dl,Ze],multi:!0}];class Qu{static init(){var t;t=new Qu,Xo=t}addToWindow(t){kt.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},kt.getAllAngularTestabilities=()=>t.getAllTestabilities(),kt.getAllAngularRootElements=()=>t.getAllRootElements(),kt.frameworkStabilizers||(kt.frameworkStabilizers=[]),kt.frameworkStabilizers.push(t=>{const e=kt.getAllAngularTestabilities();let n=e.length,r=!1;const i=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(i)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?Ru().isShadowRoot(e)?this.findTestabilityInTree(t,Ru().getHost(e),!0):this.findTestabilityInTree(t,Ru().parentElement(e),!0):null}}function $u(t,e){"undefined"!=typeof COMPILED&&COMPILED||((kt.ng=kt.ng||{})[t]=e)}const Yu=(()=>({ApplicationRef:as,NgZone:Bo}))();function Ju(t){return _s(t)}const Xu=new xt("EventManagerPlugins");class Zu{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}class tc{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=Ru().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}class ec{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}class nc extends ec{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>Ru().remove(t))}}const rc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ic=/%COMP%/g,oc="_nghost-%COMP%",sc="_ngcontent-%COMP%";function ac(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?ac(t,i,n):(i=i.replace(ic,t),n.push(i))}return n}function lc(t){return e=>{!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}class uc{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new cc(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Yt.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new pc(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case Yt.Native:case Yt.ShadowDom:return new fc(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=ac(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}class cc{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(rc[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=rc[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=rc[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&Mn.DashCase?t.style.setProperty(e,n,r&Mn.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Mn.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){dc(e,"property"),t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return dc(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,lc(n)):this.eventManager.addEventListener(t,e,lc(n))}}const hc=(()=>"@".charCodeAt(0))();function dc(t,e){if(t.charCodeAt(0)===hc)throw new Error(`Found the synthetic ${e} ${t}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class pc extends cc{constructor(t,e,n,r){super(t),this.component=n;const i=ac(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr=sc.replace(ic,r+"-"+n.id),this.hostAttr=oc.replace(ic,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class fc extends cc{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=r,this.shadowRoot=r.encapsulation===Yt.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const i=ac(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}const gc=(()=>"undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t})(),mc=gc("addEventListener"),yc=gc("removeEventListener"),vc={},bc="FALSE",_c="ANGULAR",wc="addEventListener",Cc="removeEventListener",Sc="__zone_symbol__propagationStopped",Ec="__zone_symbol__stopImmediatePropagation",Tc=(()=>{const t="undefined"!=typeof Zone&&Zone[gc("BLACK_LISTED_EVENTS")];if(t){const e={};return t.forEach(t=>{e[t]=t}),e}})(),Ic=function(t){return!!Tc&&Tc.hasOwnProperty(t)},kc=function(t){const e=vc[t.type];if(!e)return;const n=this[e];if(!n)return;const r=[t];if(1===n.length){const t=n[0];return t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}{const e=n.slice();for(let n=0;n<e.length&&!0!==t[Sc];n++){const t=e[n];t.zone!==Zone.current?t.zone.run(t.handler,this,r):t.handler.apply(this,r)}}};class xc extends tc{constructor(t,e,n){super(t),this.ngZone=e,n&&Ll(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype[Ec])return;const t=Event.prototype[Ec]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Sc]=!0),t&&t.apply(this,arguments)}}supports(t){return!0}addEventListener(t,e,n){let r=n;if(!t[mc]||Bo.isInAngularZone()&&!Ic(e))t[wc](e,r,!1);else{let n=vc[e];n||(n=vc[e]=gc(_c+e+bc));let i=t[n];const o=i&&i.length>0;i||(i=t[n]=[]);const s=Ic(e)?Zone.root:Zone.current;if(0===i.length)i.push({zone:s,handler:r});else{let t=!1;for(let e=0;e<i.length;e++)if(i[e].handler===r){t=!0;break}t||i.push({zone:s,handler:r})}o||t[mc](e,kc,!1)}return()=>this.removeEventListener(t,e,r)}removeEventListener(t,e,n){let r=t[yc];if(!r)return t[Cc].apply(t,[e,n,!1]);let i=vc[e],o=i&&t[i];if(!o)return t[Cc].apply(t,[e,n,!1]);let s=!1;for(let a=0;a<o.length;a++)if(o[a].handler===n){s=!0,o.splice(a,1);break}s?0===o.length&&r.apply(t,[e,kc,!1]):t[Cc].apply(t,[e,n,!1])}}const Oc={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},Ac=new xt("HammerGestureConfig"),Pc=new xt("HammerLoader");class Nc{constructor(){this.events=[],this.overrides={}}buildHammer(t){const e=new Hammer(t,this.options);e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0});for(const n in this.overrides)e.get(n).set(this.overrides[n]);return e}}class Dc extends tc{constructor(t,e,n,r){super(t),this._config=e,this.console=n,this.loader=r}supports(t){return!(!Oc.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn(`The "${t}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),1))}addEventListener(t,e,n){const r=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){let r=!1,i=()=>{r=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(i=()=>{});r||(i=this.addEventListener(t,e,n))}).catch(()=>{this.console.warn(`The "${e}" event cannot be bound because the custom `+"Hammer.JS loader failed."),i=()=>{}}),()=>{i()}}return r.runOutsideAngular(()=>{const i=this._config.buildHammer(t),o=function(t){r.runGuarded(function(){n(t)})};return i.on(e,o),()=>{i.off(e,o),"function"==typeof i.destroy&&i.destroy()}})}isCustomEvent(t){return this._config.events.indexOf(t)>-1}}const Rc=["alt","control","meta","shift"],Mc={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};class Lc extends tc{constructor(t){super(t)}supports(t){return null!=Lc.parseEventName(t)}addEventListener(t,e,n){const r=Lc.parseEventName(e),i=Lc.eventCallback(r.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ru().onAndCancel(t,r.domEventName,i))}static parseEventName(t){const e=t.toLowerCase().split("."),n=e.shift();if(0===e.length||"keydown"!==n&&"keyup"!==n)return null;const r=Lc._normalizeKey(e.pop());let i="";if(Rc.forEach(t=>{const n=e.indexOf(t);n>-1&&(e.splice(n,1),i+=t+".")}),i+=r,0!=e.length||0===r.length)return null;const o={};return o.domEventName=n,o.fullKey=i,o}static getEventFullKey(t){let e="",n=Ru().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Rc.forEach(r=>{r!=n&&(0,Mc[r])(t)&&(e+=r+".")}),e+=n}static eventCallback(t,e,n){return r=>{Lc.getEventFullKey(r)===t&&n.runGuarded(()=>e(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}class Vc{}class Fc extends Vc{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case Oe.NONE:return e;case Oe.HTML:return e instanceof Uc?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){let n=null;try{ke=ke||new le(t);let r=e?String(e):"";n=ke.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=ke.getInertBodyElement(r)}while(r!==o);const s=new Se,a=s.sanitizeChildren(xe(n)||n);return ae()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const t=xe(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}(this._doc,String(e)));case Oe.STYLE:return e instanceof Bc?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";const e=t.match(Ne);return e&&he(e[1])===e[1]||t.match(Pe)&&function(t){let e=!0,n=!0;for(let r=0;r<t.length;r++){const i=t.charAt(r);"'"===i&&n?e=!e:'"'===i&&e&&(n=!n)}return e&&n}(t)?t:(ae()&&console.warn(`WARNING: sanitizing unsafe style value ${t} (see http://g.co/ng/security#xss).`),"unsafe")}(e));case Oe.SCRIPT:if(e instanceof qc)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case Oe.URL:return e instanceof Wc||e instanceof zc?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),he(String(e)));case Oe.RESOURCE_URL:if(e instanceof Wc)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(t,e){if(t instanceof jc)throw new Error(`Required a safe ${e}, got a ${t.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(t){return new Uc(t)}bypassSecurityTrustStyle(t){return new Bc(t)}bypassSecurityTrustScript(t){return new qc(t)}bypassSecurityTrustUrl(t){return new zc(t)}bypassSecurityTrustResourceUrl(t){return new Wc(t)}}class jc{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class Uc extends jc{getTypeName(){return"HTML"}}class Bc extends jc{getTypeName(){return"Style"}}class qc extends jc{getTypeName(){return"Script"}}class zc extends jc{getTypeName(){return"URL"}}class Wc extends jc{getTypeName(){return"ResourceURL"}}const Hc=rs(Cs,"browser",[{provide:wo,useValue:Rl},{provide:_o,useValue:function(){qu.makeCurrent(),Qu.init()},multi:!0},{provide:tl,useClass:class extends tl{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=Ru().getLocation(),this._history=Ru().getHistory()}getBaseHrefFromDOM(){return Ru().getBaseHref(this._doc)}onPopState(t){Ru().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){Ru().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Hu()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Hu()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}},deps:[Dl]},{provide:Dl,useFactory:function(){return document},deps:[]}]);function Kc(){return new ie}class Gc{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:Gc,providers:[{provide:yo,useValue:t.appId},{provide:Ku,useExisting:yo},Gu]}}}"undefined"!=typeof window&&window;class Qc{constructor(t,e){this.id=t,this.url=e}}class $c extends Qc{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Yc extends Qc{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Jc extends Qc{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Xc extends Qc{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Zc extends Qc{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class th extends Qc{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eh extends Qc{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nh extends Qc{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rh extends Qc{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ih{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class oh{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class sh{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ah{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lh{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uh{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ch{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class hh{}const dh="primary";class ph{constructor(t){this.params=t||{}}has(t){return this.params.hasOwnProperty(t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function fh(t){return new ph(t)}const gh="ngNavigationCancelingError";function mh(t){const e=Error("NavigationCancelingError: "+t);return e[gh]=!0,e}function yh(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}class vh{constructor(t,e){this.routes=t,this.module=e}}function bh(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];_h(r,wh(e,r))}}function _h(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==dh)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&bh(t.children,e)}function wh(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Ch(t){const e=t.children&&t.children.map(Ch),n=e?Object.assign({},t,{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==dh&&(n.component=hh),n}function Sh(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(t[i=n[o]]!==e[i])return!1;return!0}function Eh(t){return Array.prototype.concat.apply([],t)}function Th(t){return t.length>0?t[t.length-1]:null}function Ih(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function kh(t){return _n(t)?t:bn(t)?B(Promise.resolve(t)):jl(t)}function xh(t,e,n){return n?function(t,e){return Sh(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Nh(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>e[n]===t[n])}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length){return!!Nh(n.segments.slice(0,i.length),i)&&!r.hasChildren()}if(n.segments.length===i.length){if(!Nh(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!Nh(n.segments,t)&&!!n.children[dh]&&e(n.children[dh],r,o)}}(e,n,n.segments)}(t.root,e.root)}class Oh{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fh(this.queryParams)),this._queryParamMap}toString(){return Lh.serialize(this)}}class Ah{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Ih(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vh(this)}}class Ph{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=fh(this.parameters)),this._parameterMap}toString(){return zh(this)}}function Nh(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function Dh(t,e){let n=[];return Ih(t.children,(t,r)=>{r===dh&&(n=n.concat(e(t,r)))}),Ih(t.children,(t,r)=>{r!==dh&&(n=n.concat(e(t,r)))}),n}class Rh{}class Mh{parse(t){const e=new Qh(t);return new Oh(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`${`/${function t(e,n){if(!e.hasChildren())return Vh(e);if(n){const n=e.children[dh]?t(e.children[dh],!1):"",r=[];return Ih(e.children,(e,n)=>{n!==dh&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=Dh(e,(n,r)=>r===dh?[t(e.children[dh],!1)]:[`${r}:${t(n,!1)}`]);return`${Vh(e)}/(${n.join("//")})`}}(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${jh(e)}=${jh(t)}`).join("&"):`${jh(e)}=${jh(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const Lh=new Mh;function Vh(t){return t.segments.map(t=>zh(t)).join("/")}function Fh(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jh(t){return Fh(t).replace(/%3B/gi,";")}function Uh(t){return Fh(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bh(t){return decodeURIComponent(t)}function qh(t){return Bh(t.replace(/\+/g,"%20"))}function zh(t){return`${Uh(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${Uh(t)}=${Uh(e[t])}`).join("")}`;var e}const Wh=/^[^\/()?;=#]+/;function Hh(t){const e=t.match(Wh);return e?e[0]:""}const Kh=/^[^=?&#]+/,Gh=/^[^?&#]+/;class Qh{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ah([],{}):new Ah([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[dh]=new Ah(t,e)),n}parseSegment(){const t=Hh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Ph(Bh(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Hh(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Hh(this.remaining);t&&this.capture(n=t)}t[Bh(e)]=Bh(n)}parseQueryParam(t){const e=function(t){const e=t.match(Kh);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Gh);return e?e[0]:""}(this.remaining);t&&this.capture(n=t)}const r=qh(e),i=qh(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(t[r]=e=[e]),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Hh(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=dh);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o[dh]:new Ah([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class $h{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Yh(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Yh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Jh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Jh(t,this._root).map(t=>t.value)}}function Yh(t,e){if(t===e.value)return e;for(const n of e.children){const e=Yh(t,n);if(e)return e}return null}function Jh(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Jh(t,n);if(r.length)return r.unshift(e),r}return[]}class Xh{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Zh(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class td extends $h{constructor(t,e){super(t),this.snapshot=e,sd(this,t)}toString(){return this.snapshot.toString()}}function ed(t,e){const n=function(t,e){const n=new id([],{},{},"",{},dh,e,null,t.root,-1,{});return new od("",new Xh(n,[]))}(t,e),r=new Ul([new Ph("",{})]),i=new Ul({}),o=new Ul({}),s=new Ul({}),a=new Ul(""),l=new nd(r,i,s,a,o,dh,e,n.root);return l.snapshot=n.root,new td(new Xh(l,[]),n)}class nd{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(V(t=>fh(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(V(t=>fh(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function rd(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign({},t.params,e.params),data:Object.assign({},t.data,e.data),resolve:Object.assign({},t.resolve,e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class id{constructor(t,e,n,r,i,o,s,a,l,u,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class od extends $h{constructor(t,e){super(e),this.url=t,sd(this,e)}toString(){return ad(this._root)}}function sd(t,e){e.value._routerState=t,e.children.forEach(e=>sd(t,e))}function ad(t){const e=t.children.length>0?` { ${t.children.map(ad).join(", ")} } `:"";return`${t.value}${e}`}function ld(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Sh(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Sh(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Sh(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Sh(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function ud(t,e){var n,r;return Sh(t.params,e.params)&&Nh(n=t.url,r=e.url)&&n.every((t,e)=>Sh(t.parameters,r[e].parameters))&&!(!t.parent!=!e.parent)&&(!t.parent||ud(t.parent,e.parent))}function cd(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function hd(t,e,n,r,i){let o={};return r&&Ih(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Oh(n.root===t?e:function t(e,n,r){const i={};return Ih(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new Ah(e.segments,i)}(n.root,t,e),o,i)}class dd{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&cd(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(t=>"object"==typeof t&&null!=t&&t.outlets);if(r&&r!==Th(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pd{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function fd(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[dh]:`${t}`}function gd(t,e,n){if(t||(t=new Ah([],{})),0===t.segments.length&&t.hasChildren())return md(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=fd(n[r]),a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!_d(s,a,e))return o;r+=2}else{if(!_d(s,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Ah(t.segments.slice(0,r.pathIndex),{});return e.children[dh]=new Ah(t.segments.slice(r.pathIndex),t.children),md(e,0,i)}return r.match&&0===i.length?new Ah(t.segments,{}):r.match&&!t.hasChildren()?yd(t,e,n):r.match?md(t,0,i):yd(t,e,n)}function md(t,e,n){if(0===n.length)return new Ah(t.segments,{});{const r=function(t){return"object"!=typeof t[0]?{[dh]:t}:void 0===t[0].outlets?{[dh]:t}:t[0].outlets}(n),i={};return Ih(r,(n,r)=>{null!==n&&(i[r]=gd(t.children[r],e,n))}),Ih(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Ah(t.segments,i)}}function yd(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){const t=vd(n[i].outlets);return new Ah(r,t)}if(0===i&&cd(n[0])){r.push(new Ph(t.segments[e].path,n[0])),i++;continue}const o=fd(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&cd(s)?(r.push(new Ph(o,bd(s))),i+=2):(r.push(new Ph(o,{})),i++)}return new Ah(r,{})}function vd(t){const e={};return Ih(t,(t,n)=>{null!==t&&(e[n]=yd(new Ah([],{}),0,t))}),e}function bd(t){const e={};return Ih(t,(t,n)=>e[n]=`${t}`),e}function _d(t,e,n){return t==n.path&&Sh(e,n.parameters)}const wd=(t,e,n)=>V(r=>(new Cd(e,r.targetRouterState,r.currentRouterState,n).activate(t),r));class Cd{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),ld(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Zh(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Ih(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Zh(t),i=t.value.component?n.children:e;Ih(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Zh(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new uh(t.value.snapshot))}),t.children.length&&this.forwardEvent(new ah(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(ld(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Sd(t.route)}else{const n=function(t){for(let e=r.snapshot.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Sd(t){ld(t.value),t.children.forEach(Sd)}function Ed(t){return"function"==typeof t}function Td(t){return t instanceof Oh}class Id{constructor(t){this.segmentGroup=t||null}}class kd{constructor(t){this.urlTree=t}}function xd(t){return new _(e=>e.error(new Id(t)))}function Od(t){return new _(e=>e.error(new kd(t)))}function Ad(t){return new _(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Pd{constructor(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(Ht)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,dh).pipe(V(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(cu(t=>{if(t instanceof kd)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Id)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,dh).pipe(V(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(cu(t=>{if(t instanceof Id)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Ah([],{[dh]:t}):t;return new Oh(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(V(t=>new Ah([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return jl({});const n=[],r=[],i={};return Ih(t,(t,o)=>{const s=e(o,t).pipe(V(t=>i[o]=t));o===dh?n.push(s):r.push(s)}),jl.apply(null,n.concat(r)).pipe($l(),uu(),V(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return jl(...n).pipe(V(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(cu(t=>{if(t instanceof Id)return jl(null);throw t}))),$l(),mu(t=>!!t),cu((t,n)=>{if(t instanceof Bl||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return jl(new Ah([],{}));throw new Id(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return Md(r)!==o?xd(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):xd(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Od(i):this.lineralizeSegments(n,i).pipe(q(n=>{const i=new Ah(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:l,positionalParamSegments:u}=Nd(e,r,i);if(!s)return xd(e);const c=this.applyRedirectCommands(a,r.redirectTo,u);return r.redirectTo.startsWith("/")?Od(c):this.lineralizeSegments(r,c).pipe(q(r=>this.expandSegment(t,e,n,r.concat(i.slice(l)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(V(t=>(n._loadedConfig=t,new Ah(r,{})))):jl(new Ah(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=Nd(e,n,r);if(!i)return xd(e);const a=r.slice(s);return this.getChildConfig(t,n,r).pipe(q(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return r.some(n=>Rd(t,e,n)&&Md(n)!==dh)}(t,n)?{segmentGroup:Dd(new Ah(e,function(t,e){const n={};n[dh]=e;for(const r of t)""===r.path&&Md(r)!==dh&&(n[Md(r)]=new Ah([],{}));return n}(r,new Ah(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return r.some(n=>Rd(t,e,n))}(t,n)?{segmentGroup:Dd(new Ah(t.segments,function(t,e,n,r){const i={};for(const o of n)Rd(t,e,o)&&!r[Md(o)]&&(i[Md(o)]=new Ah([],{}));return Object.assign({},r,i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,a,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(V(t=>new Ah(o,t))):0===r.length&&0===s.length?jl(new Ah(o,{})):this.expandSegment(n,i,r,s,dh,!0).pipe(V(t=>new Ah(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?jl(new vh(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?jl(e._loadedConfig):function(t,e,n){const r=e.canLoad;return r&&0!==r.length?B(r).pipe(V(r=>{const i=t.get(r);let o;if(function(t){return t&&Ed(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Ed(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return kh(o)})).pipe($l(),(i=t=>!0===t,t=>t.lift(new yu(i,void 0,t)))):jl(!0);var i}(t.injector,e,n).pipe(q(n=>n?this.configLoader.load(t.injector,e).pipe(V(t=>(e._loadedConfig=t,t))):function(t){return new _(e=>e.error(mh(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):jl(new vh([],t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return jl(n);if(r.numberOfChildren>1||!r.children[dh])return Ad(t.redirectTo);r=r.children[dh]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Oh(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Ih(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Ih(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new Ah(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Nd(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||yh)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Dd(t){if(1===t.numberOfChildren&&t.children[dh]){const e=t.children[dh];return new Ah(t.segments.concat(e.segments),e.children)}return t}function Rd(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Md(t){return t.outlet||dh}class Ld{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Vd{constructor(t,e){this.component=t,this.route=e}}function Fd(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Zh(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,a=n?n.value:null,l=r?r.getContext(e.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Nh(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Nh(t.url,e.url)||!Sh(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ud(t,e)||!Sh(t.queryParams,e.queryParams);case"paramsChange":default:return!ud(t,e)}}(a,s,s.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new Ld(i)):(s.data=a.data,s._resolvedData=a._resolvedData),t(e,n,s.component?l?l.children:null:r,i,o),u&&o.canDeactivateChecks.push(new Vd(l&&l.outlet&&l.outlet.component||null,a))}else a&&Ud(n,l,o),o.canActivateChecks.push(new Ld(i)),t(e,null,s.component?l?l.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),Ih(s,(t,e)=>Ud(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function jd(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Ud(t,e,n){const r=Zh(t),i=t.value;Ih(r,(t,r)=>{Ud(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new Vd(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}const Bd=Symbol("INITIAL_VALUE");function qd(){return bu(t=>zl(...t.map(t=>t.pipe(pu(1),Su(Bd)))).pipe(Eu((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Bd)return t;if(r===Bd&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Td(r))return r}return t},t)},Bd),Yl(t=>t!==Bd),V(t=>Td(t)?t:!0===t),pu(1)))}function zd(t,e){return null!==t&&e&&e(new lh(t)),jl(!0)}function Wd(t,e){return null!==t&&e&&e(new sh(t)),jl(!0)}function Hd(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?jl(r.map(r=>Ql(()=>{const i=jd(r,e,n);let o;if(function(t){return t&&Ed(t.canActivate)}(i))o=kh(i.canActivate(e,t));else{if(!Ed(i))throw new Error("Invalid CanActivate guard");o=kh(i(e,t))}return o.pipe(mu())}))).pipe(qd()):jl(!0)}function Kd(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>(function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null})(t)).filter(t=>null!==t).map(e=>Ql(()=>jl(e.guards.map(i=>{const o=jd(i,e.node,n);let s;if(function(t){return t&&Ed(t.canActivateChild)}(o))s=kh(o.canActivateChild(r,t));else{if(!Ed(o))throw new Error("Invalid CanActivateChild guard");s=kh(o(r,t))}return s.pipe(mu())})).pipe(qd())));return jl(i).pipe(qd())}class Gd{}class Qd{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const e=Jd(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,e,dh),r=new id([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},dh,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Xh(r,n),o=new od(this.url,i);return this.inheritParamsAndData(o._root),jl(o)}catch(t){return new _(e=>e.error(t))}}inheritParamsAndData(t){const e=t.value,n=rd(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=Dh(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};n.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(),n.sort((t,e)=>t.value.outlet===dh?-1:e.value.outlet===dh?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const o of t)try{return this.processSegmentAgainstRoute(o,e,n,r)}catch(i){if(!(i instanceof Gd))throw i}if(this.noLeftoversInUrl(e,n,r))return[];throw new Gd}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new Gd;if((t.outlet||dh)!==r)throw new Gd;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?Th(n).parameters:{};i=new id(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,tp(t),r,t.component,t,$d(e),Yd(e)+n.length,ep(t))}else{const a=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Gd;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||yh)(n,t,e);if(!r)throw new Gd;const i={};Ih(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=a.consumedSegments,s=n.slice(a.lastChild),i=new id(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,tp(t),r,t.component,t,$d(e),Yd(e)+o.length,ep(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:l,slicedSegments:u}=Jd(e,o,s,a,this.relativeLinkResolution);if(0===u.length&&l.hasChildren()){const t=this.processChildren(a,l);return[new Xh(i,t)]}if(0===a.length&&0===u.length)return[new Xh(i,[])];const c=this.processSegment(a,l,u,dh);return[new Xh(i,c)]}}function $d(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Yd(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Jd(t,e,n,r,i){if(n.length>0&&function(t,e,n){return r.some(n=>Xd(t,e,n)&&Zd(n)!==dh)}(t,n)){const i=new Ah(e,function(t,e,n,r){const i={};i[dh]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Zd(o)!==dh){const n=new Ah([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Zd(o)]=n}return i}(t,e,r,new Ah(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return r.some(n=>Xd(t,e,n))}(t,n)){const o=new Ah(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(Xd(t,n,a)&&!i[Zd(a)]){const n=new Ah([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Zd(a)]=n}return Object.assign({},i,s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new Ah(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Xd(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Zd(t){return t.outlet||dh}function tp(t){return t.data||{}}function ep(t){return t.resolve||{}}function np(t,e,n,r){const i=jd(t,e,r);return kh(i.resolve?i.resolve(e,n):i(e,n))}function rp(t){return function(e){return e.pipe(bu(e=>{const n=t(e);return n?B(n).pipe(V(()=>e)):B([e])}))}}class ip{}class op{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}const sp=new xt("ROUTES");class ap{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(V(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new vh(Eh(r.injector.get(sp)).map(Ch),r)}))}loadModuleFactory(t){return"string"==typeof t?B(this.loader.load(t)):kh(t()).pipe(q(t=>t instanceof Kt?jl(t):B(this.compiler.compileModuleAsync(t))))}}class lp{}class up{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function cp(t){throw t}function hp(t,e,n){return e.parse("/")}function dp(t,e){return jl(null)}class pp{constructor(t,e,n,r,i,o,s,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new T,this.errorHandler=cp,this.malformedUriErrorHandler=hp,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:dp,afterPreactivation:dp},this.urlHandlingStrategy=new up,this.routeReuseStrategy=new op,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(Ht),this.console=i.get(So);const l=i.get(Bo);this.isNgZoneEnabled=l instanceof Bo,this.resetConfig(a),this.currentUrlTree=new Oh(new Ah([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ap(o,s,t=>this.triggerEvent(new ih(t)),t=>this.triggerEvent(new oh(t))),this.routerState=ed(this.currentUrlTree,this.rootComponentType),this.transitions=new Ul({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Yl(t=>0!==t.id),V(t=>Object.assign({},t,{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),bu(t=>{let n=!1,r=!1;return jl(t).pipe(xu(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign({},this.lastSuccessfulNavigation,{previousNavigation:null}):null}}),bu(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return jl(t).pipe(bu(t=>{const n=this.transitions.getValue();return e.next(new $c(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Kl:[t]}),bu(t=>Promise.resolve(t)),function(t,e,n,r){return function(i){return i.pipe(bu(i=>(function(t,e,n,r,o){return new Pd(t,e,n,i.extractedUrl,o).apply()})(t,e,n,0,r).pipe(V(t=>Object.assign({},i,{urlAfterRedirects:t})))))}}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),xu(t=>{this.currentNavigation=Object.assign({},this.currentNavigation,{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(q(o=>(function(t,e,n,r,i="emptyOnly",o="legacy"){return new Qd(t,e,n,r,i,o).recognize()})(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(V(t=>Object.assign({},o,{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),xu(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),xu(t=>{const n=new Zc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new $c(n,this.serializeUrl(r),i,o);e.next(a);const l=ed(r,this.rootComponentType).snapshot;return jl(Object.assign({},t,{targetSnapshot:l,urlAfterRedirects:r,extras:Object.assign({},s,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Kl}),rp(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),xu(t=>{const e=new th(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),V(t=>Object.assign({},t,{guards:Fd(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(q(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?jl(Object.assign({},n,{guardsResult:!0})):function(t,e,n,r){return B(s).pipe(q(t=>(function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?jl(o.map(o=>{const s=jd(o,e,i);let a;if(function(t){return t&&Ed(t.canDeactivate)}(s))a=kh(s.canDeactivate(t,e,n,r));else{if(!Ed(s))throw new Error("Invalid CanDeactivate guard");a=kh(s(t,e,n,r))}return a.pipe(mu())})).pipe(qd()):jl(!0)})(t.component,t.route,n,e,r)),mu(t=>!0!==t,!0))}(0,r,i,t).pipe(q(n=>n&&function(t){return"boolean"==typeof n}()?function(t,e,n,r){return B(o).pipe(ku(e=>B([Wd(e.route.parent,r),zd(e.route,r),Kd(t,e.path,n),Hd(t,e.route,n)]).pipe($l(),mu(t=>!0!==t,!0))),mu(t=>!0!==t,!0))}(r,0,t,e):jl(n)),V(t=>Object.assign({},n,{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),xu(t=>{if(Td(t.guardsResult)){const e=mh(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),xu(t=>{const e=new eh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Yl(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new Jc(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),rp(t=>{if(t.guards.canActivateChecks.length)return jl(t).pipe(xu(t=>{const e=new nh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),function(t,e){return function(n){return n.pipe(q(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;return i.length?B(i).pipe(ku(n=>(function(t,e,n,i){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return jl({});if(1===i.length){const o=i[0];return np(t[o],e,n,r).pipe(V(t=>({[o]:t})))}const o={};return B(i).pipe(q(i=>np(t[i],e,n,r).pipe(V(t=>(o[i]=t,t))))).pipe(uu(),V(()=>o))}(t._resolve,t,r,i).pipe(V(e=>(t._resolvedData=e,t.data=Object.assign({},t.data,rd(t,n).resolve),null)))})(n.route,0,t,e)),function(t,e){return arguments.length>=2?function(n){return v(Eu(t,e),tu(1),su(e))(n)}:function(e){return v(Eu((e,n,r)=>t(e,n,r+1)),tu(1))(e)}}((t,e)=>t),V(t=>n)):jl(n)}))}}(this.paramsInheritanceStrategy,this.ngModule.injector),xu(t=>{const e=new rh(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),rp(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),V(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new Xh(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new nd(new Ul((i=n.value).url),new Ul(i.params),new Ul(i.queryParams),new Ul(i.fragment),new Ul(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new Xh(r,o)}}var i}(t,e._root,n?n._root:void 0);return new td(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign({},t,{targetRouterState:e})}),xu(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),wd(this.rootContexts,this.routeReuseStrategy,t=>this.triggerEvent(t)),xu({next(){n=!0},complete(){n=!0}}),function(t){return e=>e.lift(new Pu(t))}(()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new Jc(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null}),cu(n=>{if(r=!0,function(t){return n&&n[gh]}()){const r=Td(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new Jc(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),t.resolve(!1),r&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Xc(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(i){t.reject(i)}}return Kl}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign({},this.getTransition(),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{let e=this.parseUrl(t.url);const n="popstate"===t.type?"popstate":"hashchange",r=t.state&&t.state.navigationId?t.state:null;setTimeout(()=>{this.scheduleNavigation(e,n,r,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){bh(t),this.config=t.map(Ch),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,preserveQueryParams:o,queryParamsHandling:s,preserveFragment:a}=e;ae()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,u=a?this.currentUrlTree.fragment:i;let c=null;if(s)switch(s){case"merge":c=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}else c=o?this.currentUrlTree.queryParams:r||null;return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return hd(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new dd(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Ih(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new dd(n,e,r)}(n);if(o.toRoot())return hd(e.root,new Ah([],{}),e,r,i);const s=function(t,n,r){if(t.isAbsolute)return new pd(e.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new pd(r.snapshot._urlSegment,!0,0);const i=cd(t.commands[0])?0:1;return function(e,n,o){let s=r.snapshot._urlSegment,a=r.snapshot._lastPathIndex+i,l=t.numberOfDoubleDots;for(;l>a;){if(l-=a,!(s=s.parent))throw new Error("Invalid number of '../'");a=s.segments.length}return new pd(s,!1,a-l)}()}(o,0,t),a=s.processChildren?md(s.segmentGroup,s.index,o.commands):gd(s.segmentGroup,s.index,o.commands);return hd(s.segmentGroup,a,e,r,i)}(l,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){ae()&&this.isNgZoneEnabled&&!Bo.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Td(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){if(Td(t))return xh(this.currentUrlTree,t,e);const n=this.parseUrl(t);return xh(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Yc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r){const i=this.getTransition();if(i&&"imperative"!==e&&"imperative"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"hashchange"==e&&"popstate"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(i&&"popstate"==e&&"hashchange"===i.source&&i.rawUrl.toString()===t.toString())return Promise.resolve(!0);let o=null,s=null;const a=new Promise((t,e)=>{o=t,s=e}),l=++this.navigationId;return this.setTransition({id:l,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class fp{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){ae()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t}onClick(){const t={skipLocationChange:mp(this.skipLocationChange),replaceUrl:mp(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:mp(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:mp(this.preserveFragment)})}}class gp{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe(t=>{t instanceof Yc&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}set preserveQueryParams(t){ae()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t}ngOnChanges(t){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const i={skipLocationChange:mp(this.skipLocationChange),replaceUrl:mp(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:mp(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:mp(this.preserveFragment)})}}function mp(t){return""===t||!!t}class yp{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new vp,this.attachRef=null}}class vp{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new yp,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class bp{constructor(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new ro,this.deactivateEvents=new ro,this.name=r||dh,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new _p(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}class _p{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===nd?this.route:t===vp?this.childContexts:this.parent.get(t,e)}}class wp{}class Cp{preload(t,e){return e().pipe(cu(()=>jl(null)))}}class Sp{preload(t,e){return jl(null)}}class Ep{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new ap(e,n,e=>t.triggerEvent(new ih(e)),e=>t.triggerEvent(new oh(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Yl(t=>t instanceof Yc),ku(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(Ht);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return B(n).pipe(K(),V(t=>void 0))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(q(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}class Tp{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof $c?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Yc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ch&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new ch(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const Ip=new xt("ROUTER_CONFIGURATION"),kp=new xt("ROUTER_FORROOT_GUARD"),xp=[il,{provide:Rh,useClass:Mh},{provide:pp,useFactory:Mp,deps:[as,Rh,vp,il,Ze,us,Po,sp,Ip,[lp,new ht],[ip,new ht]]},vp,{provide:nd,useFactory:Lp,deps:[pp]},{provide:us,useClass:fs},Ep,Sp,Cp,{provide:Ip,useValue:{enableTracing:!1}}];function Op(){return new ns("Router",pp)}class Ap{constructor(t,e){}static forRoot(t,e){return{ngModule:Ap,providers:[xp,Rp(t),{provide:kp,useFactory:Dp,deps:[[pp,new ht,new pt]]},{provide:Ip,useValue:e||{}},{provide:nl,useFactory:Np,deps:[tl,[new ct(rl),new ht],Ip]},{provide:Tp,useFactory:Pp,deps:[pp,Vl,Ip]},{provide:wp,useExisting:e&&e.preloadingStrategy?e.preloadingStrategy:Sp},{provide:ns,multi:!0,useFactory:Op},[Vp,{provide:go,multi:!0,useFactory:Fp,deps:[Vp]},{provide:Up,useFactory:jp,deps:[Vp]},{provide:Co,multi:!0,useExisting:Up}]]}}static forChild(t){return{ngModule:Ap,providers:[Rp(t)]}}}function Pp(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Tp(t,e,n)}function Np(t,e,n={}){return n.useHash?new sl(t,e):new al(t,e)}function Dp(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Rp(t){return[{provide:un,multi:!0,useValue:t},{provide:sp,multi:!0,useValue:t}]}function Mp(t,e,n,r,i,o,s,a,l={},u,c){const h=new pp(null,e,n,r,i,o,s,Eh(a));if(u&&(h.urlHandlingStrategy=u),c&&(h.routeReuseStrategy=c),l.errorHandler&&(h.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(h.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){const t=Ru();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return l.onSameUrlNavigation&&(h.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(h.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(h.relativeLinkResolution=l.relativeLinkResolution),h}function Lp(t){return t.routerState.root}class Vp{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new T}appInitializer(){return this.injector.get(el,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(pp),r=this.injector.get(Ip);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?jl(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Ip),n=this.injector.get(Ep),r=this.injector.get(Tp),i=this.injector.get(pp),o=this.injector.get(as);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}function Fp(t){return t.appInitializer.bind(t)}function jp(t){return t.bootstrapListener.bind(t)}const Up=new xt("Router Initializer");var Bp=Cr({encapsulation:2,styles:[],data:{}});function qp(t){return Hs(0,[(t()(),Os(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Ni(1,212992,null,0,bp,[vp,rr,kn,[8,null],Me],null,null)],function(t,e){t(e,1,0)},null)}function zp(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"ng-component",[],null,null,null,qp,Bp)),Ni(1,49152,null,0,hh,[],null,null)],null,null)}var Wp=li("ng-component",hh,zp,{},{},[]),Hp=n("Wcq6"),Kp=n.n(Hp);function Gp(t){return function(t){return new _(e=>({unsubscribe:t.onSnapshot(e)}))}(t).pipe(nt())}function Qp(t){return Gp(t).pipe(V(t=>({payload:t,type:"query"})))}function $p(t){return Qp(t).pipe(V(t=>t.payload.docChanges().map(t=>({type:t.type,payload:t}))))}function Yp(t,e){return Qp(t).pipe(V(t=>t.payload.docChanges()),Eu((t,n)=>(function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":t[e.newIndex]&&t[e.newIndex].doc.ref.isEqual(e.doc.ref)||t.splice(e.newIndex,0,e);break;case"modified":(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref))&&(e.oldIndex!==e.newIndex?(t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e)):t.splice(e.newIndex,1,e));break;case"removed":t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref)&&t.splice(e.oldIndex,1)}return t}(t,e))}),t})(t,n,e),[]),V(t=>t.map(t=>({type:t.type,payload:t}))))}n("mrSG");class Jp extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class Xp extends Jp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}class Zp extends Xp{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}let tf=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class ef extends tf{constructor(t,e=tf.now){super(t,()=>ef.delegate&&ef.delegate!==this?ef.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return ef.delegate&&ef.delegate!==this?ef.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}class nf extends ef{}const rf=new nf(Zp);class of{constructor(t,e){this.zone=t,this.platformId=e}schedule(...t){return this.zone.runGuarded(function(){return rf.schedule.apply(rf,t)})}keepUnstableUntilFirst(t){return Ll(this.platformId)?new _(e=>{const n=()=>{},r=Zone.current.scheduleMacroTask("firebaseZoneBlock",n,{},n,n);t.subscribe(t=>{"scheduled"===r.state&&r.invoke(),e.next(t)},t=>{"scheduled"===r.state&&r.invoke(),e.error(t)},()=>{"scheduled"===r.state&&r.invoke(),e.complete()})}):t}runOutsideAngular(t){return new _(e=>this.zone.runOutsideAngular(()=>t.subscribe(t=>this.zone.run(()=>e.next(t)),t=>this.zone.run(()=>e.error(t)),()=>this.zone.run(()=>e.complete()))))}}const sf=t=>e=>new _(n=>e.subscribe(e=>t.run(()=>n.next(e)),e=>t.run(()=>n.error(e)),()=>t.run(()=>n.complete())));function af(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class lf{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular($p(this.query))).pipe(V(e=>e.filter(e=>t.indexOf(e.type)>-1)),Yl(t=>t.length>0)):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular($p(this.query)))}auditTrail(t){return this.stateChanges(t).pipe(Eu((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=af(t),n=Yp(this.query,e),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)}valueChanges(t={}){const e=Qp(this.query),n=this.afs.scheduler.runOutsideAngular(e);return this.afs.scheduler.keepUnstableUntilFirst(n).pipe(V(e=>e.payload.docs.map(e=>t.idField?Object.assign({},e.data(),{[t.idField]:e.id}):e.data())))}get(t){return B(this.query.get(t)).pipe(sf(this.afs.scheduler.zone))}add(t){return this.ref.add(t)}doc(t){return new uf(this.ref.doc(t),this.afs)}}class uf{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=Cf(n,e);return new lf(r,i,this.afs)}snapshotChanges(){const t=Gp(this.ref).pipe(V(t=>({payload:t,type:"value"}))),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e)}valueChanges(){return this.snapshotChanges().pipe(V(t=>t.payload.data()))}get(t){return B(this.ref.get(t)).pipe(sf(this.afs.scheduler.zone))}}class cf{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular($p(this.query))).pipe(V(e=>e.filter(e=>t.indexOf(e.type)>-1)),Yl(t=>t.length>0)):this.afs.scheduler.keepUnstableUntilFirst(this.afs.scheduler.runOutsideAngular($p(this.query)))}auditTrail(t){return this.stateChanges(t).pipe(Eu((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=af(t),n=Yp(this.query,e),r=this.afs.scheduler.runOutsideAngular(n);return this.afs.scheduler.keepUnstableUntilFirst(r)}valueChanges(){const t=Qp(this.query),e=this.afs.scheduler.runOutsideAngular(t);return this.afs.scheduler.keepUnstableUntilFirst(e).pipe(V(t=>t.payload.docs.map(t=>t.data())))}get(t){return B(this.query.get(t)).pipe(sf(this.afs.scheduler.zone))}}var hf;const df=new xt("angularfire2.app.options"),pf=new xt("angularfire2.app.nameOrConfig");class ff{}function gf(t,e){const n="object"==typeof e&&e||{};return n.name=n.name||"string"==typeof e&&e||"[DEFAULT]",Kp.a.apps.filter(t=>t&&t.name===n.name)[0]||Kp.a.initializeApp(t,n)}let mf=hf=class{static initializeApp(t,e){return{ngModule:hf,providers:[{provide:df,useValue:t},{provide:pf,useValue:e}]}}};const yf=new xt("angularfire2.enableFirestorePersistence"),vf=new xt("angularfire2.firestore.persistenceSettings"),bf=new xt("angularfire2.firestore.settings"),_f=parseInt(Kp.a.SDK_VERSION.split(".")[0]),wf=_f<5||5==_f&&parseInt(Kp.a.SDK_VERSION.split(".")[1])<8?{timestampsInSnapshots:!0}:{};function Cf(t,e=(t=>t)){return{query:e(t),ref:t}}let Sf=class{constructor(t,e,n,r,i,o,s){this.scheduler=new of(o,i),this.firestore=o.runOutsideAngular(()=>{const n=gf(t,e).firestore();return n.settings(r||wf),n}),this.persistenceEnabled$=n&&!Ll(i)?o.runOutsideAngular(()=>{try{return B(this.firestore.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(t){return jl(!1)}}):jl(!1)}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=Cf(n,e);return new lf(r,i,this)}collectionGroup(t,e){if(_f<6)throw"collection group queries require Firebase JS SDK >= 6.0";const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new cf(n(r),this)}doc(t){let e;return e="string"==typeof t?this.firestore.doc(t):t,new uf(e,this)}createId(){return this.firestore.collection("_").doc().id}},Ef=class{constructor(t,e,n,r){this.zone=r;const i=new of(r,n);this.auth=r.runOutsideAngular(()=>gf(t,e).auth()),this.authState=i.keepUnstableUntilFirst(i.runOutsideAngular(new _(t=>({unsubscribe:this.auth.onAuthStateChanged(t)})))),this.user=i.keepUnstableUntilFirst(i.runOutsideAngular(new _(t=>({unsubscribe:this.auth.onIdTokenChanged(t)})))),this.idToken=this.user.pipe(bu(t=>t?B(t.getIdToken()):jl(null))),this.idTokenResult=this.user.pipe(bu(t=>t?B(t.getIdTokenResult()):jl(null)))}},Tf=(()=>{class t{constructor(t,e,n,r){this.afs=t,this.afAuth=e,this.router=n,this.ngZone=r,this.afAuth.authState.subscribe(t=>{t?(this.userData=t,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user",null),JSON.parse(localStorage.getItem("user")))})}SignIn(t,e){return this.afAuth.auth.signInWithEmailAndPassword(t,e).then(t=>{this.ngZone.run(()=>{this.router.navigate(["/Principal"])}),this.SetUserData(t.user)}).catch(t=>{window.alert(t.message)})}SetUserData(t){const e=new Date,n=this.afs.doc(`users/${t.uid}`),r={uid:t.uid,createdAt:e.toLocaleDateString(),name:t.email.split("@")[0],mail:t.email};return n.set(r,{merge:!0})}SignUp(t,e){return this.afAuth.auth.createUserWithEmailAndPassword(t,e).then(t=>{this.SetUserData(t.user),this.router.navigate(["/Principal"])}).catch(t=>{window.alert(t.message)})}get isLoggedIn(){const t=JSON.parse(localStorage.getItem("user"));return null!==t&&!1!==t.emailVerified}SignOut(){return this.afAuth.auth.signOut().then(()=>{localStorage.removeItem("user"),this.router.navigate(["Login"])})}SetAgilidadData(t){t.id=Math.floor(Math.random()*Math.floor(6));const e=new Date,n=this.afs.doc(`agilidad/${t.id}`),r={id:t.id,createdAt:e.toLocaleDateString(),jugador:t.jugador,partidas:t.partidas};return n.set(r,{merge:!0})}}return t.ngInjectableDef=mt({factory:function(){return new t(Ut(Sf),Ut(Ef),Ut(pp),Ut(Bo))},token:t,providedIn:"root"}),t})();class If{constructor(t){this.authService=t}ngOnInit(){}}var kf=Cr({encapsulation:0,styles:[["a[_ngcontent-%COMP%]{color:#fff!important}"]],data:{}});function xf(t){return Hs(0,[(t()(),Os(0,0,null,null,30,"nav",[["class","navbar navbar-expand-lg navbar-dark bg-dark"]],null,null,null,null,null)),(t()(),Os(1,0,null,null,1,"button",[["aria-controls","navbarTogglerDemo01"],["aria-expanded","false"],["aria-label","Toggle navigation"],["class","navbar-toggler"],["data-target","#navbarTogglerDemo01"],["data-toggle","collapse"],["type","button"]],null,null,null,null,null)),(t()(),Os(2,0,null,null,0,"span",[["class","navbar-toggler-icon"]],null,null,null,null,null)),(t()(),Os(3,0,null,null,27,"div",[["class","collapse navbar-collapse"],["id","navbarTogglerDemo01"]],null,null,null,null,null)),(t()(),Os(4,0,null,null,3,"a",[["class","navbar-brand"],["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==bi(t,5).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Ni(5,671744,null,0,gp,[pp,nd,nl],{routerLink:[0,"routerLink"]},null),(t()(),Os(6,0,null,null,1,"strong",[],null,null,null,null,null)),(t()(),qs(-1,null,[" Sala de Juegos"])),(t()(),Os(8,0,null,null,13,"ul",[["class","navbar-nav mr-auto mt-2 mt-lg-0"]],null,null,null,null,null)),(t()(),Os(9,0,null,null,3,"li",[["class","nav-item active"]],null,null,null,null,null)),(t()(),Os(10,0,null,null,2,"a",[["class","nav-link text-info"],["routerLink","/"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==bi(t,11).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Ni(11,671744,null,0,gp,[pp,nd,nl],{routerLink:[0,"routerLink"]},null),(t()(),qs(-1,null,["Home"])),(t()(),Os(13,0,null,null,4,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Os(14,0,null,null,3,"a",[["class","nav-link text-info"],["routerLink","/QuienSoy"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==bi(t,15).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Ni(15,671744,null,0,gp,[pp,nd,nl],{routerLink:[0,"routerLink"]},null),(t()(),Os(16,0,null,null,0,"i",[["class","fa fa-user"]],null,null,null,null,null)),(t()(),qs(-1,null,[" Quien Soy? "])),(t()(),Os(18,0,null,null,3,"li",[["class","nav-item"]],null,null,null,null,null)),(t()(),Os(19,0,null,null,2,"a",[["class","nav-link text-info "],["href","https://github.com/marianocamara"],["target","_blank"]],null,null,null,null,null)),(t()(),Os(20,0,null,null,0,"i",[["class","fa fa-github"]],null,null,null,null,null)),(t()(),qs(-1,null,[" GitHub"])),(t()(),Os(22,0,null,null,8,"div",[["class","form-inline my-2 my-lg-0"]],null,null,null,null,null)),(t()(),Os(23,0,null,null,2,"a",[["class","nav-link text-info"],["routerLink","/Login"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==bi(t,24).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Ni(24,671744,null,0,gp,[pp,nd,nl],{routerLink:[0,"routerLink"]},null),(t()(),qs(-1,null,["Ingresar"])),(t()(),Os(26,0,null,null,2,"a",[["class","nav-link text-info"],["routerLink","/Registro"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==bi(t,27).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Ni(27,671744,null,0,gp,[pp,nd,nl],{routerLink:[0,"routerLink"]},null),(t()(),qs(-1,null,["Registrarse"])),(t()(),Os(29,0,null,null,1,"a",[["class","nav-link text-info"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.authService.SignOut()&&r),r},null,null)),(t()(),qs(-1,null,["Cerrar sesion"]))],function(t,e){t(e,5,0,"/"),t(e,11,0,"/"),t(e,15,0,"/QuienSoy"),t(e,24,0,"/Login"),t(e,27,0,"/Registro")},function(t,e){t(e,4,0,bi(e,5).target,bi(e,5).href),t(e,10,0,bi(e,11).target,bi(e,11).href),t(e,14,0,bi(e,15).target,bi(e,15).href),t(e,23,0,bi(e,24).target,bi(e,24).href),t(e,26,0,bi(e,27).target,bi(e,27).href)})}class Of{constructor(){}ngOnInit(){}}var Af=Cr({encapsulation:0,styles:[[".divider[_ngcontent-%COMP%]{width:100%;max-width:370px;height:1px;margin:40px auto;display:block;position:relative;background:#e5e5e5}.svg-triangle-icon-container[_ngcontent-%COMP%]{width:22px;height:15px;overflow:visible!important;left:50%;margin-left:-11px;margin-top:-6px;display:block;position:absolute}.svg-triangle-icon[_ngcontent-%COMP%]{fill:transparent;stroke:#17a2b8;stroke-width:3}@media screen and (max-width:400px){.title-block[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px;padding:0 20px}}"]],data:{}});function Pf(t){return Hs(0,[(t()(),Os(0,0,null,null,5,"div",[["class","title-block mt-4 mb-3 pr-3 pl-3 animated fadeInDown"]],null,null,null,null,null)),(t()(),Os(1,0,null,null,1,"h2",[["class","title text-cap text-center"]],null,null,null,null,null)),(t()(),qs(2,null,["",""])),(t()(),Os(3,0,null,null,2,"div",[["class","divider divider-1"]],null,null,null,null,null)),(t()(),Os(4,0,null,null,1,":svg:svg",[["class","svg-triangle-icon-container"]],null,null,null,null,null)),(t()(),Os(5,0,null,null,0,":svg:polygon",[["class","svg-triangle-icon"],["points","6 11,12 0,0 0"]],null,null,null,null,null))],null,function(t,e){t(e,2,0,e.component.titulo)})}let Nf=(()=>{class t{constructor(t,e){this.afs=t,this.autenticacionService=e}GetUsers(){return new Promise((t,e)=>{this.afs.collection("/users").valueChanges().subscribe(e=>{t(e)})})}GetResults(){return new Promise((t,e)=>{this.afs.collection("/results").valueChanges().subscribe(e=>{t(e)})})}AddResult(t,e,n){const r={createdAt:(new Date).toLocaleDateString(),game:t,idUser:this.autenticacionService.user.email,points:e,win:n},i=this.afs.createId();return this.afs.collection("/results").doc(i).set(r)}AddUser(t){const e={createdAt:(new Date).toLocaleDateString(),id:Math.floor(Math.random()*Math.floor(6)),name:t.split("@")[0],mail:t},n=this.afs.createId();return this.afs.collection("/users").doc(n).set(e)}}return t.ngInjectableDef=mt({factory:function(){return new t(Ut(Sf),Ut(Tf))},token:t,providedIn:"root"}),t})();class Df{constructor(t){this.dbService=t,this.isLoading=!1}ngOnInit(){this.isLoading=!0,this.dbService.GetUsers().then(t=>{this.isLoading=!1,console.log(t),this.listado=t})}Traer(){this.isLoading=!0,this.dbService.GetUsers().then(t=>{this.isLoading=!1,console.log(t),this.listado=t})}}var Rf=Cr({encapsulation:0,styles:[[""]],data:{}});function Mf(t){return Hs(0,[(t()(),Os(0,0,null,null,10,"tr",[],null,null,null,null,null)),(t()(),Os(1,0,null,null,1,"th",[["scope","row"]],null,null,null,null,null)),(t()(),qs(2,null,["",""])),(t()(),Os(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),qs(4,null,[""," "])),(t()(),Os(5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),qs(6,null,[""," "])),(t()(),Os(7,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),qs(8,null,["",""])),(t()(),Os(9,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),qs(10,null,["",""]))],null,function(t,e){t(e,2,0,e.context.index),t(e,4,0,e.context.$implicit.name),t(e,6,0,e.context.$implicit.uid),t(e,8,0,e.context.$implicit.mail),t(e,10,0,e.context.$implicit.createdAt)})}function Lf(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-cabecera",[],null,null,null,xf,kf)),Ni(1,114688,null,0,If,[Tf],null,null),(t()(),Os(2,0,null,null,1,"app-titulo",[["titulo","Listado de los jugadores registrados"]],null,null,null,Pf,Af)),Ni(3,114688,null,0,Of,[],{titulo:[0,"titulo"]},null),(t()(),Os(4,0,null,null,17,"div",[["class","container"]],null,null,null,null,null)),(t()(),Os(5,0,null,null,16,"div",[["class","row"]],null,null,null,null,null)),(t()(),Os(6,0,null,null,15,"table",[["class","table table-dark"]],null,null,null,null,null)),(t()(),Os(7,0,null,null,11,"thead",[],null,null,null,null,null)),(t()(),Os(8,0,null,null,10,"tr",[],null,null,null,null,null)),(t()(),Os(9,0,null,null,1,"th",[["scope","col"]],null,null,null,null,null)),(t()(),qs(-1,null,["#"])),(t()(),Os(11,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),qs(-1,null,["Nombre de usuario"])),(t()(),Os(13,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),qs(-1,null,["UID"])),(t()(),Os(15,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),qs(-1,null,["Email"])),(t()(),Os(17,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),qs(-1,null,["Fecha de creacion"])),(t()(),Os(19,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),xs(16777216,null,null,1,null,Mf)),Ni(21,278528,null,0,vl,[rr,er,Yn],{ngForOf:[0,"ngForOf"]},null)],function(t,e){var n=e.component;t(e,1,0),t(e,3,0,"Listado de los jugadores registrados"),t(e,21,0,n.listado)},null)}function Vf(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-jugadores-listado",[],null,null,null,Lf,Rf)),Ni(1,114688,null,0,Df,[Nf],null,null)],function(t,e){t(e,1,0)},null)}var Ff=li("app-jugadores-listado",Df,Vf,{},{},[]);class jf{constructor(t){this.authService=t,this.status={isFirstOpen:!0,isFirstDisabled:!1}}ngOnInit(){}}var Uf=Cr({encapsulation:0,styles:[[".imagenDeMenu[_ngcontent-%COMP%]{width:80px;height:70px}.hero-text[_ngcontent-%COMP%]{text-align:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#100000}.card[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.8}.card[_ngcontent-%COMP%]{margin-bottom:15px}"]],data:{}});function Bf(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-cabecera",[],null,null,null,xf,kf)),Ni(1,114688,null,0,If,[Tf],null,null),(t()(),Os(2,0,null,null,38,"section",[["class","principal mt-5"]],null,null,null,null,null)),(t()(),Os(3,0,null,null,37,"div",[["class","container"]],null,null,null,null,null)),(t()(),Os(4,0,null,null,36,"div",[["class","row"]],null,null,null,null,null)),(t()(),Os(5,0,null,null,8,"div",[["class","col-md-3"],["routerLink","/Juegos"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==bi(t,6).onClick()&&r),r},null,null)),Ni(6,16384,null,0,fp,[pp,nd,[8,null],Ln,Pn],{routerLink:[0,"routerLink"]},null),(t()(),Os(7,0,null,null,6,"div",[["class","card"]],null,null,null,null,null)),(t()(),Os(8,0,null,null,0,"img",[["alt","..."],["class","card-img-top"],["src","./assets/imagenes/games.jpg"]],null,null,null,null,null)),(t()(),Os(9,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Os(10,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),qs(-1,null,["Juegos"])),(t()(),Os(12,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),qs(-1,null,["Demostra tus habilidades y competi contra los mejores jugadores."])),(t()(),Os(14,0,null,null,8,"div",[["class","col-md-3"],["routerLink","/Listado"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==bi(t,15).onClick()&&r),r},null,null)),Ni(15,16384,null,0,fp,[pp,nd,[8,null],Ln,Pn],{routerLink:[0,"routerLink"]},null),(t()(),Os(16,0,null,null,6,"div",[["class","card"]],null,null,null,null,null)),(t()(),Os(17,0,null,null,0,"img",[["alt","./assets/imagenes/conf.jpg"],["class","card-img-top"],["src","./assets/imagenes/list.jpg"]],null,null,null,null,null)),(t()(),Os(18,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Os(19,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),qs(-1,null,["Resultados"])),(t()(),Os(21,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),qs(-1,null,["Listados de los resultados con ordenamiento y busqueda."])),(t()(),Os(23,0,null,null,8,"div",[["class","col-md-3"],["routerLink","/Juegos"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==bi(t,24).onClick()&&r),r},null,null)),Ni(24,16384,null,0,fp,[pp,nd,[8,null],Ln,Pn],{routerLink:[0,"routerLink"]},null),(t()(),Os(25,0,null,null,6,"div",[["class","card"]],null,null,null,null,null)),(t()(),Os(26,0,null,null,0,"img",[["alt","..."],["class","card-img-top"],["src","./assets/imagenes/conf.jpg"]],null,null,null,null,null)),(t()(),Os(27,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Os(28,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),qs(-1,null,["Configuracion"])),(t()(),Os(30,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),qs(-1,null,["Ajustes de la aplicacion y los m\xe9todos de autentificaci\xf3n."])),(t()(),Os(32,0,null,null,8,"div",[["class","col-md-3"],["routerLink","/Jugadores"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==bi(t,33).onClick()&&r),r},null,null)),Ni(33,16384,null,0,fp,[pp,nd,[8,null],Ln,Pn],{routerLink:[0,"routerLink"]},null),(t()(),Os(34,0,null,null,6,"div",[["class","card"]],null,null,null,null,null)),(t()(),Os(35,0,null,null,0,"img",[["alt",""],["class","card-img-top"],["src","./assets/imagenes/players.jpg"]],null,null,null,null,null)),(t()(),Os(36,0,null,null,4,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Os(37,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),qs(-1,null,["Jugadores"])),(t()(),Os(39,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),qs(-1,null,["Listado de los jugadores con su informacion y resultados."]))],function(t,e){t(e,1,0),t(e,6,0,"/Juegos"),t(e,15,0,"/Listado"),t(e,24,0,"/Juegos"),t(e,33,0,"/Jugadores")},null)}function qf(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-principal",[],null,null,null,Bf,Uf)),Ni(1,114688,null,0,jf,[Tf],null,null)],function(t,e){t(e,1,0)},null)}var zf=li("app-principal",jf,qf,{},{},[]);function Wf(t,e){return new _(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const l=B(t[a]);let u=!1;n.add(l.subscribe({next:t=>{u||(u=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{++o!==r&&u||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Hf=new xt("NgValueAccessor"),Kf=new xt("CompositionEventMode");class Gf{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=Ru()?Ru().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}class Qf{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class $f extends Qf{get formDirective(){return null}get path(){return null}}function Yf(){throw new Error("unimplemented")}class Jf extends Qf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Yf()}get asyncValidator(){return Yf()}}class Xf{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}class Zf extends Xf{constructor(t){super(t)}}class tg extends Xf{constructor(t){super(t)}}function eg(t){return null==t||0===t.length}const ng=new xt("NgValidators"),rg=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;class ig{static min(t){return e=>{if(eg(e.value)||eg(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(eg(e.value)||eg(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return eg(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return eg(t.value)?null:rg.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(eg(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return ig.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(eg(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(og);return 0==e.length?null:function(t){return ag(function(t,n){return e.map(e=>e(t))}(t))}}static composeAsync(t){if(!t)return null;const e=t.filter(og);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(l(e))return Wf(e,null);if(u(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Wf(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Wf(t=1===t.length&&l(t[0])?t[0]:t,null).pipe(V(t=>e(...t)))}return Wf(t,null)}(function(t,n){return e.map(e=>e(t))}(t).map(sg)).pipe(V(ag))}}}function og(t){return null!=t}function sg(t){const e=bn(t)?B(t):t;if(!_n(e))throw new Error("Expected validator to return Promise or Observable.");return e}function ag(t){const e=t.reduce((t,e)=>null!=e?Object.assign({},t,e):t,{});return 0===Object.keys(e).length?null:e}function lg(t){return t.validate?e=>t.validate(e):t}function ug(t){return t.validate?e=>t.validate(e):t}class cg{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}const hg={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};function dg(t,e){return[...e.path,t]}function pg(t,e){t||gg(e,"Cannot find control with"),e.valueAccessor||gg(e,"No value accessor for form control with"),t.validator=ig.compose([t.validator,e.validator]),t.asyncValidator=ig.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&fg(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&fg(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function fg(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function gg(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function mg(t){return null!=t?ig.compose(t.map(lg)):null}function yg(t){return null!=t?ig.composeAsync(t.map(ug)):null}const vg=[class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=fn}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}},class{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=fn}set compareWith(t){if("function"!=typeof t)throw new Error(`compareWith must be a function, but received ${JSON.stringify(t)}`);this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(e.hasOwnProperty("selectedOptions")){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}},class{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Jf),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}],bg="VALID",_g="INVALID",wg="PENDING",Cg="DISABLED";function Sg(t){const e=Tg(t)?t.validators:t;return Array.isArray(e)?mg(e):e||null}function Eg(t,e){const n=Tg(e)?e.asyncValidators:t;return Array.isArray(n)?yg(n):n||null}function Tg(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Ig{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===bg}get invalid(){return this.status===_g}get pending(){return this.status==wg}get disabled(){return this.status===Cg}get enabled(){return this.status!==Cg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=Sg(t)}setAsyncValidators(t){this.asyncValidator=Eg(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=wg,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Cg,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign({},t,{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=bg,this._forEachChild(e=>{e.enable(Object.assign({},t,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign({},t,{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==bg&&this.status!==wg||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cg:bg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=wg;const e=sg(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){return null==e?null:(e instanceof Array||(e=e.split(".")),e instanceof Array&&0===e.length?null:e.reduce((t,e)=>t instanceof xg?t.controls.hasOwnProperty(e)?t.controls[e]:null:t instanceof Og&&t.at(e)||null,t))}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new ro,this.statusChanges=new ro}_calculateStatus(){return this._allControlsDisabled()?Cg:this.errors?_g:this._anyControlsHaveStatus(wg)?wg:this._anyControlsHaveStatus(_g)?_g:bg}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Tg(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class kg extends Ig{constructor(t=null,e,n){super(Sg(e),Eg(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class xg extends Ig{constructor(t,e,n){super(Sg(e),Eg(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof kg?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,r)=>{e=e||this.contains(r)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Og extends Ig{constructor(t,e,n){super(Sg(e),Eg(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof kg?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Ag=(()=>Promise.resolve(null))();class Pg extends $f{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new ro,this.form=new xg({},mg(t),yg(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ag.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),pg(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ag.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),function(e,n){const r=e.indexOf(t);r>-1&&e.splice(r,1)}(this._directives)})}addFormGroup(t){Ag.then(()=>{const e=this._findContainer(t.path),n=new xg({});(function(t,e){null==t&&gg(e,"Cannot find control with"),t.validator=ig.compose([t.validator,e.validator]),t.asyncValidator=ig.composeAsync([t.asyncValidator,e.asyncValidator])})(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ag.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Ag.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)}),this.ngSubmit.emit(t),!1;var e}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}class Ng{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${hg.formControlName}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      ${hg.ngModelWithFormGroup}`)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${hg.formGroupName}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${hg.ngModelGroup}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${hg.formGroupName}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${hg.ngModelGroup}`)}static ngFormWarning(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}const Dg=new xt("NgFormSelectorWarning");class Rg extends $f{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return dg(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return mg(this._validators)}get asyncValidator(){return yg(this._asyncValidators)}_checkParentType(){}}class Mg extends Rg{constructor(t,e,n){super(),this._parent=t,this._validators=e,this._asyncValidators=n}_checkParentType(){this._parent instanceof Mg||this._parent instanceof Pg||Ng.modelGroupParentException()}}const Lg=(()=>Promise.resolve(null))();class Vg extends Jf{constructor(t,e,n,r){super(),this.control=new kg,this._registered=!1,this.update=new ro,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||gg(t,"Value accessor was not provided as an array for form control with");let n=void 0,r=void 0,i=void 0;return e.forEach(e=>{e.constructor===Gf?n=e:function(t){return vg.some(e=>t.constructor===e)}(e)?(r&&gg(t,"More than one built-in value accessor matches form control with"),r=e):(i&&gg(t,"More than one custom value accessor matches form control with"),i=e)}),i||r||n||(gg(t,"No valid value accessor for form control with"),null)}(this,r)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!fn(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?dg(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return mg(this._rawValidators)}get asyncValidator(){return yg(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){pg(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof Mg)&&this._parent instanceof Rg?Ng.formGroupNameException():this._parent instanceof Mg||this._parent instanceof Pg||Ng.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Ng.missingNameException()}_updateValue(t){Lg.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;Lg.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}class Fg{}class jg{get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!==`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?ig.required(t):null}registerOnValidatorChange(t){this._onChange=t}}class Ug{}class Bg{static withConfig(t){return{ngModule:Bg,providers:[{provide:Dg,useValue:t.warnOnDeprecatedNgFormSelector}]}}}const qg=new ef(Xp);function zg(t){return!l(t)&&t-parseFloat(t)+1>=0}function Wg(t=0,e,n){let r=-1;return zg(e)?r=Number(e)<1?1:Number(e):k(e)&&(n=e),k(n)||(n=qg),new _(e=>{const i=zg(t)?t:+t-n.now();return n.schedule(Hg,i,{index:0,period:r,subscriber:e})})}function Hg(t){const{index:e,period:n,subscriber:r}=t;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}class Kg extends _{static create(t=0,e,n){return Wg(t,e,n)}}class Gg{constructor(t,e,n){this.route=t,this.router=e,this.authService=n,this.usuario="invitado@juegos.com",this.clave="invitado",this.progresoMensaje="esperando...",this.logeando=!0,this.clase="progress-bar progress-bar-info progress-bar-striped ",this.progreso=0,this.ProgresoDeAncho="0%"}ngOnInit(){}Entrar(){this.authService.SignIn(this.usuario,this.clave)}MoverBarraDeProgreso(){this.logeando=!1,this.clase="progress-bar progress-bar-danger progress-bar-striped active",this.progresoMensaje="NSA spy...";let t=Kg.create(200,50);this.subscription=t.subscribe(t=>{switch(console.log("inicio"),this.progreso=this.progreso+1,this.ProgresoDeAncho=this.progreso+20+"%",this.progreso){case 15:this.clase="progress-bar progress-bar-warning progress-bar-striped active",this.progresoMensaje="Verificando ADN...";break;case 30:this.clase="progress-bar progress-bar-Info progress-bar-striped active",this.progresoMensaje="Adjustando encriptaci\xf3n..";break;case 60:this.clase="progress-bar progress-bar-success progress-bar-striped active",this.progresoMensaje="Recompilando Info del dispositivo..";break;case 75:this.clase="progress-bar progress-bar-success progress-bar-striped active",this.progresoMensaje="Recompilando claves facebook, gmail, chats..";break;case 85:this.clase="progress-bar progress-bar-success progress-bar-striped active",this.progresoMensaje="Instalando KeyLogger..";break;case 100:console.log("final"),this.subscription.unsubscribe(),this.Entrar()}})}}var Qg=Cr({encapsulation:0,styles:[['*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%}a[_ngcontent-%COMP%]{font-size:14px;line-height:1.7;color:#666;margin:0;transition:all .4s;-webkit-transition:.4s;-o-transition:.4s;-moz-transition:.4s}a[_ngcontent-%COMP%]:focus{outline:0!important}a[_ngcontent-%COMP%]:hover{text-decoration:none;color:#333}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:0}p[_ngcontent-%COMP%]{font-size:14px;line-height:1.7;color:#666;margin:0}li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;list-style-type:none}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{outline:0;border:none}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:transparent!important}input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#999}input[_ngcontent-%COMP%]:-moz-placeholder{color:#999}input[_ngcontent-%COMP%]::-moz-placeholder{color:#999}input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#999}textarea[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#999}textarea[_ngcontent-%COMP%]:-moz-placeholder{color:#999}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#999}textarea[_ngcontent-%COMP%]:-ms-input-placeholder{color:#999}button[_ngcontent-%COMP%]{outline:0!important;border:none;background:0 0}button[_ngcontent-%COMP%]:hover{cursor:pointer}iframe[_ngcontent-%COMP%]{border:none!important}.txt1[_ngcontent-%COMP%]{font-size:13px;line-height:1.4;color:#999}.txt2[_ngcontent-%COMP%]{font-size:13px;line-height:1.4;color:#00ad5f}.txt3[_ngcontent-%COMP%]{font-size:15px;line-height:1.4;color:#00ad5f;text-transform:uppercase}.size1[_ngcontent-%COMP%]{width:355px;max-width:100%}.size2[_ngcontent-%COMP%]{width:calc(100% - 43px)}.limiter[_ngcontent-%COMP%]{width:100%;margin:0 auto}.container-login100[_ngcontent-%COMP%]{width:100%;min-height:100vh;display:flex;flex-wrap:wrap;justify-content:center;align-items:center;padding:15px;background:#f2f2f2}.wrap-login100[_ngcontent-%COMP%]{width:1170px;background:#fff;overflow:hidden;display:flex;flex-wrap:wrap;align-items:stretch;flex-direction:row-reverse}.login100-more[_ngcontent-%COMP%]{width:50%;background-repeat:no-repeat;background-size:cover;background-position:center;position:relative;z-index:1}.login100-more[_ngcontent-%COMP%]::before{content:"";display:block;position:absolute;z-index:-1;width:100%;height:100%;top:0;left:0;background:rgba(0,0,0,.3)}.login100-form[_ngcontent-%COMP%]{width:50%;display:flex;flex-wrap:wrap;padding:303px 65px 40px}.login100-form-title[_ngcontent-%COMP%]{font-size:20px;color:#555;line-height:1.2;text-transform:uppercase;letter-spacing:2px;text-align:center;width:100%;display:block}.wrap-input100[_ngcontent-%COMP%]{width:100%;position:relative;border:1px solid #e6e6e6}.rs1-wrap-input100[_ngcontent-%COMP%], .rs2-wrap-input100[_ngcontent-%COMP%]{width:50%}.rs2-wrap-input100[_ngcontent-%COMP%]{border-left:none}.input100[_ngcontent-%COMP%]{display:block;width:100%;background:0 0;font-size:14px;color:#666;line-height:1.2;padding:0 25px}input.input100[_ngcontent-%COMP%]{height:55px}.focus-input100[_ngcontent-%COMP%]{position:absolute;display:block;width:calc(100% + 2px);height:calc(100% + 2px);top:-1px;left:-1px;pointer-events:none;border:1px solid #00ad5f;visibility:hidden;opacity:0;transition:all .4s;transform:scaleX(1.1) scaleY(1.3)}.input100[_ngcontent-%COMP%]:focus + .focus-input100[_ngcontent-%COMP%]{visibility:visible;opacity:1;transform:scale(1)}.container-login100-form-btn[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:center}.login100-form-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:0 20px;width:100%;height:50px;border-radius:3px;background:#00ad5f;font-size:12px;color:#fff;line-height:1.2;text-transform:uppercase;letter-spacing:1px;transition:all .4s}.login100-form-btn[_ngcontent-%COMP%]:hover{background:#333}@media (max-width:992px){.login100-form[_ngcontent-%COMP%]{width:60%;padding-left:30px;padding-right:30px}.login100-more[_ngcontent-%COMP%]{width:40%}}@media (max-width:768px){.login100-form[_ngcontent-%COMP%], .login100-more[_ngcontent-%COMP%]{width:100%}}@media (max-width:576px){.login100-form[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px;padding-top:150px}.rs1-wrap-input100[_ngcontent-%COMP%], .rs2-wrap-input100[_ngcontent-%COMP%]{width:100%}.rs2-wrap-input100[_ngcontent-%COMP%]{border-left:1px solid #e6e6e6}}.validate-input[_ngcontent-%COMP%]{position:relative}.alert-validate[_ngcontent-%COMP%]::before{content:attr(data-validate);position:absolute;max-width:70%;background-color:#fff;border:1px solid #c80000;border-radius:2px;padding:4px 25px 4px 10px;top:50%;transform:translateY(-50%);right:12px;pointer-events:none;color:#c80000;font-size:13px;line-height:1.4;text-align:left;visibility:hidden;opacity:0;transition:opacity .4s}.alert-validate[_ngcontent-%COMP%]::after{content:"\\f12a";isplay:block;position:absolute;color:#c80000;font-size:16px;top:50%;transform:translateY(-50%);right:18px}.alert-validate[_ngcontent-%COMP%]:hover:before{visibility:visible;opacity:1}@media (max-width:992px){.alert-validate[_ngcontent-%COMP%]::before{visibility:visible;opacity:1}}.datos[_ngcontent-%COMP%]{font-size:13px;padding-top:10px;line-height:1.4;color:#999}.p-t-10[_ngcontent-%COMP%]{padding-top:10px}.p-t-27[_ngcontent-%COMP%]{padding-top:27px}.p-b-239[_ngcontent-%COMP%]{padding-bottom:239px}.m-b-20[_ngcontent-%COMP%]{margin-bottom:20px}.text-white[_ngcontent-%COMP%]{color:#fff}.text-black[_ngcontent-%COMP%]{color:#000}.text-hov-white[_ngcontent-%COMP%]:hover{color:#fff}.text-up[_ngcontent-%COMP%]{text-transform:uppercase}.text-center[_ngcontent-%COMP%]{text-align:center}.text-left[_ngcontent-%COMP%]{text-align:left}.text-right[_ngcontent-%COMP%]{text-align:right}.text-middle[_ngcontent-%COMP%]{vertical-align:middle}.sizefull[_ngcontent-%COMP%]{width:100%;height:100%}.w-full[_ngcontent-%COMP%]{width:100%}.h-full[_ngcontent-%COMP%]{height:100%}.max-w-full[_ngcontent-%COMP%]{max-width:100%}.max-h-full[_ngcontent-%COMP%]{max-height:100%}.min-w-full[_ngcontent-%COMP%]{min-width:100%}.min-h-full[_ngcontent-%COMP%]{min-height:100%}']],data:{}});function $g(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"button",[["class","login100-form-btn"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.Entrar()&&r),r},null,null)),(t()(),qs(-1,null,[" Ingresar "]))],null,null)}function Yg(t){return Hs(0,[(t()(),Os(0,0,null,null,2,"div",[["class","progress"]],null,null,null,null,null)),(t()(),Os(1,0,null,null,1,"div",[["aria-valuemax","100"],["aria-valuemin","0"],["aria-valuenow","10"],["class","progress-bar progress-bar-info progress-bar-striped active"],["role","progressbar"]],[[8,"className",0],[4,"width",null]],null,null,null,null)),(t()(),qs(2,null,[" "," - ","% "]))],null,function(t,e){var n=e.component;t(e,1,0,n.clase,n.ProgresoDeAncho),t(e,2,0,n.progresoMensaje,n.progreso)})}function Jg(t){return Hs(0,[(t()(),Os(0,0,null,null,45,"div",[["class","limiter"]],null,null,null,null,null)),(t()(),Os(1,0,null,null,44,"div",[["class","container-login100"]],null,null,null,null,null)),(t()(),Os(2,0,null,null,43,"div",[["class","wrap-login100"]],null,null,null,null,null)),(t()(),Os(3,0,null,null,41,"form",[["class","login100-form validate-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==bi(t,5).onSubmit(n)&&r),"reset"===e&&(r=!1!==bi(t,5).onReset()&&r),r},null,null)),Ni(4,16384,null,0,Fg,[],null,null),Ni(5,4210688,null,0,Pg,[[8,null],[8,null]],null,null),Ri(2048,null,$f,null,[Pg]),Ni(7,16384,null,0,tg,[[4,$f]],null,null),(t()(),Os(8,0,null,null,9,"div",[["class","wrap-input100 rs1-wrap-input100 validate-input m-b-20"],["data-validate","Type user name"]],null,null,null,null,null)),(t()(),Os(9,0,null,null,7,"input",[["class","input100"],["id","first-name"],["name","uname"],["placeholder","Usuario"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==bi(t,10)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==bi(t,10).onTouched()&&r),"compositionstart"===e&&(r=!1!==bi(t,10)._compositionStart()&&r),"compositionend"===e&&(r=!1!==bi(t,10)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.usuario=n)&&r),r},null,null)),Ni(10,16384,null,0,Gf,[Ln,Pn,[2,Kf]],null,null),Ni(11,16384,null,0,jg,[],{required:[0,"required"]},null),Ri(1024,null,ng,function(t){return[t]},[jg]),Ri(1024,null,Hf,function(t){return[t]},[Gf]),Ni(14,671744,null,0,Vg,[[2,$f],[6,ng],[8,null],[6,Hf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ri(2048,null,Jf,null,[Vg]),Ni(16,16384,null,0,Zf,[[4,Jf]],null,null),(t()(),Os(17,0,null,null,0,"span",[["class","focus-input100"]],null,null,null,null,null)),(t()(),Os(18,0,null,null,9,"div",[["class","wrap-input100 rs2-wrap-input100 validate-input m-b-20"],["data-validate","Type password"]],null,null,null,null,null)),(t()(),Os(19,0,null,null,7,"input",[["class","input100"],["name","psw"],["placeholder","Contrase\xf1a"],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==bi(t,20)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==bi(t,20).onTouched()&&r),"compositionstart"===e&&(r=!1!==bi(t,20)._compositionStart()&&r),"compositionend"===e&&(r=!1!==bi(t,20)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.clave=n)&&r),r},null,null)),Ni(20,16384,null,0,Gf,[Ln,Pn,[2,Kf]],null,null),Ni(21,16384,null,0,jg,[],{required:[0,"required"]},null),Ri(1024,null,ng,function(t){return[t]},[jg]),Ri(1024,null,Hf,function(t){return[t]},[Gf]),Ni(24,671744,null,0,Vg,[[2,$f],[6,ng],[8,null],[6,Hf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ri(2048,null,Jf,null,[Vg]),Ni(26,16384,null,0,Zf,[[4,Jf]],null,null),(t()(),Os(27,0,null,null,0,"span",[["class","focus-input100"]],null,null,null,null,null)),(t()(),Os(28,0,null,null,2,"div",[["class","container-login100-form-btn"]],null,null,null,null,null)),(t()(),xs(16777216,null,null,1,null,$g)),Ni(30,16384,null,0,_l,[rr,er],{ngIf:[0,"ngIf"]},null),(t()(),xs(16777216,null,null,1,null,Yg)),Ni(32,16384,null,0,_l,[rr,er],{ngIf:[0,"ngIf"]},null),(t()(),Os(33,0,null,null,2,"div",[["class","w-full text-center p-t-27 datos"]],null,null,null,null,null)),(t()(),Os(34,0,null,null,0,"input",[["checked","checked"],["type","checkbox"]],null,null,null,null,null)),(t()(),qs(-1,null,[" Recordar mis datos "])),(t()(),Os(36,0,null,null,4,"div",[["class","w-full text-center  p-b-239 p-t-10"]],null,null,null,null,null)),(t()(),Os(37,0,null,null,1,"span",[["class","txt1"]],null,null,null,null,null)),(t()(),qs(-1,null,[" \xbfOlvidaste tu "])),(t()(),Os(39,0,null,null,1,"a",[["class","txt2"],["href","#"]],null,null,null,null,null)),(t()(),qs(-1,null,[" usuario/contrase\xf1a? "])),(t()(),Os(41,0,null,null,3,"div",[["class","w-full text-center"]],null,null,null,null,null)),(t()(),Os(42,0,null,null,2,"a",[["class","txt3"],["routerLink","/Registro"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==bi(t,43).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Ni(43,671744,null,0,gp,[pp,nd,nl],{routerLink:[0,"routerLink"]},null),(t()(),qs(-1,null,[" Registrarse "])),(t()(),Os(45,0,null,null,0,"div",[["class","login100-more"],["style","background-image: url('./assets/imagenes/login.jpg');"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,11,0,""),t(e,14,0,"uname",n.usuario),t(e,21,0,""),t(e,24,0,"psw",n.clave),t(e,30,0,n.logeando),t(e,32,0,!n.logeando),t(e,43,0,"/Registro")},function(t,e){t(e,3,0,bi(e,7).ngClassUntouched,bi(e,7).ngClassTouched,bi(e,7).ngClassPristine,bi(e,7).ngClassDirty,bi(e,7).ngClassValid,bi(e,7).ngClassInvalid,bi(e,7).ngClassPending),t(e,9,0,bi(e,11).required?"":null,bi(e,16).ngClassUntouched,bi(e,16).ngClassTouched,bi(e,16).ngClassPristine,bi(e,16).ngClassDirty,bi(e,16).ngClassValid,bi(e,16).ngClassInvalid,bi(e,16).ngClassPending),t(e,19,0,bi(e,21).required?"":null,bi(e,26).ngClassUntouched,bi(e,26).ngClassTouched,bi(e,26).ngClassPristine,bi(e,26).ngClassDirty,bi(e,26).ngClassValid,bi(e,26).ngClassInvalid,bi(e,26).ngClassPending),t(e,42,0,bi(e,43).target,bi(e,43).href)})}function Xg(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-login",[],null,null,null,Jg,Qg)),Ni(1,114688,null,0,Gg,[nd,pp,Tf],null,null)],function(t,e){t(e,1,0)},null)}var Zg=li("app-login",Gg,Xg,{},{},[]),tm=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}([$e()],function(){}),em=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},nm=function(){function t(t,e){var n=this;this._loader=t,this._zone=e,this._map=new Promise(function(t){n._mapResolver=t})}return t.prototype.createMap=function(t,e){var n=this;return this._zone.runOutsideAngular(function(){return n._loader.load().then(function(){var r=new google.maps.Map(t,e);n._mapResolver(r)})})},t.prototype.setMapOptions=function(t){this._map.then(function(e){e.setOptions(t)})},t.prototype.createMarker=function(t,e){return void 0===t&&(t={}),void 0===e&&(e=!0),this._map.then(function(n){return e&&(t.map=n),new google.maps.Marker(t)})},t.prototype.createInfoWindow=function(t){return this._map.then(function(){return new google.maps.InfoWindow(t)})},t.prototype.createCircle=function(t){return this._map.then(function(e){return"string"==typeof t.strokePosition&&(t.strokePosition=google.maps.StrokePosition[t.strokePosition]),t.map=e,new google.maps.Circle(t)})},t.prototype.createRectangle=function(t){return this._map.then(function(e){return t.map=e,new google.maps.Rectangle(t)})},t.prototype.createPolyline=function(t){return this.getNativeMap().then(function(e){var n=new google.maps.Polyline(t);return n.setMap(e),n})},t.prototype.createPolygon=function(t){return this.getNativeMap().then(function(e){var n=new google.maps.Polygon(t);return n.setMap(e),n})},t.prototype.createDataLayer=function(t){return this._map.then(function(e){var n=new google.maps.Data(t);return n.setMap(e),n})},t.prototype.createTransitLayer=function(t){return this._map.then(function(e){var n=new google.maps.TransitLayer;return n.setMap(t.visible?e:null),n})},t.prototype.containsLocation=function(t,e){return google.maps.geometry.poly.containsLocation(t,e)},t.prototype.subscribeToMapEvent=function(t){var e=this;return new _(function(n){e._map.then(function(r){r.addListener(t,function(t){e._zone.run(function(){return n.next(t)})})})})},t.prototype.clearInstanceListeners=function(){this._map.then(function(t){google.maps.event.clearInstanceListeners(t)})},t.prototype.setCenter=function(t){return this._map.then(function(e){return e.setCenter(t)})},t.prototype.getZoom=function(){return this._map.then(function(t){return t.getZoom()})},t.prototype.getBounds=function(){return this._map.then(function(t){return t.getBounds()})},t.prototype.getMapTypeId=function(){return this._map.then(function(t){return t.getMapTypeId()})},t.prototype.setZoom=function(t){return this._map.then(function(e){return e.setZoom(t)})},t.prototype.getCenter=function(){return this._map.then(function(t){return t.getCenter()})},t.prototype.panTo=function(t){return this._map.then(function(e){return e.panTo(t)})},t.prototype.panBy=function(t,e){return this._map.then(function(n){return n.panBy(t,e)})},t.prototype.fitBounds=function(t){return this._map.then(function(e){return e.fitBounds(t)})},t.prototype.panToBounds=function(t){return this._map.then(function(e){return e.panToBounds(t)})},t.prototype.getNativeMap=function(){return this._map},t.prototype.triggerMapEvent=function(t){return this._map.then(function(e){return google.maps.event.trigger(e,t)})},function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}([$e(),em("design:paramtypes",[tm,Bo])],t)}(),rm=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},im=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}l((r=r.apply(t,e||[])).next())})},om=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},sm=function(){function t(t,e){this._mapsWrapper=t,this._zone=e,this._markers=new Map}return t.prototype.convertAnimation=function(t){return im(this,void 0,void 0,function(){return om(this,function(e){return null===t?[2,null]:[2,this._mapsWrapper.getNativeMap().then(function(){return google.maps.Animation[t]})]})})},t.prototype.deleteMarker=function(t){var e=this,n=this._markers.get(t);return null==n?Promise.resolve():n.then(function(n){return e._zone.run(function(){n.setMap(null),e._markers.delete(t)})})},t.prototype.updateMarkerPosition=function(t){return this._markers.get(t).then(function(e){return e.setPosition({lat:t.latitude,lng:t.longitude})})},t.prototype.updateTitle=function(t){return this._markers.get(t).then(function(e){return e.setTitle(t.title)})},t.prototype.updateLabel=function(t){return this._markers.get(t).then(function(e){e.setLabel(t.label)})},t.prototype.updateDraggable=function(t){return this._markers.get(t).then(function(e){return e.setDraggable(t.draggable)})},t.prototype.updateIcon=function(t){return this._markers.get(t).then(function(e){return e.setIcon(t.iconUrl)})},t.prototype.updateOpacity=function(t){return this._markers.get(t).then(function(e){return e.setOpacity(t.opacity)})},t.prototype.updateVisible=function(t){return this._markers.get(t).then(function(e){return e.setVisible(t.visible)})},t.prototype.updateZIndex=function(t){return this._markers.get(t).then(function(e){return e.setZIndex(t.zIndex)})},t.prototype.updateClickable=function(t){return this._markers.get(t).then(function(e){return e.setClickable(t.clickable)})},t.prototype.updateAnimation=function(t){return im(this,void 0,void 0,function(){var e,n,r;return om(this,function(i){switch(i.label){case 0:return[4,this._markers.get(t)];case 1:return e=i.sent(),r=(n=e).setAnimation,[4,this.convertAnimation(t.animation)];case 2:return r.apply(n,[i.sent()]),[2]}})})},t.prototype.addMarker=function(t){var e=this,n=new Promise(function(n){return im(e,void 0,void 0,function(){var e,r,i;return om(this,function(o){switch(o.label){case 0:return r=(e=this._mapsWrapper).createMarker,i={position:{lat:t.latitude,lng:t.longitude},label:t.label,draggable:t.draggable,icon:t.iconUrl,opacity:t.opacity,visible:t.visible,zIndex:t.zIndex,title:t.title,clickable:t.clickable},[4,this.convertAnimation(t.animation)];case 1:return[2,r.apply(e,[(i.animation=o.sent(),i)]).then(n)]}})})});this._markers.set(t,n)},t.prototype.getNativeMarker=function(t){return this._markers.get(t)},t.prototype.createEventObservable=function(t,e){var n=this;return new _(function(r){n._markers.get(e).then(function(e){e.addListener(t,function(t){return n._zone.run(function(){return r.next(t)})})})})},function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}([$e(),rm("design:paramtypes",[nm,Bo])],t)}(),am=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},lm=function(){function t(t,e,n){this._mapsWrapper=t,this._zone=e,this._markerManager=n,this._infoWindows=new Map}return t.prototype.deleteInfoWindow=function(t){var e=this,n=this._infoWindows.get(t);return null==n?Promise.resolve():n.then(function(n){return e._zone.run(function(){n.close(),e._infoWindows.delete(t)})})},t.prototype.setPosition=function(t){return this._infoWindows.get(t).then(function(e){return e.setPosition({lat:t.latitude,lng:t.longitude})})},t.prototype.setZIndex=function(t){return this._infoWindows.get(t).then(function(e){return e.setZIndex(t.zIndex)})},t.prototype.open=function(t){var e=this;return this._infoWindows.get(t).then(function(n){return null!=t.hostMarker?e._markerManager.getNativeMarker(t.hostMarker).then(function(t){return e._mapsWrapper.getNativeMap().then(function(e){return n.open(e,t)})}):e._mapsWrapper.getNativeMap().then(function(t){return n.open(t)})})},t.prototype.close=function(t){return this._infoWindows.get(t).then(function(t){return t.close()})},t.prototype.setOptions=function(t,e){return this._infoWindows.get(t).then(function(t){return t.setOptions(e)})},t.prototype.addInfoWindow=function(t){var e={content:t.content,maxWidth:t.maxWidth,zIndex:t.zIndex,disableAutoPan:t.disableAutoPan};"number"==typeof t.latitude&&"number"==typeof t.longitude&&(e.position={lat:t.latitude,lng:t.longitude});var n=this._mapsWrapper.createInfoWindow(e);this._infoWindows.set(t,n)},t.prototype.createEventObservable=function(t,e){var n=this;return new _(function(r){n._infoWindows.get(e).then(function(e){e.addListener(t,function(t){return n._zone.run(function(){return r.next(t)})})})})},function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}([$e(),am("design:paramtypes",[nm,Bo,sm])],t)}(),um=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},cm=function(){function t(t,e){this._apiWrapper=t,this._zone=e,this._circles=new Map}return t.prototype.addCircle=function(t){this._circles.set(t,this._apiWrapper.createCircle({center:{lat:t.latitude,lng:t.longitude},clickable:t.clickable,draggable:t.draggable,editable:t.editable,fillColor:t.fillColor,fillOpacity:t.fillOpacity,radius:t.radius,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokePosition:t.strokePosition,strokeWeight:t.strokeWeight,visible:t.visible,zIndex:t.zIndex}))},t.prototype.removeCircle=function(t){var e=this;return this._circles.get(t).then(function(n){n.setMap(null),e._circles.delete(t)})},t.prototype.setOptions=function(t,e){return this._circles.get(t).then(function(t){"string"==typeof e.strokePosition&&(e.strokePosition=google.maps.StrokePosition[e.strokePosition]),t.setOptions(e)})},t.prototype.getBounds=function(t){return this._circles.get(t).then(function(t){return t.getBounds()})},t.prototype.getCenter=function(t){return this._circles.get(t).then(function(t){return t.getCenter()})},t.prototype.getRadius=function(t){return this._circles.get(t).then(function(t){return t.getRadius()})},t.prototype.setCenter=function(t){return this._circles.get(t).then(function(e){return e.setCenter({lat:t.latitude,lng:t.longitude})})},t.prototype.setEditable=function(t){return this._circles.get(t).then(function(e){return e.setEditable(t.editable)})},t.prototype.setDraggable=function(t){return this._circles.get(t).then(function(e){return e.setDraggable(t.draggable)})},t.prototype.setVisible=function(t){return this._circles.get(t).then(function(e){return e.setVisible(t.visible)})},t.prototype.setRadius=function(t){return this._circles.get(t).then(function(e){return e.setRadius(t.radius)})},t.prototype.createEventObservable=function(t,e){var n=this;return new _(function(r){var i=null;return n._circles.get(e).then(function(e){i=e.addListener(t,function(t){return n._zone.run(function(){return r.next(t)})})}),function(){null!==i&&i.remove()}})},function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}([$e(),um("design:paramtypes",[nm,Bo])],t)}(),hm=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},dm=function(){function t(t,e){this._apiWrapper=t,this._zone=e,this._rectangles=new Map}return t.prototype.addRectangle=function(t){this._rectangles.set(t,this._apiWrapper.createRectangle({bounds:{north:t.north,east:t.east,south:t.south,west:t.west},clickable:t.clickable,draggable:t.draggable,editable:t.editable,fillColor:t.fillColor,fillOpacity:t.fillOpacity,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokePosition:t.strokePosition,strokeWeight:t.strokeWeight,visible:t.visible,zIndex:t.zIndex}))},t.prototype.removeRectangle=function(t){var e=this;return this._rectangles.get(t).then(function(n){n.setMap(null),e._rectangles.delete(t)})},t.prototype.setOptions=function(t,e){return this._rectangles.get(t).then(function(t){return t.setOptions(e)})},t.prototype.getBounds=function(t){return this._rectangles.get(t).then(function(t){return t.getBounds()})},t.prototype.setBounds=function(t){return this._rectangles.get(t).then(function(e){return e.setBounds({north:t.north,east:t.east,south:t.south,west:t.west})})},t.prototype.setEditable=function(t){return this._rectangles.get(t).then(function(e){return e.setEditable(t.editable)})},t.prototype.setDraggable=function(t){return this._rectangles.get(t).then(function(e){return e.setDraggable(t.draggable)})},t.prototype.setVisible=function(t){return this._rectangles.get(t).then(function(e){return e.setVisible(t.visible)})},t.prototype.createEventObservable=function(t,e){var n=this;return _.create(function(r){var i=null;return n._rectangles.get(e).then(function(e){i=e.addListener(t,function(t){return n._zone.run(function(){return r.next(t)})})}),function(){null!==i&&i.remove()}})},function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}([$e(),hm("design:paramtypes",[nm,Bo])],t)}();function pm(t){var e=["insert_at","remove_at","set_at"];return function t(e,n,i){return i?t(e,n).pipe(V(t=>l(t)?i(...t):i(t))):new _(t=>{const i=(...e)=>t.next(1===e.length?e[0]:e);let o;try{o=e(i)}catch(s){return void t.error(s)}if(r(n))return()=>n(i,o)})}(function(n){return e.map(function(e){return t.addListener(e,function(r,i){return n.apply(t,[{newArr:t.getArray(),evName:e,index:r,previous:i}])})})},function(t,e){return e.forEach(function(t){return t.remove()})})}!function(){function t(){this.vals=[],this.listeners={remove_at:[],insert_at:[],set_at:[]}}t.prototype.clear=function(){for(var t=this.vals.length-1;t>=0;t--)this.removeAt(t)},t.prototype.getArray=function(){return this.vals.slice()},t.prototype.getAt=function(t){return this.vals[t]},t.prototype.getLength=function(){return this.vals.length},t.prototype.insertAt=function(t,e){this.vals.splice(t,0,e),this.listeners.insert_at.map(function(e){return e(t)})},t.prototype.pop=function(){var t=this,e=this.vals.pop();return this.listeners.remove_at.map(function(n){return n(t.vals.length,e)}),e},t.prototype.push=function(t){var e=this;return this.vals.push(t),this.listeners.insert_at.map(function(t){return t(e.vals.length-1)}),this.vals.length},t.prototype.removeAt=function(t){var e=this.vals.splice(t,1)[0];return this.listeners.remove_at.map(function(n){return n(t,e)}),e},t.prototype.setAt=function(t,e){var n=this.vals[t];this.vals[t]=e,this.listeners.set_at.map(function(e){return e(t,n)})},t.prototype.forEach=function(t){this.vals.forEach(t)},t.prototype.addListener=function(t,e){var n=this.listeners[t];return n.push(e),{remove:function(){n.splice(n.indexOf(e),1)}}}}();var fm=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},gm=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{l(r.next(t))}catch(e){o(e)}}function a(t){try{l(r.throw(t))}catch(e){o(e)}}function l(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(s,a)}l((r=r.apply(t,e||[])).next())})},mm=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},ym=function(){function t(t,e){this._mapsWrapper=t,this._zone=e,this._polylines=new Map}var e;return e=t,t._convertPoints=function(t){return t._getPoints().map(function(t){return{lat:t.latitude,lng:t.longitude}})},t._convertPath=function(t){var e=google.maps.SymbolPath[t];return"number"==typeof e?e:t},t._convertIcons=function(t){var n=t._getIcons().map(function(t){return{fixedRotation:t.fixedRotation,offset:t.offset,repeat:t.repeat,icon:{anchor:new google.maps.Point(t.anchorX,t.anchorY),fillColor:t.fillColor,fillOpacity:t.fillOpacity,path:e._convertPath(t.path),rotation:t.rotation,scale:t.scale,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokeWeight:t.strokeWeight}}});return n.forEach(function(t){Object.entries(t).forEach(function(e){void 0===e[1]&&delete t[e[0]]}),void 0!==t.icon.anchor.x&&void 0!==t.icon.anchor.y||delete t.icon.anchor}),n},t.prototype.addPolyline=function(t){var n=this,r=this._mapsWrapper.getNativeMap().then(function(){return[e._convertPoints(t),e._convertIcons(t)]}).then(function(e){return n._mapsWrapper.createPolyline({clickable:t.clickable,draggable:t.draggable,editable:t.editable,geodesic:t.geodesic,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokeWeight:t.strokeWeight,visible:t.visible,zIndex:t.zIndex,path:e[0],icons:e[1]})});this._polylines.set(t,r)},t.prototype.updatePolylinePoints=function(t){var n=this,r=e._convertPoints(t),i=this._polylines.get(t);return null==i?Promise.resolve():i.then(function(t){return n._zone.run(function(){t.setPath(r)})})},t.prototype.updateIconSequences=function(t){return gm(this,void 0,void 0,function(){var n,r,i=this;return mm(this,function(o){switch(o.label){case 0:return[4,this._mapsWrapper.getNativeMap()];case 1:return o.sent(),n=e._convertIcons(t),null==(r=this._polylines.get(t))?[2]:[2,r.then(function(t){return i._zone.run(function(){return t.setOptions({icons:n})})})]}})})},t.prototype.setPolylineOptions=function(t,e){return this._polylines.get(t).then(function(t){t.setOptions(e)})},t.prototype.deletePolyline=function(t){var e=this,n=this._polylines.get(t);return null==n?Promise.resolve():n.then(function(n){return e._zone.run(function(){n.setMap(null),e._polylines.delete(t)})})},t.prototype.getMVCPath=function(t){return gm(this,void 0,void 0,function(){return mm(this,function(e){switch(e.label){case 0:return[4,this._polylines.get(t)];case 1:return[2,e.sent().getPath()]}})})},t.prototype.getPath=function(t){return gm(this,void 0,void 0,function(){return mm(this,function(e){switch(e.label){case 0:return[4,this.getMVCPath(t)];case 1:return[2,e.sent().getArray()]}})})},t.prototype.createEventObservable=function(t,e){var n=this;return new _(function(r){n._polylines.get(e).then(function(e){e.addListener(t,function(t){return n._zone.run(function(){return r.next(t)})})})})},t.prototype.createPathEventObservable=function(t){return gm(this,void 0,void 0,function(){return mm(this,function(e){switch(e.label){case 0:return[4,this.getMVCPath(t)];case 1:return[2,pm(e.sent())]}})})},e=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}([$e(),fm("design:paramtypes",[nm,Bo])],t)}();function vm(t){return e=>e.lift(new bm(t))}class bm{constructor(t){this.total=t}call(t,e){return e.subscribe(new _m(t,this.total))}}class _m extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}var wm=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Cm=function(){function t(t,e){this._mapsWrapper=t,this._zone=e,this._polygons=new Map}return t.prototype.addPolygon=function(t){var e=this._mapsWrapper.createPolygon({clickable:t.clickable,draggable:t.draggable,editable:t.editable,fillColor:t.fillColor,fillOpacity:t.fillOpacity,geodesic:t.geodesic,paths:t.paths,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokeWeight:t.strokeWeight,visible:t.visible,zIndex:t.zIndex});this._polygons.set(t,e)},t.prototype.updatePolygon=function(t){var e=this,n=this._polygons.get(t);return null==n?Promise.resolve():n.then(function(n){return e._zone.run(function(){n.setPaths(t.paths)})})},t.prototype.setPolygonOptions=function(t,e){return this._polygons.get(t).then(function(t){t.setOptions(e)})},t.prototype.deletePolygon=function(t){var e=this,n=this._polygons.get(t);return null==n?Promise.resolve():n.then(function(n){return e._zone.run(function(){n.setMap(null),e._polygons.delete(t)})})},t.prototype.getPath=function(t){return this._polygons.get(t).then(function(t){return t.getPath().getArray()})},t.prototype.getPaths=function(t){return this._polygons.get(t).then(function(t){return t.getPaths().getArray().map(function(t){return t.getArray()})})},t.prototype.createEventObservable=function(t,e){var n=this;return new _(function(r){n._polygons.get(e).then(function(e){e.addListener(t,function(t){return n._zone.run(function(){return r.next(t)})})})})},t.prototype.createPathEventObservable=function(t){return e=this,void 0,r=function(){var e,n;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}(this,function(r){switch(r.label){case 0:return[4,this._polygons.get(t)];case 1:return e=r.sent(),[2,pm(n=e.getPaths()).pipe(Su({newArr:n.getArray()}),bu(function(t){return Q.apply(void 0,t.newArr.map(function(e,n){return pm(e).pipe(V(function(e){return{parentMVEvent:t,chMVCEvent:e,pathIndex:n}}))})).pipe(Su({parentMVEvent:t,chMVCEvent:null,pathIndex:null}))}),vm(1),V(function(t){var e,n=t.parentMVEvent,r=t.chMVCEvent,i=t.pathIndex;return r?(e={newArr:n.newArr.map(function(t){return t.getArray().map(function(t){return t.toJSON()})}),pathIndex:i,eventName:r.evName,index:r.index},r.previous&&(e.previous=r.previous)):(e={newArr:n.newArr.map(function(t){return t.getArray().map(function(t){return t.toJSON()})}),eventName:n.evName,index:n.index},n.previous&&(e.previous=n.previous.getArray())),e}))]}})},new((n=void 0)||(n=Promise))(function(t,i){function o(t){try{a(r.next(t))}catch(e){i(e)}}function s(t){try{a(r.throw(t))}catch(e){i(e)}}function a(e){e.done?t(e.value):new n(function(t){t(e.value)}).then(o,s)}a((r=r.apply(e,[])).next())});var e,n,r},function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}([$e(),wm("design:paramtypes",[nm,Bo])],t)}(),Sm=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Em=function(){function t(t,e){this._wrapper=t,this._zone=e,this._layers=new Map}return t.prototype.addKmlLayer=function(t){var e=this._wrapper.getNativeMap().then(function(e){return new google.maps.KmlLayer({clickable:t.clickable,map:e,preserveViewport:t.preserveViewport,screenOverlays:t.screenOverlays,suppressInfoWindows:t.suppressInfoWindows,url:t.url,zIndex:t.zIndex})});this._layers.set(t,e)},t.prototype.setOptions=function(t,e){this._layers.get(t).then(function(t){return t.setOptions(e)})},t.prototype.deleteKmlLayer=function(t){var e=this;this._layers.get(t).then(function(n){n.setMap(null),e._layers.delete(t)})},t.prototype.createEventObservable=function(t,e){var n=this;return new _(function(r){n._layers.get(e).then(function(e){e.addListener(t,function(t){return n._zone.run(function(){return r.next(t)})})})})},function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}([$e(),Sm("design:paramtypes",[nm,Bo])],t)}(),Tm=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Im=function(){function t(t,e){this._wrapper=t,this._zone=e,this._layers=new Map}return t.prototype.addDataLayer=function(t){var e=this,n=this._wrapper.createDataLayer({style:t.style}).then(function(n){return t.geoJson&&e.getDataFeatures(n,t.geoJson).then(function(t){return n.features=t}),n});this._layers.set(t,n)},t.prototype.deleteDataLayer=function(t){var e=this;this._layers.get(t).then(function(n){n.setMap(null),e._layers.delete(t)})},t.prototype.updateGeoJson=function(t,e){var n=this;this._layers.get(t).then(function(t){t.forEach(function(e){t.remove(e);var n=t.features.indexOf(e,0);n>-1&&t.features.splice(n,1)}),n.getDataFeatures(t,e).then(function(e){return t.features=e})})},t.prototype.setDataOptions=function(t,e){this._layers.get(t).then(function(t){t.setControlPosition(e.controlPosition),t.setControls(e.controls),t.setDrawingMode(e.drawingMode),t.setStyle(e.style)})},t.prototype.createEventObservable=function(t,e){var n=this;return new _(function(r){n._layers.get(e).then(function(e){e.addListener(t,function(t){return n._zone.run(function(){return r.next(t)})})})})},t.prototype.getDataFeatures=function(t,e){return new Promise(function(n,r){if("object"==typeof e)try{n(t.addGeoJson(e))}catch(i){r(i)}else"string"==typeof e?t.loadGeoJson(e,null,n):r("Impossible to extract features from geoJson: wrong argument type")})},function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}([$e(),Tm("design:paramtypes",[nm,Bo])],t)}(),km=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},xm=function(){function t(t){this._wrapper=t,this._layers=new Map}return t.prototype.addTransitLayer=function(t,e){var n=this._wrapper.createTransitLayer(e);this._layers.set(t,n)},t.prototype.setOptions=function(t,e){return this.toggleTransitLayerVisibility(t,e)},t.prototype.deleteTransitLayer=function(t){var e=this;return this._layers.get(t).then(function(n){n.setMap(null),e._layers.delete(t)})},t.prototype.toggleTransitLayerVisibility=function(t,e){var n=this;return this._layers.get(t).then(function(t){return e.visible?n._wrapper.getNativeMap().then(function(e){t.setMap(e)}):(t.setMap(null),Promise.resolve())})},function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}([$e(),km("design:paramtypes",[nm])],t)}();class Om{constructor(t){this.notifier=t}call(t,e){const n=new Am(t),r=e.subscribe(n);return r.add(M(n,this.notifier)),r}}class Am extends L{constructor(){super(...arguments),this.hasValue=!1}_next(t){this.value=t,this.hasValue=!0}notifyNext(t,e,n,r,i){this.emitValue()}notifyComplete(){this.emitValue()}emitValue(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))}}let Pm=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return jl(this.value);case"E":return t=this.error,new _(e=>e.error(t));case"C":return Gl()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();class Nm extends f{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(Nm.dispatch,this.delay,new Dm(t,this.destination)))}_next(t){this.scheduleMessage(Pm.createNext(t))}_error(t){this.scheduleMessage(Pm.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(Pm.createComplete()),this.unsubscribe()}}class Dm{constructor(t,e){this.notification=t,this.destination=e}}class Rm extends T{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new Mm(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new C;if(this.isStopped||this.hasError?o=h.EMPTY:(this.observers.push(t),o=new S(this,t)),r&&t.add(t=new Nm(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||rf).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Mm{constructor(t,e){this.time=t,this.value=e}}var Lm=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Vm=function(){},Fm=function(){function t(t){var e,n=this;this._boundsChangeSampleTime$=new Ul(200),this._includeInBounds$=new Ul(new Map),this.bounds$=B(t.load()).pipe(q(function(){return n._includeInBounds$}),(e=this._boundsChangeSampleTime$.pipe(bu(function(t){return Wg(0,t)})),t=>t.lift(new Om(e))),V(function(t){return n._generateBounds(t)}),function(t,e,n){let r;return r={bufferSize:1,windowTime:void 0,refCount:!1,scheduler:void 0},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,l=!1;return function(u){s++,i&&!a||(a=!1,i=new Rm(t,e,r),o=u.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){l=!0,i.complete()}}));const c=i.subscribe(this);this.add(()=>{s--,c.unsubscribe(),o&&!l&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}())}return t.prototype._generateBounds=function(t){var e=new google.maps.LatLngBounds;return t.forEach(function(t){return e.extend(t)}),e},t.prototype.addToBounds=function(t){var e=this._createIdentifier(t);if(!this._includeInBounds$.value.has(e)){var n=this._includeInBounds$.value;n.set(e,t),this._includeInBounds$.next(n)}},t.prototype.removeFromBounds=function(t){var e=this._includeInBounds$.value;e.delete(this._createIdentifier(t)),this._includeInBounds$.next(e)},t.prototype.changeFitBoundsChangeSampleTime=function(t){this._boundsChangeSampleTime$.next(t)},t.prototype.getBounds$=function(){return this.bounds$},t.prototype._createIdentifier=function(t){return t.lat+"+"+t.lng},function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}([$e(),Lm("design:paramtypes",[tm])],t)}(),jm=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Um=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Bm=function(){function t(t,e,n,r){this._elem=t,this._mapsWrapper=e,this._fitBoundsService=n,this._zone=r,this.longitude=0,this.latitude=0,this.zoom=8,this.draggable=!0,this.disableDoubleClickZoom=!1,this.disableDefaultUI=!1,this.scrollwheel=!0,this.keyboardShortcuts=!0,this.zoomControl=!0,this.styles=[],this.usePanning=!1,this.streetViewControl=!0,this.fitBounds=!1,this.scaleControl=!1,this.mapTypeControl=!1,this.panControl=!1,this.rotateControl=!1,this.fullscreenControl=!1,this.mapTypeId="roadmap",this.clickableIcons=!0,this.showDefaultInfoWindow=!0,this.gestureHandling="auto",this.tilt=0,this._observableSubscriptions=[],this.mapClick=new ro,this.mapRightClick=new ro,this.mapDblClick=new ro,this.centerChange=new ro,this.boundsChange=new ro,this.mapTypeIdChange=new ro,this.idle=new ro,this.zoomChange=new ro,this.mapReady=new ro}var e;return e=t,t.prototype.ngOnInit=function(){var t=this._elem.nativeElement.querySelector(".agm-map-container-inner");this._initMapInstance(t)},t.prototype._initMapInstance=function(t){var e=this;this._mapsWrapper.createMap(t,{center:{lat:this.latitude||0,lng:this.longitude||0},zoom:this.zoom,minZoom:this.minZoom,maxZoom:this.maxZoom,controlSize:this.controlSize,disableDefaultUI:this.disableDefaultUI,disableDoubleClickZoom:this.disableDoubleClickZoom,scrollwheel:this.scrollwheel,backgroundColor:this.backgroundColor,draggable:this.draggable,draggableCursor:this.draggableCursor,draggingCursor:this.draggingCursor,keyboardShortcuts:this.keyboardShortcuts,styles:this.styles,zoomControl:this.zoomControl,zoomControlOptions:this.zoomControlOptions,streetViewControl:this.streetViewControl,streetViewControlOptions:this.streetViewControlOptions,scaleControl:this.scaleControl,scaleControlOptions:this.scaleControlOptions,mapTypeControl:this.mapTypeControl,mapTypeControlOptions:this.mapTypeControlOptions,panControl:this.panControl,panControlOptions:this.panControlOptions,rotateControl:this.rotateControl,rotateControlOptions:this.rotateControlOptions,fullscreenControl:this.fullscreenControl,fullscreenControlOptions:this.fullscreenControlOptions,mapTypeId:this.mapTypeId,clickableIcons:this.clickableIcons,gestureHandling:this.gestureHandling,tilt:this.tilt,restriction:this.restriction}).then(function(){return e._mapsWrapper.getNativeMap()}).then(function(t){return e.mapReady.emit(t)}),this._handleMapCenterChange(),this._handleMapZoomChange(),this._handleMapMouseEvents(),this._handleBoundsChange(),this._handleMapTypeIdChange(),this._handleIdleEvent()},t.prototype.ngOnDestroy=function(){this._observableSubscriptions.forEach(function(t){return t.unsubscribe()}),this._mapsWrapper.clearInstanceListeners(),this._fitBoundsSubscription&&this._fitBoundsSubscription.unsubscribe()},t.prototype.ngOnChanges=function(t){this._updateMapOptionsChanges(t),this._updatePosition(t)},t.prototype._updateMapOptionsChanges=function(t){var n={};Object.keys(t).filter(function(t){return-1!==e._mapOptionsAttributes.indexOf(t)}).forEach(function(e){n[e]=t[e].currentValue}),this._mapsWrapper.setMapOptions(n)},t.prototype.triggerResize=function(t){var e=this;return void 0===t&&(t=!0),new Promise(function(n){setTimeout(function(){return e._mapsWrapper.triggerMapEvent("resize").then(function(){t&&(null!=e.fitBounds?e._fitBounds():e._setCenter()),n()})})})},t.prototype._updatePosition=function(t){(null!=t.latitude||null!=t.longitude||t.fitBounds)&&("fitBounds"in t?this._fitBounds():"number"==typeof this.latitude&&"number"==typeof this.longitude&&this._setCenter())},t.prototype._setCenter=function(){var t={lat:this.latitude,lng:this.longitude};this.usePanning?this._mapsWrapper.panTo(t):this._mapsWrapper.setCenter(t)},t.prototype._fitBounds=function(){switch(this.fitBounds){case!0:this._subscribeToFitBoundsUpdates();break;case!1:this._fitBoundsSubscription&&this._fitBoundsSubscription.unsubscribe();break;default:this._updateBounds(this.fitBounds)}},t.prototype._subscribeToFitBoundsUpdates=function(){var t=this;this._zone.runOutsideAngular(function(){t._fitBoundsSubscription=t._fitBoundsService.getBounds$().subscribe(function(e){t._zone.run(function(){return t._updateBounds(e)})})})},t.prototype._updateBounds=function(t){if(this._isLatLngBoundsLiteral(t)&&"undefined"!=typeof google&&google&&google.maps&&google.maps.LatLngBounds){var e=new google.maps.LatLngBounds;e.union(t),t=e}this.usePanning?this._mapsWrapper.panToBounds(t):this._mapsWrapper.fitBounds(t)},t.prototype._isLatLngBoundsLiteral=function(t){return null!=t&&void 0===t.extend},t.prototype._handleMapCenterChange=function(){var t=this,e=this._mapsWrapper.subscribeToMapEvent("center_changed").subscribe(function(){t._mapsWrapper.getCenter().then(function(e){t.latitude=e.lat(),t.longitude=e.lng(),t.centerChange.emit({lat:t.latitude,lng:t.longitude})})});this._observableSubscriptions.push(e)},t.prototype._handleBoundsChange=function(){var t=this,e=this._mapsWrapper.subscribeToMapEvent("bounds_changed").subscribe(function(){t._mapsWrapper.getBounds().then(function(e){t.boundsChange.emit(e)})});this._observableSubscriptions.push(e)},t.prototype._handleMapTypeIdChange=function(){var t=this,e=this._mapsWrapper.subscribeToMapEvent("maptypeid_changed").subscribe(function(){t._mapsWrapper.getMapTypeId().then(function(e){t.mapTypeIdChange.emit(e)})});this._observableSubscriptions.push(e)},t.prototype._handleMapZoomChange=function(){var t=this,e=this._mapsWrapper.subscribeToMapEvent("zoom_changed").subscribe(function(){t._mapsWrapper.getZoom().then(function(e){t.zoom=e,t.zoomChange.emit(e)})});this._observableSubscriptions.push(e)},t.prototype._handleIdleEvent=function(){var t=this,e=this._mapsWrapper.subscribeToMapEvent("idle").subscribe(function(){t.idle.emit(void 0)});this._observableSubscriptions.push(e)},t.prototype._handleMapMouseEvents=function(){var t=this;[{name:"click",emitter:this.mapClick},{name:"rightclick",emitter:this.mapRightClick},{name:"dblclick",emitter:this.mapDblClick}].forEach(function(e){var n=t._mapsWrapper.subscribeToMapEvent(e.name).subscribe(function(n){var r={coords:{lat:n.latLng.lat(),lng:n.latLng.lng()},placeId:n.placeId};r.placeId&&!t.showDefaultInfoWindow&&n.stop(),e.emitter.emit(r)});t._observableSubscriptions.push(n)})},t._mapOptionsAttributes=["disableDoubleClickZoom","scrollwheel","draggable","draggableCursor","draggingCursor","keyboardShortcuts","zoomControl","zoomControlOptions","styles","streetViewControl","streetViewControlOptions","zoom","mapTypeControl","mapTypeControlOptions","minZoom","maxZoom","panControl","panControlOptions","rotateControl","rotateControlOptions","fullscreenControl","fullscreenControlOptions","scaleControl","scaleControlOptions","mapTypeId","clickableIcons","gestureHandling","tilt","restriction"],jm([lo(),Um("design:type",Number)],t.prototype,"longitude",void 0),jm([lo(),Um("design:type",Number)],t.prototype,"latitude",void 0),jm([lo(),Um("design:type",Number)],t.prototype,"zoom",void 0),jm([lo(),Um("design:type",Number)],t.prototype,"minZoom",void 0),jm([lo(),Um("design:type",Number)],t.prototype,"maxZoom",void 0),jm([lo(),Um("design:type",Number)],t.prototype,"controlSize",void 0),jm([lo("mapDraggable"),Um("design:type",Boolean)],t.prototype,"draggable",void 0),jm([lo(),Um("design:type",Boolean)],t.prototype,"disableDoubleClickZoom",void 0),jm([lo(),Um("design:type",Boolean)],t.prototype,"disableDefaultUI",void 0),jm([lo(),Um("design:type",Boolean)],t.prototype,"scrollwheel",void 0),jm([lo(),Um("design:type",String)],t.prototype,"backgroundColor",void 0),jm([lo(),Um("design:type",String)],t.prototype,"draggableCursor",void 0),jm([lo(),Um("design:type",String)],t.prototype,"draggingCursor",void 0),jm([lo(),Um("design:type",Boolean)],t.prototype,"keyboardShortcuts",void 0),jm([lo(),Um("design:type",Boolean)],t.prototype,"zoomControl",void 0),jm([lo(),Um("design:type",Object)],t.prototype,"zoomControlOptions",void 0),jm([lo(),Um("design:type",Array)],t.prototype,"styles",void 0),jm([lo(),Um("design:type",Boolean)],t.prototype,"usePanning",void 0),jm([lo(),Um("design:type",Boolean)],t.prototype,"streetViewControl",void 0),jm([lo(),Um("design:type",Object)],t.prototype,"streetViewControlOptions",void 0),jm([lo(),Um("design:type",Object)],t.prototype,"fitBounds",void 0),jm([lo(),Um("design:type",Boolean)],t.prototype,"scaleControl",void 0),jm([lo(),Um("design:type",Object)],t.prototype,"scaleControlOptions",void 0),jm([lo(),Um("design:type",Boolean)],t.prototype,"mapTypeControl",void 0),jm([lo(),Um("design:type",Object)],t.prototype,"mapTypeControlOptions",void 0),jm([lo(),Um("design:type",Boolean)],t.prototype,"panControl",void 0),jm([lo(),Um("design:type",Object)],t.prototype,"panControlOptions",void 0),jm([lo(),Um("design:type",Boolean)],t.prototype,"rotateControl",void 0),jm([lo(),Um("design:type",Object)],t.prototype,"rotateControlOptions",void 0),jm([lo(),Um("design:type",Boolean)],t.prototype,"fullscreenControl",void 0),jm([lo(),Um("design:type",Object)],t.prototype,"fullscreenControlOptions",void 0),jm([lo(),Um("design:type",String)],t.prototype,"mapTypeId",void 0),jm([lo(),Um("design:type",Boolean)],t.prototype,"clickableIcons",void 0),jm([lo(),Um("design:type",Boolean)],t.prototype,"showDefaultInfoWindow",void 0),jm([lo(),Um("design:type",String)],t.prototype,"gestureHandling",void 0),jm([lo(),Um("design:type",Number)],t.prototype,"tilt",void 0),jm([lo(),Um("design:type",Object)],t.prototype,"restriction",void 0),jm([uo(),Um("design:type",ro)],t.prototype,"mapClick",void 0),jm([uo(),Um("design:type",ro)],t.prototype,"mapRightClick",void 0),jm([uo(),Um("design:type",ro)],t.prototype,"mapDblClick",void 0),jm([uo(),Um("design:type",ro)],t.prototype,"centerChange",void 0),jm([uo(),Um("design:type",ro)],t.prototype,"boundsChange",void 0),jm([uo(),Um("design:type",ro)],t.prototype,"mapTypeIdChange",void 0),jm([uo(),Um("design:type",ro)],t.prototype,"idle",void 0),jm([uo(),Um("design:type",ro)],t.prototype,"zoomChange",void 0),jm([uo(),Um("design:type",ro)],t.prototype,"mapReady",void 0),e=jm([ao({selector:"agm-map",providers:[nm,sm,lm,cm,dm,ym,Cm,Em,Im,Im,xm,Fm],host:{"[class.sebm-google-map-container]":"true"},styles:["\n    .agm-map-container-inner {\n      width: inherit;\n      height: inherit;\n    }\n    .agm-map-content {\n      display:none;\n    }\n  "],template:"\n              <div class='agm-map-container-inner sebm-google-map-container-inner'></div>\n              <div class='agm-map-content'>\n                <ng-content></ng-content>\n              </div>\n  "}),Um("design:paramtypes",[Pn,nm,Fm,Bo])],t)}(),qm=Cr({encapsulation:0,styles:[".agm-map-container-inner[_ngcontent-%COMP%] {\n      width: inherit;\n      height: inherit;\n    }\n    .agm-map-content[_ngcontent-%COMP%] {\n      display:none;\n    }"],data:{}});function zm(t){return Hs(0,[(t()(),Os(0,0,null,null,0,"div",[["class","agm-map-container-inner sebm-google-map-container-inner"]],null,null,null,null,null)),(t()(),Os(1,0,null,null,1,"div",[["class","agm-map-content"]],null,null,null,null,null)),js(null,0)],null,null)}var Wm=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},Hm=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Km=0,Gm=function(){function t(t,e){this._infoWindowManager=t,this._el=e,this.isOpen=!1,this.infoWindowClose=new ro,this._infoWindowAddedToManager=!1,this._id=(Km++).toString()}var e;return e=t,t.prototype.ngOnInit=function(){this.content=this._el.nativeElement.querySelector(".agm-info-window-content"),this._infoWindowManager.addInfoWindow(this),this._infoWindowAddedToManager=!0,this._updateOpenState(),this._registerEventListeners()},t.prototype.ngOnChanges=function(t){this._infoWindowAddedToManager&&((t.latitude||t.longitude)&&"number"==typeof this.latitude&&"number"==typeof this.longitude&&this._infoWindowManager.setPosition(this),t.zIndex&&this._infoWindowManager.setZIndex(this),t.isOpen&&this._updateOpenState(),this._setInfoWindowOptions(t))},t.prototype._registerEventListeners=function(){var t=this;this._infoWindowManager.createEventObservable("closeclick",this).subscribe(function(){t.isOpen=!1,t.infoWindowClose.emit()})},t.prototype._updateOpenState=function(){this.isOpen?this.open():this.close()},t.prototype._setInfoWindowOptions=function(t){var n={};Object.keys(t).filter(function(t){return-1!==e._infoWindowOptionsInputs.indexOf(t)}).forEach(function(e){n[e]=t[e].currentValue}),this._infoWindowManager.setOptions(this,n)},t.prototype.open=function(){return this._infoWindowManager.open(this)},t.prototype.close=function(){var t=this;return this._infoWindowManager.close(this).then(function(){t.infoWindowClose.emit()})},t.prototype.id=function(){return this._id},t.prototype.toString=function(){return"AgmInfoWindow-"+this._id.toString()},t.prototype.ngOnDestroy=function(){this._infoWindowManager.deleteInfoWindow(this)},t._infoWindowOptionsInputs=["disableAutoPan","maxWidth"],Wm([lo(),Hm("design:type",Number)],t.prototype,"latitude",void 0),Wm([lo(),Hm("design:type",Number)],t.prototype,"longitude",void 0),Wm([lo(),Hm("design:type",Boolean)],t.prototype,"disableAutoPan",void 0),Wm([lo(),Hm("design:type",Number)],t.prototype,"zIndex",void 0),Wm([lo(),Hm("design:type",Number)],t.prototype,"maxWidth",void 0),Wm([lo(),Hm("design:type",Boolean)],t.prototype,"isOpen",void 0),Wm([uo(),Hm("design:type",ro)],t.prototype,"infoWindowClose",void 0),e=Wm([ao({selector:"agm-info-window",template:"<div class='agm-info-window-content'>\n      <ng-content></ng-content>\n    </div>\n  "}),Hm("design:paramtypes",[lm,Pn])],t)}(),Qm=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},$m=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Ym=0,Jm=function(){function t(t){this._markerManager=t,this.draggable=!1,this.visible=!0,this.openInfoWindow=!0,this.opacity=1,this.zIndex=1,this.clickable=!0,this.animationChange=new ro,this.markerClick=new ro,this.markerRightClick=new ro,this.dragStart=new ro,this.drag=new ro,this.dragEnd=new ro,this.mouseOver=new ro,this.mouseOut=new ro,this.infoWindow=new oo,this._markerAddedToManger=!1,this._observableSubscriptions=[],this._fitBoundsDetails$=new Rm(1),this._id=(Ym++).toString()}var e;return e=t,t.prototype.ngAfterContentInit=function(){var t=this;this.handleInfoWindowUpdate(),this.infoWindow.changes.subscribe(function(){return t.handleInfoWindowUpdate()})},t.prototype.handleInfoWindowUpdate=function(){var t=this;if(this.infoWindow.length>1)throw new Error("Expected no more than one info window.");this.infoWindow.forEach(function(e){e.hostMarker=t})},t.prototype.ngOnChanges=function(t){if("string"==typeof this.latitude&&(this.latitude=Number(this.latitude)),"string"==typeof this.longitude&&(this.longitude=Number(this.longitude)),"number"==typeof this.latitude&&"number"==typeof this.longitude){if(!this._markerAddedToManger)return this._markerManager.addMarker(this),this._updateFitBoundsDetails(),this._markerAddedToManger=!0,void this._addEventListeners();(t.latitude||t.longitude)&&(this._markerManager.updateMarkerPosition(this),this._updateFitBoundsDetails()),t.title&&this._markerManager.updateTitle(this),t.label&&this._markerManager.updateLabel(this),t.draggable&&this._markerManager.updateDraggable(this),t.iconUrl&&this._markerManager.updateIcon(this),t.opacity&&this._markerManager.updateOpacity(this),t.visible&&this._markerManager.updateVisible(this),t.zIndex&&this._markerManager.updateZIndex(this),t.clickable&&this._markerManager.updateClickable(this),t.animation&&this._markerManager.updateAnimation(this)}},t.prototype.getFitBoundsDetails$=function(){return this._fitBoundsDetails$.asObservable()},t.prototype._updateFitBoundsDetails=function(){this._fitBoundsDetails$.next({latLng:{lat:this.latitude,lng:this.longitude}})},t.prototype._addEventListeners=function(){var t=this,e=this._markerManager.createEventObservable("click",this).subscribe(function(){t.openInfoWindow&&t.infoWindow.forEach(function(t){return t.open()}),t.markerClick.emit(t)});this._observableSubscriptions.push(e);var n=this._markerManager.createEventObservable("rightclick",this).subscribe(function(){t.markerRightClick.emit(null)});this._observableSubscriptions.push(n);var r=this._markerManager.createEventObservable("dragstart",this).subscribe(function(e){t.dragStart.emit({coords:{lat:e.latLng.lat(),lng:e.latLng.lng()}})});this._observableSubscriptions.push(r);var i=this._markerManager.createEventObservable("drag",this).subscribe(function(e){t.drag.emit({coords:{lat:e.latLng.lat(),lng:e.latLng.lng()}})});this._observableSubscriptions.push(i);var o=this._markerManager.createEventObservable("dragend",this).subscribe(function(e){t.dragEnd.emit({coords:{lat:e.latLng.lat(),lng:e.latLng.lng()}})});this._observableSubscriptions.push(o);var s=this._markerManager.createEventObservable("mouseover",this).subscribe(function(e){t.mouseOver.emit({coords:{lat:e.latLng.lat(),lng:e.latLng.lng()}})});this._observableSubscriptions.push(s);var a=this._markerManager.createEventObservable("mouseout",this).subscribe(function(e){t.mouseOut.emit({coords:{lat:e.latLng.lat(),lng:e.latLng.lng()}})});this._observableSubscriptions.push(a);var l=this._markerManager.createEventObservable("animation_changed",this).subscribe(function(){t.animationChange.emit(t.animation)});this._observableSubscriptions.push(l)},t.prototype.id=function(){return this._id},t.prototype.toString=function(){return"AgmMarker-"+this._id.toString()},t.prototype.ngOnDestroy=function(){this._markerManager.deleteMarker(this),this._observableSubscriptions.forEach(function(t){return t.unsubscribe()})},Qm([lo(),$m("design:type",Number)],t.prototype,"latitude",void 0),Qm([lo(),$m("design:type",Number)],t.prototype,"longitude",void 0),Qm([lo(),$m("design:type",String)],t.prototype,"title",void 0),Qm([lo(),$m("design:type",Object)],t.prototype,"label",void 0),Qm([lo("markerDraggable"),$m("design:type",Boolean)],t.prototype,"draggable",void 0),Qm([lo(),$m("design:type",String)],t.prototype,"iconUrl",void 0),Qm([lo(),$m("design:type",Boolean)],t.prototype,"visible",void 0),Qm([lo(),$m("design:type",Boolean)],t.prototype,"openInfoWindow",void 0),Qm([lo(),$m("design:type",Number)],t.prototype,"opacity",void 0),Qm([lo(),$m("design:type",Number)],t.prototype,"zIndex",void 0),Qm([lo("markerClickable"),$m("design:type",Boolean)],t.prototype,"clickable",void 0),Qm([lo(),$m("design:type",String)],t.prototype,"animation",void 0),Qm([uo(),$m("design:type",Object)],t.prototype,"animationChange",void 0),Qm([uo(),$m("design:type",ro)],t.prototype,"markerClick",void 0),Qm([uo(),$m("design:type",ro)],t.prototype,"markerRightClick",void 0),Qm([uo(),$m("design:type",ro)],t.prototype,"dragStart",void 0),Qm([uo(),$m("design:type",ro)],t.prototype,"drag",void 0),Qm([uo(),$m("design:type",ro)],t.prototype,"dragEnd",void 0),Qm([uo(),$m("design:type",ro)],t.prototype,"mouseOver",void 0),Qm([uo(),$m("design:type",ro)],t.prototype,"mouseOut",void 0),Qm([hn(Gm),$m("design:type",oo)],t.prototype,"infoWindow",void 0),e=Qm([so({selector:"agm-marker",providers:[{provide:Vm,useExisting:wt(function(){return e})}],inputs:["latitude","longitude","title","label","draggable: markerDraggable","iconUrl","openInfoWindow","opacity","visible","zIndex","animation"],outputs:["markerClick","dragStart","drag","dragEnd","mouseOver","mouseOut"]}),$m("design:paramtypes",[sm])],t)}();class Xm{constructor(){this.title="El Primer mapa",this.lat=33.678418,this.lng=5.809007,this.zoom=8}ngOnInit(){}mapClicked(t){}}var Zm=Cr({encapsulation:0,styles:[["agm-map[_ngcontent-%COMP%]{height:300px}"]],data:{}});function ty(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),qs(1,null,["",""])),(t()(),Os(2,0,null,null,16,"agm-map",[],[[2,"sebm-google-map-container",null]],[[null,"mapClick"]],function(t,e,n){var r=!0;return"mapClick"===e&&(r=!1!==t.component.mapClicked(n)&&r),r},zm,qm)),Ri(4608,null,lm,lm,[nm,Bo,sm]),Ri(4608,null,cm,cm,[nm,Bo]),Ri(4608,null,dm,dm,[nm,Bo]),Ri(4608,null,ym,ym,[nm,Bo]),Ri(4608,null,Cm,Cm,[nm,Bo]),Ri(4608,null,Em,Em,[nm,Bo]),Ri(4608,null,Im,Im,[nm,Bo]),Ri(4608,null,xm,xm,[nm]),Ri(512,null,nm,nm,[tm,Bo]),Ri(512,null,Fm,Fm,[tm]),Ni(13,770048,null,0,Bm,[Pn,nm,Fm,Bo],{longitude:[0,"longitude"],latitude:[1,"latitude"]},{mapClick:"mapClick"}),Ri(512,null,sm,sm,[nm,Bo]),(t()(),Os(15,0,null,0,3,"agm-marker",[],null,null,null,null,null)),Ri(6144,null,Vm,null,[Jm]),Ni(17,1720320,null,1,Jm,[sm],{latitude:[0,"latitude"],longitude:[1,"longitude"]},null),Rs(603979776,1,{infoWindow:1}),(t()(),Os(19,0,null,null,5,"input",[["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==bi(t,20)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==bi(t,20).onTouched()&&r),"compositionstart"===e&&(r=!1!==bi(t,20)._compositionStart()&&r),"compositionend"===e&&(r=!1!==bi(t,20)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.lat=n)&&r),r},null,null)),Ni(20,16384,null,0,Gf,[Ln,Pn,[2,Kf]],null,null),Ri(1024,null,Hf,function(t){return[t]},[Gf]),Ni(22,671744,null,0,Vg,[[8,null],[8,null],[8,null],[6,Hf]],{model:[0,"model"]},{update:"ngModelChange"}),Ri(2048,null,Jf,null,[Vg]),Ni(24,16384,null,0,Zf,[[4,Jf]],null,null),(t()(),Os(25,0,null,null,5,"input",[["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==bi(t,26)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==bi(t,26).onTouched()&&r),"compositionstart"===e&&(r=!1!==bi(t,26)._compositionStart()&&r),"compositionend"===e&&(r=!1!==bi(t,26)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.lng=n)&&r),r},null,null)),Ni(26,16384,null,0,Gf,[Ln,Pn,[2,Kf]],null,null),Ri(1024,null,Hf,function(t){return[t]},[Gf]),Ni(28,671744,null,0,Vg,[[8,null],[8,null],[8,null],[6,Hf]],{model:[0,"model"]},{update:"ngModelChange"}),Ri(2048,null,Jf,null,[Vg]),Ni(30,16384,null,0,Zf,[[4,Jf]],null,null)],function(t,e){var n=e.component;t(e,13,0,n.lng,n.lat),t(e,17,0,n.lat,n.lng),t(e,22,0,n.lat),t(e,28,0,n.lng)},function(t,e){t(e,1,0,e.component.title),t(e,2,0,!0),t(e,19,0,bi(e,24).ngClassUntouched,bi(e,24).ngClassTouched,bi(e,24).ngClassPristine,bi(e,24).ngClassDirty,bi(e,24).ngClassValid,bi(e,24).ngClassInvalid,bi(e,24).ngClassPending),t(e,25,0,bi(e,30).ngClassUntouched,bi(e,30).ngClassTouched,bi(e,30).ngClassPristine,bi(e,30).ngClassDirty,bi(e,30).ngClassValid,bi(e,30).ngClassInvalid,bi(e,30).ngClassPending)})}function ey(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-mapa-de-google",[],null,null,null,ty,Zm)),Ni(1,114688,null,0,Xm,[],null,null)],function(t,e){t(e,1,0)},null)}var ny=li("app-mapa-de-google",Xm,ey,{},{},[]);class ry{constructor(){}ngOnInit(){}}var iy=Cr({encapsulation:0,styles:[["body[_ngcontent-%COMP%]{font:20px Montserrat,sans-serif;font-family:Montserrat;line-height:1.8;color:#f5f6f7}.bg-4[_ngcontent-%COMP%]{background-color:#2f2f2f;color:#fff}.navbar[_ngcontent-%COMP%]{padding-top:15px;padding-bottom:15px;border:0;border-radius:0;margin-bottom:0;font-size:12px;letter-spacing:5px}.navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#1abc9c!important}.p-section[_ngcontent-%COMP%]{padding:40px 0}.bg-01[_ngcontent-%COMP%]{background:url(bg-1.59e1d682b023744523fd.jpg)}.tp[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:3%}.bio[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .card-intro[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 0 10px;line-height:1;font-weight:700}.bio[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .card-intro[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:20px auto;font-size:1rem;font-weight:300}@media only screen and (min-width:992px){.bio[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .card-intro[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:8vw;letter-spacing:-5px}.bio[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .card-intro[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:25px;padding:15px 0;margin:0}}@media only screen and (min-width:1600px){.bio[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .card-intro[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:8rem}}.down[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#6495ed}.titulos[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#6495ed;text-transform:uppercase;font-weight:600}.juego[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}.juego[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:initial}.bio[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:10%}"]],data:{}});function oy(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-cabecera",[],null,null,null,xf,kf)),Ni(1,114688,null,0,If,[Tf],null,null),(t()(),Os(2,0,null,null,11,"section",[["class","bio p-section"]],null,null,null,null,null)),(t()(),Os(3,0,null,null,10,"div",[["class","container"]],null,null,null,null,null)),(t()(),Os(4,0,null,null,9,"div",[["class","row d-flex align-items-center"]],null,null,null,null,null)),(t()(),Os(5,0,null,null,1,"div",[["class","col text-center"]],null,null,null,null,null)),(t()(),Os(6,0,null,null,0,"img",[["alt",""],["src","./assets/imagenes/mc1.jpg"]],null,null,null,null,null)),(t()(),Os(7,0,null,null,6,"div",[["class","col "]],null,null,null,null,null)),(t()(),Os(8,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),qs(-1,null,["Mariano Camara"])),(t()(),Os(10,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),qs(-1,null,["Soy un alumno de la UTN FRA. "])),(t()(),Os(12,0,null,null,0,"br",[],null,null,null,null,null)),(t()(),qs(-1,null,[" Este es mi trabajo practico."])),(t()(),Os(14,0,null,null,25,"section",[["class","p-section bg-01"]],null,null,null,null,null)),(t()(),Os(15,0,null,null,24,"div",[["class","container"]],null,null,null,null,null)),(t()(),Os(16,0,null,null,4,"div",[["class","col text-center pb-5 titulos"]],null,null,null,null,null)),(t()(),Os(17,0,null,null,1,"h6",[],null,null,null,null,null)),(t()(),qs(-1,null,["Ventajas"])),(t()(),Os(19,0,null,null,1,"h2",[["class","title text-cap"]],null,null,null,null,null)),(t()(),qs(-1,null,["\xbfD\xf3nde funciona?"])),(t()(),Os(21,0,null,null,18,"div",[["class","row text-center"]],null,null,null,null,null)),(t()(),Os(22,0,null,null,5,"div",[["class","col"]],null,null,null,null,null)),(t()(),Os(23,0,null,null,0,"img",[["alt",""],["src","./assets/imagenes/language.png"]],null,null,null,null,null)),(t()(),Os(24,0,null,null,1,"h4",[["class","pb-4 pt-4"]],null,null,null,null,null)),(t()(),qs(-1,null,["Web"])),(t()(),Os(26,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),qs(-1,null,["Con las tecnologias WEB que permiten desarrollar aplicaciones multiplataforma."])),(t()(),Os(28,0,null,null,5,"div",[["class","col"]],null,null,null,null,null)),(t()(),Os(29,0,null,null,0,"img",[["alt",""],["src","./assets/imagenes/user.png"]],null,null,null,null,null)),(t()(),Os(30,0,null,null,1,"h4",[["class","pb-4 pt-4"]],null,null,null,null,null)),(t()(),qs(-1,null,["UX"])),(t()(),Os(32,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),qs(-1,null,["Principalmente orientada a la experiencia del usuario, garantizando que su funcionamieto sea fluido y pensado en el comportamiento del usuario y en la funcionalidad."])),(t()(),Os(34,0,null,null,5,"div",[["class","col"]],null,null,null,null,null)),(t()(),Os(35,0,null,null,0,"img",[["alt",""],["src","./assets/imagenes/browser.png"]],null,null,null,null,null)),(t()(),Os(36,0,null,null,1,"h4",[["class","pb-4 pt-4"]],null,null,null,null,null)),(t()(),qs(-1,null,["OS"])),(t()(),Os(38,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),qs(-1,null,["Para los sistemas operativos lideres en el mercado del consumo masivo."])),(t()(),Os(40,0,null,null,11,"section",[["class","tp p-section"]],null,null,null,null,null)),(t()(),Os(41,0,null,null,10,"div",[["class","container"]],null,null,null,null,null)),(t()(),Os(42,0,null,null,9,"div",[["class","row d-flex align-items-center"]],null,null,null,null,null)),(t()(),Os(43,0,null,null,8,"div",[["class","col text-center"]],null,null,null,null,null)),(t()(),Os(44,0,null,null,1,"h2",[["class","p-3"]],null,null,null,null,null)),(t()(),qs(-1,null,["Esto es un trabajo practico"])),(t()(),Os(46,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),qs(-1,null,["Cada universidad, cada facultad, cada carrera y obviamente cada materia en particular tiene estrategias did\xe1cticas y formas de evaluaci\xf3n diferentes. A pesar de que en muchos casos las universidades intentan estandarizar la forma de dictar clase para generar un orden en las planificaciones cuatrimestre a cuatrimestre, las formas de evaluaci\xf3n son elementales tanto para las instituciones y profesores como para los alumnos. A trav\xe9s de la evaluaci\xf3n formativa el educador busca informaci\xf3n en el alumno para lograr comprender c\xf3mo se est\xe1 produciendo el proceso de aprendizaje y poder reajustar los objetivos pedag\xf3gicos. Y para el alumno es una muestra del progreso que est\xe1 logrando y si puede aplicar, materializar y darle visibilidad a la comprensi\xf3n del tema. Seg\xfan Black y William (1998), la evaluaci\xf3n formativa, ayuda a que los estudiantes sean independientes a la hora del aprendizaje, es decir, se presenta como receptor, autorregulador y centro de esa misma evaluaci\xf3n."])),(t()(),Os(48,0,null,null,3,"p",[],null,null,null,null,null)),(t()(),Os(49,0,null,null,0,"img",[["alt",""],["src","./assets/imagenes/pdf.png"]],null,null,null,null,null)),(t()(),Os(50,0,null,null,1,"a",[["class","btn btn-default btn-lg text-left"],["href","#"]],null,null,null,null,null)),(t()(),qs(-1,null,["Descargar PDF"])),(t()(),Os(52,0,null,null,11,"section",[["class","juego bio bg-01 p-section"]],null,null,null,null,null)),(t()(),Os(53,0,null,null,10,"div",[["class","container"]],null,null,null,null,null)),(t()(),Os(54,0,null,null,9,"div",[["class","row d-flex align-items-center"]],null,null,null,null,null)),(t()(),Os(55,0,null,null,1,"div",[["class","col text-center"]],null,null,null,null,null)),(t()(),Os(56,0,null,null,0,"img",[["alt",""],["src","./assets/imagenes/simon.png"]],null,null,null,null,null)),(t()(),Os(57,0,null,null,6,"div",[["class","col titulos"]],null,null,null,null,null)),(t()(),Os(58,0,null,null,1,"h6",[["class","pl-2"]],null,null,null,null,null)),(t()(),qs(-1,null,["Simon dice"])),(t()(),Os(60,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),qs(-1,null,["Mi juego"])),(t()(),Os(62,0,null,null,1,"p",[["class","pl-2"]],null,null,null,null,null)),(t()(),qs(-1,null,["El juego va iluminando de forma aleatoria los cuadrantes de colores, cada uno con un color: verde, rojo, azul y amarillo.Despu\xe9s de esperar, el usuario debe ir introduciendo la secuencia mostrada en el orden correcto, ayud\xe1ndose de su memoria visual. Si lo consigue, \xe9ste responder\xe1 con una secuencia m\xe1s larga, y as\xed sucesivamente. Si falla, el usuario debe volver a empezar."])),(t()(),Os(64,0,null,null,2,"footer",[["class","container-fluid bg-4 text-center p-5"]],null,null,null,null,null)),(t()(),Os(65,0,null,null,1,"p",[["class","m-0"]],null,null,null,null,null)),(t()(),qs(-1,null,["Modificado por Mariano"]))],function(t,e){t(e,1,0)},null)}function sy(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-quien-soy",[],null,null,null,oy,iy)),Ni(1,114688,null,0,ry,[],null,null)],function(t,e){t(e,1,0)},null)}var ay=li("app-quien-soy",ry,sy,{},{},[]);class ly{constructor(t,e){this.authService=t,this.dbService=e}ngOnInit(){}Registrar(){this.authService.SignUp(this.usuario,this.clave)}}var uy=Cr({encapsulation:0,styles:[['*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{height:100%}a[_ngcontent-%COMP%]{font-size:14px;line-height:1.7;color:#666;margin:0;transition:all .4s;-webkit-transition:.4s;-o-transition:.4s;-moz-transition:.4s}a[_ngcontent-%COMP%]:focus{outline:0!important}a[_ngcontent-%COMP%]:hover{text-decoration:none;color:#333}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%]{margin:0}p[_ngcontent-%COMP%]{font-size:14px;line-height:1.7;color:#666;margin:0}li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0;list-style-type:none}input[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{outline:0;border:none}input[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:focus{border-color:transparent!important}input[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#999}input[_ngcontent-%COMP%]:-moz-placeholder{color:#999}input[_ngcontent-%COMP%]::-moz-placeholder{color:#999}input[_ngcontent-%COMP%]:-ms-input-placeholder{color:#999}textarea[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#999}textarea[_ngcontent-%COMP%]:-moz-placeholder{color:#999}textarea[_ngcontent-%COMP%]::-moz-placeholder{color:#999}textarea[_ngcontent-%COMP%]:-ms-input-placeholder{color:#999}button[_ngcontent-%COMP%]{outline:0!important;border:none;background:0 0}button[_ngcontent-%COMP%]:hover{cursor:pointer}iframe[_ngcontent-%COMP%]{border:none!important}.txt1[_ngcontent-%COMP%]{font-size:13px;line-height:1.4;color:#999}.txt2[_ngcontent-%COMP%]{font-size:13px;line-height:1.4;color:#00ad5f}.txt3[_ngcontent-%COMP%]{font-size:15px;line-height:1.4;color:#00ad5f;text-transform:uppercase}.size1[_ngcontent-%COMP%]{width:355px;max-width:100%}.size2[_ngcontent-%COMP%]{width:calc(100% - 43px)}.limiter[_ngcontent-%COMP%]{width:100%;margin:0 auto}.container-login100[_ngcontent-%COMP%]{width:100%;min-height:100vh;display:flex;flex-wrap:wrap;justify-content:center;align-items:center;padding:15px;background:#f2f2f2}.wrap-login100[_ngcontent-%COMP%]{width:1170px;background:#fff;overflow:hidden;display:flex;flex-wrap:wrap;align-items:stretch;flex-direction:row-reverse}.login100-more[_ngcontent-%COMP%]{width:50%;background-repeat:no-repeat;background-size:cover;background-position:center;position:relative;z-index:1}.login100-more[_ngcontent-%COMP%]::before{content:"";display:block;position:absolute;z-index:-1;width:100%;height:100%;top:0;left:0;background:rgba(0,0,0,.3)}.login100-form[_ngcontent-%COMP%]{width:50%;display:flex;flex-wrap:wrap;padding:303px 65px 40px}.login100-form-title[_ngcontent-%COMP%]{font-size:20px;color:#555;line-height:1.2;text-transform:uppercase;letter-spacing:2px;text-align:center;width:100%;display:block}.wrap-input100[_ngcontent-%COMP%]{width:100%;position:relative;border:1px solid #e6e6e6}.rs1-wrap-input100[_ngcontent-%COMP%], .rs2-wrap-input100[_ngcontent-%COMP%]{width:50%}.rs2-wrap-input100[_ngcontent-%COMP%]{border-left:none}.input100[_ngcontent-%COMP%]{display:block;width:100%;background:0 0;font-size:14px;color:#666;line-height:1.2;padding:0 25px}input.input100[_ngcontent-%COMP%]{height:55px}.focus-input100[_ngcontent-%COMP%]{position:absolute;display:block;width:calc(100% + 2px);height:calc(100% + 2px);top:-1px;left:-1px;pointer-events:none;border:1px solid #00ad5f;visibility:hidden;opacity:0;transition:all .4s;transform:scaleX(1.1) scaleY(1.3)}.input100[_ngcontent-%COMP%]:focus + .focus-input100[_ngcontent-%COMP%]{visibility:visible;opacity:1;transform:scale(1)}.container-login100-form-btn[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;justify-content:center}.login100-form-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:0 20px;width:100%;height:50px;border-radius:3px;background:#00ad5f;font-size:12px;color:#fff;line-height:1.2;text-transform:uppercase;letter-spacing:1px;transition:all .4s}.login100-form-btn[_ngcontent-%COMP%]:hover{background:#333}@media (max-width:992px){.login100-form[_ngcontent-%COMP%]{width:60%;padding-left:30px;padding-right:30px}.login100-more[_ngcontent-%COMP%]{width:40%}}@media (max-width:768px){.login100-form[_ngcontent-%COMP%], .login100-more[_ngcontent-%COMP%]{width:100%}}@media (max-width:576px){.login100-form[_ngcontent-%COMP%]{padding-left:15px;padding-right:15px;padding-top:150px}.rs1-wrap-input100[_ngcontent-%COMP%], .rs2-wrap-input100[_ngcontent-%COMP%]{width:100%}.rs2-wrap-input100[_ngcontent-%COMP%]{border-left:1px solid #e6e6e6}}.validate-input[_ngcontent-%COMP%]{position:relative}.alert-validate[_ngcontent-%COMP%]::before{content:attr(data-validate);position:absolute;max-width:70%;background-color:#fff;border:1px solid #c80000;border-radius:2px;padding:4px 25px 4px 10px;top:50%;transform:translateY(-50%);right:12px;pointer-events:none;color:#c80000;font-size:13px;line-height:1.4;text-align:left;visibility:hidden;opacity:0;transition:opacity .4s}.alert-validate[_ngcontent-%COMP%]::after{content:"\\f12a";isplay:block;position:absolute;color:#c80000;font-size:16px;top:50%;transform:translateY(-50%);right:18px}.alert-validate[_ngcontent-%COMP%]:hover:before{visibility:visible;opacity:1}@media (max-width:992px){.alert-validate[_ngcontent-%COMP%]::before{visibility:visible;opacity:1}}.datos[_ngcontent-%COMP%]{font-size:13px;padding-top:10px;line-height:1.4;color:#999}.p-t-10[_ngcontent-%COMP%]{padding-top:10px}.p-t-27[_ngcontent-%COMP%]{padding-top:27px}.p-b-239[_ngcontent-%COMP%]{padding-bottom:239px}.m-b-20[_ngcontent-%COMP%]{margin-bottom:20px}.text-white[_ngcontent-%COMP%]{color:#fff}.text-black[_ngcontent-%COMP%]{color:#000}.text-hov-white[_ngcontent-%COMP%]:hover{color:#fff}.text-up[_ngcontent-%COMP%]{text-transform:uppercase}.text-center[_ngcontent-%COMP%]{text-align:center}.text-left[_ngcontent-%COMP%]{text-align:left}.text-right[_ngcontent-%COMP%]{text-align:right}.text-middle[_ngcontent-%COMP%]{vertical-align:middle}.sizefull[_ngcontent-%COMP%]{width:100%;height:100%}.w-full[_ngcontent-%COMP%]{width:100%}.h-full[_ngcontent-%COMP%]{height:100%}.max-w-full[_ngcontent-%COMP%]{max-width:100%}.max-h-full[_ngcontent-%COMP%]{max-height:100%}.min-w-full[_ngcontent-%COMP%]{min-width:100%}.min-h-full[_ngcontent-%COMP%]{min-height:100%}']],data:{}});function cy(t){return Hs(0,[(t()(),Os(0,0,null,null,38,"div",[["class","limiter"]],null,null,null,null,null)),(t()(),Os(1,0,null,null,37,"div",[["class","container-login100"]],null,null,null,null,null)),(t()(),Os(2,0,null,null,36,"div",[["class","wrap-login100"]],null,null,null,null,null)),(t()(),Os(3,0,null,null,0,"div",[["class","login100-more"],["style","background-image: url('./assets/imagenes/register.jpg');"]],null,null,null,null,null)),(t()(),Os(4,0,null,null,34,"form",[["class","login100-form validate-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==bi(t,6).onSubmit(n)&&r),"reset"===e&&(r=!1!==bi(t,6).onReset()&&r),r},null,null)),Ni(5,16384,null,0,Fg,[],null,null),Ni(6,4210688,null,0,Pg,[[8,null],[8,null]],null,null),Ri(2048,null,$f,null,[Pg]),Ni(8,16384,null,0,tg,[[4,$f]],null,null),(t()(),Os(9,0,null,null,9,"div",[["class","wrap-input100 rs1-wrap-input100 validate-input m-b-20"],["data-validate","Type user name"]],null,null,null,null,null)),(t()(),Os(10,0,null,null,7,"input",[["class","input100"],["id","first-name"],["name","uname"],["placeholder","Usuario"],["required",""],["type","text"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==bi(t,11)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==bi(t,11).onTouched()&&r),"compositionstart"===e&&(r=!1!==bi(t,11)._compositionStart()&&r),"compositionend"===e&&(r=!1!==bi(t,11)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.usuario=n)&&r),r},null,null)),Ni(11,16384,null,0,Gf,[Ln,Pn,[2,Kf]],null,null),Ni(12,16384,null,0,jg,[],{required:[0,"required"]},null),Ri(1024,null,ng,function(t){return[t]},[jg]),Ri(1024,null,Hf,function(t){return[t]},[Gf]),Ni(15,671744,null,0,Vg,[[2,$f],[6,ng],[8,null],[6,Hf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ri(2048,null,Jf,null,[Vg]),Ni(17,16384,null,0,Zf,[[4,Jf]],null,null),(t()(),Os(18,0,null,null,0,"span",[["class","focus-input100"]],null,null,null,null,null)),(t()(),Os(19,0,null,null,9,"div",[["class","wrap-input100 rs2-wrap-input100 validate-input m-b-20"],["data-validate","Type password"]],null,null,null,null,null)),(t()(),Os(20,0,null,null,7,"input",[["class","input100"],["name","psw"],["placeholder","Contrase\xf1a"],["required",""],["type","password"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==bi(t,21)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==bi(t,21).onTouched()&&r),"compositionstart"===e&&(r=!1!==bi(t,21)._compositionStart()&&r),"compositionend"===e&&(r=!1!==bi(t,21)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.clave=n)&&r),r},null,null)),Ni(21,16384,null,0,Gf,[Ln,Pn,[2,Kf]],null,null),Ni(22,16384,null,0,jg,[],{required:[0,"required"]},null),Ri(1024,null,ng,function(t){return[t]},[jg]),Ri(1024,null,Hf,function(t){return[t]},[Gf]),Ni(25,671744,null,0,Vg,[[2,$f],[6,ng],[8,null],[6,Hf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ri(2048,null,Jf,null,[Vg]),Ni(27,16384,null,0,Zf,[[4,Jf]],null,null),(t()(),Os(28,0,null,null,0,"span",[["class","focus-input100"]],null,null,null,null,null)),(t()(),Os(29,0,null,null,2,"div",[["class","w-full text-center p-t-27 datos"]],null,null,null,null,null)),(t()(),Os(30,0,null,null,0,"input",[["checked","checked"],["type","checkbox"]],null,null,null,null,null)),(t()(),qs(-1,null,[" Acepto los Terminos y Condiciones "])),(t()(),Os(32,0,null,null,4,"div",[["class","w-full text-center  p-b-239 p-t-10"]],null,null,null,null,null)),(t()(),Os(33,0,null,null,1,"span",[["class","txt1"]],null,null,null,null,null)),(t()(),qs(-1,null,[" \xbfOlvidaste tu "])),(t()(),Os(35,0,null,null,1,"a",[["class","txt2"]],null,null,null,null,null)),(t()(),qs(-1,null,[" usuario/contrase\xf1a? "])),(t()(),Os(37,0,null,null,1,"button",[["class","login100-form-btn"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.Registrar()&&r),r},null,null)),(t()(),qs(-1,null,[" Registrarse "]))],function(t,e){var n=e.component;t(e,12,0,""),t(e,15,0,"uname",n.usuario),t(e,22,0,""),t(e,25,0,"psw",n.clave)},function(t,e){t(e,4,0,bi(e,8).ngClassUntouched,bi(e,8).ngClassTouched,bi(e,8).ngClassPristine,bi(e,8).ngClassDirty,bi(e,8).ngClassValid,bi(e,8).ngClassInvalid,bi(e,8).ngClassPending),t(e,10,0,bi(e,12).required?"":null,bi(e,17).ngClassUntouched,bi(e,17).ngClassTouched,bi(e,17).ngClassPristine,bi(e,17).ngClassDirty,bi(e,17).ngClassValid,bi(e,17).ngClassInvalid,bi(e,17).ngClassPending),t(e,20,0,bi(e,22).required?"":null,bi(e,27).ngClassUntouched,bi(e,27).ngClassTouched,bi(e,27).ngClassPristine,bi(e,27).ngClassDirty,bi(e,27).ngClassValid,bi(e,27).ngClassInvalid,bi(e,27).ngClassPending)})}function hy(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-registro",[],null,null,null,cy,uy)),Ni(1,114688,null,0,ly,[Tf,Nf],null,null)],function(t,e){t(e,1,0)},null)}var dy=li("app-registro",ly,hy,{},{},[]);class py{constructor(){}ngOnInit(){}ver(){console.info(this.listado)}}var fy=Cr({encapsulation:0,styles:[[""]],data:{}});function gy(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),qs(-1,null,["Gano "]))],null,null)}function my(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),qs(-1,null,["Perdio"]))],null,null)}function yy(t){return Hs(0,[(t()(),Os(0,0,null,null,8,"tr",[],null,null,null,null,null)),(t()(),Os(1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),qs(2,null,[""," "])),(t()(),Os(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),qs(4,null,[""," "])),(t()(),xs(16777216,null,null,1,null,gy)),Ni(6,16384,null,0,_l,[rr,er],{ngIf:[0,"ngIf"]},null),(t()(),xs(16777216,null,null,1,null,my)),Ni(8,16384,null,0,_l,[rr,er],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,6,0,e.context.$implicit.gano),t(e,8,0,!e.context.$implicit.gano)},function(t,e){t(e,2,0,e.context.$implicit.nombre),t(e,4,0,e.context.$implicit.jugador)})}function vy(t){return Hs(0,[(t()(),Os(0,0,null,null,11,"table",[["class","table table-condensed"]],null,null,null,null,null)),(t()(),Os(1,0,null,null,7,"thead",[],null,null,null,null,null)),(t()(),Os(2,0,null,null,6,"tr",[],null,null,null,null,null)),(t()(),Os(3,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),qs(-1,null,["Juego"])),(t()(),Os(5,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),qs(-1,null,["Jugador"])),(t()(),Os(7,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),qs(-1,null,["Resultado"])),(t()(),Os(9,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),xs(16777216,null,null,1,null,yy)),Ni(11,278528,null,0,vl,[rr,er,Yn],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,11,0,e.component.listado)},null)}class by{constructor(t,e,n,r){this.nombre="Sin Nombre",this.gano=!1,t&&(this.nombre=t),r&&(this.partidas=r),e&&(this.gano=e),this.jugador=n||"desconocido"}retornarAyuda(){return"NO hay Ayuda definida"}}class _y extends by{constructor(t,e,n){super("Adivina el n\xfamero",e,n),this.numeroSecreto=0,this.numeroIngresado=0}verificar(){return this.numeroIngresado==this.numeroSecreto&&(this.gano=!0),!!this.gano}generarnumero(){this.numeroSecreto=Math.floor(100*Math.random()+1),console.info("numero Secreto:"+this.numeroSecreto),this.gano=!1}retornarAyuda(){return this.numeroIngresado<this.numeroSecreto?"Te falta":"Te pasate"}}function wy(t){return cu(t)(this)}_.prototype.catch=wy,_.prototype._catch=wy,_.prototype.map=function(t,e){return V(t,e)(this)},n("XypG");class Cy{constructor(t){this.http=t}httpGetP(t){return this.http.get(t).toPromise().then(this.extractData).catch(this.handleError)}httpPostP(t,e){return this.http.get(t).subscribe(t=>(console.log(t),t))}httpGetO(t){return this.http.get(t).map(t=>t.json()).catch(t=>_.throw(t.json().error||"Server error"))}extractData(t){return t.json()||{}}handleError(t){return t}}class Sy{constructor(t){this.miHttp=t,this.peticion=this.miHttp.httpGetO("http://localhost:3003")}listar(){this.miHttp.httpGetP("https://restcountries.eu/rest/v2/all").then(t=>{console.log(t)}).catch(t=>{console.log(t)}),this.peticion.subscribe(t=>{console.log("En listar"),console.log(t)},t=>{console.info("error: ",t)});let t=new Array;return t.push(new _y("Juego 1",!1)),t.push(new _y("Pepe",!0)),t.push(new _y("Juego 3",!1)),t.push(new _y("Juego 4",!1)),t.push(new _y("Juego 5",!1)),t.push(new _y("Juego 6",!1)),t}listarPromesa(){return this.peticion.subscribe(t=>{console.log("En listarPromesa"),console.log(t)},t=>{console.log(t)}),new Promise((t,e)=>{let n=new Array;n.push(new _y("JuegoPromesa 1",!1,"promesa")),n.push(new _y("PepePromesa",!0)),n.push(new _y("JuegoPromesa 3",!1)),n.push(new _y("JuegoPromesa 4",!1)),n.push(new _y("JuegoPromesa 5",!1)),n.push(new _y("JuegoPromesa 6",!1)),t(n)})}}class Ey{constructor(t){this.miServicioJuego=t}ngOnInit(){}llamaService(){console.log("llamaService"),this.listadoParaCompartir=this.miServicioJuego.listar()}llamaServicePromesa(){console.log("llamaServicePromesa"),this.miServicioJuego.listarPromesa().then(t=>{this.listadoParaCompartir=t})}}var Ty=Cr({encapsulation:0,styles:[[".fa[_ngcontent-%COMP%]{padding:20px;font-size:30px;width:50px;text-align:center;text-decoration:none;border-radius:50%}.fa[_ngcontent-%COMP%]:hover{opacity:.7}.fa-facebook[_ngcontent-%COMP%]{background:#3b5998;color:#fff}.fa-twitter[_ngcontent-%COMP%]{background:#55acee;color:#fff}"]],data:{}});function Iy(t){return Hs(0,[(t()(),Os(0,0,null,null,13,"ul",[["class","nav nav-pills nav-justified"]],null,null,null,null,null)),(t()(),Os(1,0,null,null,3,"li",[["class","active"]],null,null,null,null,null)),(t()(),Os(2,0,null,null,2,"a",[["routerLink","/Principal"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==bi(t,3).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Ni(3,671744,null,0,gp,[pp,nd,nl],{routerLink:[0,"routerLink"]},null),(t()(),qs(-1,null,["Sala de Juegos"])),(t()(),Os(5,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),Os(6,0,null,null,1,"a",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.llamaService()&&r),r},null,null)),(t()(),qs(-1,null,["Servicio"])),(t()(),Os(8,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),Os(9,0,null,null,1,"a",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.llamaServicePromesa()&&r),r},null,null)),(t()(),qs(-1,null,["Serv Promesa"])),(t()(),Os(11,0,null,null,2,"li",[],null,null,null,null,null)),(t()(),Os(12,0,null,null,1,"a",[],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.llamaServicePromesa()&&r),r},null,null)),(t()(),qs(-1,null,["Serv observable"])),(t()(),Os(14,0,null,null,1,"app-listado-de-resultados",[],null,null,null,vy,fy)),Ni(15,114688,null,0,py,[],{listado:[0,"listado"]},null)],function(t,e){var n=e.component;t(e,3,0,"/Principal"),t(e,15,0,n.listadoParaCompartir)},function(t,e){t(e,2,0,bi(e,3).target,bi(e,3).href)})}function ky(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-listado",[],null,null,null,Iy,Ty)),Ni(1,114688,null,0,Ey,[Sy],null,null)],function(t,e){t(e,1,0)},null)}var xy=li("app-listado",Ey,ky,{},{},[]);class Oy{constructor(t){this.miHttp=t}listar(){return this.miHttp.httpGetP("https://restcountries.eu/rest/v2/all").then(t=>(console.log(t),t)).catch(t=>(console.log(t),null))}}class Ay{constructor(t){this.miServicioDePaises=t}ngOnInit(){this.miServicioDePaises.listar().then(t=>{console.info("listado de paises",t),this.listadoDePaises=t})}}var Py=Cr({encapsulation:0,styles:[[""]],data:{}});function Ny(t){return Hs(0,[(t()(),Os(0,0,null,null,18,"tr",[],null,null,null,null,null)),(t()(),Os(1,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),qs(2,null,[""," "])),(t()(),Os(3,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),qs(4,null,[""," "])),(t()(),Os(5,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),qs(6,null,[""," "])),(t()(),Os(7,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),qs(8,null,[""," "])),(t()(),Os(9,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),qs(10,null,[""," "])),(t()(),Os(11,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),Os(12,0,null,null,0,"img",[["width","50px"]],[[8,"src",4]],null,null,null,null)),(t()(),Os(13,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),qs(14,null,[""," "])),(t()(),Os(15,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),qs(16,null,[""," "])),(t()(),Os(17,0,null,null,1,"td",[],null,null,null,null,null)),(t()(),qs(18,null,[""," "]))],null,function(t,e){t(e,2,0,e.context.$implicit.name),t(e,4,0,e.context.$implicit.region),t(e,6,0,e.context.$implicit.nativeName),t(e,8,0,e.context.$implicit.subregion),t(e,10,0,e.context.$implicit.population),t(e,12,0,$r(1,"",e.context.$implicit.flag,"")),t(e,14,0,e.context.$implicit.capital),t(e,16,0,e.context.$implicit.borders),t(e,18,0,e.context.$implicit.latlng)})}function Dy(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),qs(-1,null,[" Listado de paises\n"])),(t()(),Os(2,0,null,null,21,"table",[["class","table table-condensed"]],null,null,null,null,null)),(t()(),Os(3,0,null,null,17,"thead",[],null,null,null,null,null)),(t()(),Os(4,0,null,null,16,"tr",[],null,null,null,null,null)),(t()(),Os(5,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),qs(-1,null,["Pais"])),(t()(),Os(7,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),qs(-1,null,["Regi\xf3n"])),(t()(),Os(9,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),qs(-1,null,["Nombre local"])),(t()(),Os(11,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),qs(-1,null,["Sub Regi\xf3n"])),(t()(),Os(13,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),qs(-1,null,["Poblaci\xf3n"])),(t()(),Os(15,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),qs(-1,null,["Bandera"])),(t()(),Os(17,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),qs(-1,null,["Capital"])),(t()(),Os(19,0,null,null,1,"th",[],null,null,null,null,null)),(t()(),qs(-1,null,["GPS"])),(t()(),Os(21,0,null,null,2,"tbody",[],null,null,null,null,null)),(t()(),xs(16777216,null,null,1,null,Ny)),Ni(23,278528,null,0,vl,[rr,er,Yn],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,23,0,e.component.listadoDePaises)},null)}function Ry(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-listado-de-paises",[],null,null,null,Dy,Py)),Ni(1,114688,null,0,Ay,[Oy],null,null)],function(t,e){t(e,1,0)},null)}var My=li("app-listado-de-paises",Ay,Ry,{},{},[]);class Ly{constructor(){}ngOnInit(){}}var Vy=Cr({encapsulation:0,styles:[[""]],data:{}});function Fy(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-cabecera",[],null,null,null,xf,kf)),Ni(1,114688,null,0,If,[Tf],null,null),(t()(),Os(2,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Ni(3,212992,null,0,bp,[vp,rr,kn,[8,null],Me],null,null)],function(t,e){t(e,1,0),t(e,3,0)},null)}function jy(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-juegos",[],null,null,null,Fy,Vy)),Ni(1,114688,null,0,Ly,[],null,null)],function(t,e){t(e,1,0)},null)}var Uy=li("app-juegos",Ly,jy,{},{},[]);class By{constructor(t,e){this.route=t,this.router=e}ngOnInit(){}Juego(t){switch(t){case"Adivina":this.router.navigate(["/Juegos/Adivina"]);break;case"Agilidad":this.router.navigate(["/Juegos/Agilidad"]);break;case"Ppt":this.router.navigate(["/Juegos/Ppt"]);break;case"Anagrama":this.router.navigate(["/Juegos/Anagrama"]);break;case"Tateti":this.router.navigate(["/Juegos/Tateti"]);break;case"Simon-dice":this.router.navigate(["/Juegos/Simon"])}}}var qy=Cr({encapsulation:0,styles:[[".hover-nob[_ngcontent-%COMP%]:hover{opacity:.5;cursor:pointer}"]],data:{}});function zy(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-titulo",[["titulo","Elegi alguno de nuestro titulos y juga ahora!"]],null,null,null,Pf,Af)),Ni(1,114688,null,0,Of,[],{titulo:[0,"titulo"]},null),(t()(),Os(2,0,null,null,63,"div",[["class","mobile"]],null,null,null,null,null)),(t()(),Os(3,0,null,null,62,"div",[["class","container"]],null,null,null,null,null)),(t()(),Os(4,0,null,null,30,"div",[["class","row mt-5"]],null,null,null,null,null)),(t()(),Os(5,0,null,null,9,"div",[["class","col-sm-4"]],null,null,null,null,null)),(t()(),Os(6,0,null,null,8,"div",[["class","card text-center mb-4"]],null,null,null,null,null)),(t()(),Os(7,0,null,null,0,"img",[["alt","imagen"],["class","card-img-top"],["src","./assets/imagenes/hnumber.jpg"]],null,null,null,null,null)),(t()(),Os(8,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Os(9,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),qs(-1,null,["Numero secreto"])),(t()(),Os(11,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),qs(-1,null,["Some quick example text to build on the card title and make up the bulk of the card's content."])),(t()(),Os(13,0,null,null,1,"a",[["class","btn btn-primary"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.Juego("Adivina")&&r),r},null,null)),(t()(),qs(-1,null,["Jugar"])),(t()(),Os(15,0,null,null,9,"div",[["class","col-sm-4"]],null,null,null,null,null)),(t()(),Os(16,0,null,null,8,"div",[["class","card text-center mb-4"]],null,null,null,null,null)),(t()(),Os(17,0,null,null,0,"img",[["alt","imagen"],["class","card-img-top"],["src","./assets/imagenes/ppt2.jpg"]],null,null,null,null,null)),(t()(),Os(18,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Os(19,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),qs(-1,null,["Piedra, papel o tijera"])),(t()(),Os(21,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),qs(-1,null,["Some quick example text to build on the card title and make up the bulk of the card's content."])),(t()(),Os(23,0,null,null,1,"a",[["class","btn btn-secondary"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.Juego("Ppt")&&r),r},null,null)),(t()(),qs(-1,null,["Jugar"])),(t()(),Os(25,0,null,null,9,"div",[["class","col-sm-4"]],null,null,null,null,null)),(t()(),Os(26,0,null,null,8,"div",[["class","card text-center mb-4"]],null,null,null,null,null)),(t()(),Os(27,0,null,null,0,"img",[["alt","imagen"],["class","card-img-top"],["src","./assets/imagenes/tateti.jpg"]],null,null,null,null,null)),(t()(),Os(28,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Os(29,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),qs(-1,null,["Tateti"])),(t()(),Os(31,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),qs(-1,null,["Some quick example text to build on the card title and make up the bulk of the card's content."])),(t()(),Os(33,0,null,null,1,"a",[["class","btn btn-success"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.Juego("Tateti")&&r),r},null,null)),(t()(),qs(-1,null,["Jugar"])),(t()(),Os(35,0,null,null,30,"div",[["class","row mb-5"]],null,null,null,null,null)),(t()(),Os(36,0,null,null,9,"div",[["class","col-sm-4"]],null,null,null,null,null)),(t()(),Os(37,0,null,null,8,"div",[["class","card text-center mb-4"]],null,null,null,null,null)),(t()(),Os(38,0,null,null,0,"img",[["alt","imagen"],["class","card-img-top"],["src","./assets/imagenes/operaciones.jpg"]],null,null,null,null,null)),(t()(),Os(39,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Os(40,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),qs(-1,null,["Operaciones matematicas"])),(t()(),Os(42,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),qs(-1,null,["Some quick example text to build on the card title and make up the bulk of the card's content."])),(t()(),Os(44,0,null,null,1,"a",[["class","btn btn-danger"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.Juego("Agilidad")&&r),r},null,null)),(t()(),qs(-1,null,["Jugar"])),(t()(),Os(46,0,null,null,9,"div",[["class","col-sm-4"]],null,null,null,null,null)),(t()(),Os(47,0,null,null,8,"div",[["class","card text-center mb-4"]],null,null,null,null,null)),(t()(),Os(48,0,null,null,0,"img",[["alt","imagen"],["class","card-img-top"],["src","./assets/imagenes/anagram.jpg"]],null,null,null,null,null)),(t()(),Os(49,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Os(50,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),qs(-1,null,["Anagrama"])),(t()(),Os(52,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),qs(-1,null,["Some quick example text to build on the card title and make up the bulk of the card's content."])),(t()(),Os(54,0,null,null,1,"a",[["class","btn btn-warning"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.Juego("Anagrama")&&r),r},null,null)),(t()(),qs(-1,null,["Jugar"])),(t()(),Os(56,0,null,null,9,"div",[["class","col-sm-4"]],null,null,null,null,null)),(t()(),Os(57,0,null,null,8,"div",[["class","card text-center mb-4"]],null,null,null,null,null)),(t()(),Os(58,0,null,null,0,"img",[["alt","imagen"],["class","card-img-top"],["src","./assets/imagenes/simons.jpg"]],null,null,null,null,null)),(t()(),Os(59,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Os(60,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),qs(-1,null,["Simon dice"])),(t()(),Os(62,0,null,null,1,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),qs(-1,null,["Some quick example text to build on the card title and make up the bulk of the card's content."])),(t()(),Os(64,0,null,null,1,"a",[["class","btn btn-info"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.Juego("Simon-dice")&&r),r},null,null)),(t()(),qs(-1,null,["Jugar"]))],function(t,e){t(e,1,0,"Elegi alguno de nuestro titulos y juga ahora!")},null)}function Wy(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-menu-card",[],null,null,null,zy,qy)),Ni(1,114688,null,0,By,[nd,pp],null,null)],function(t,e){t(e,1,0)},null)}var Hy=li("app-menu-card",By,Wy,{},{},[]);class Ky{constructor(){this.enviarJuego=new ro,this.nuevoJuego=new _y,console.info("numero Secreto:",this.nuevoJuego.numeroSecreto),this.ocultarVerificar=!1}generarnumero(){this.nuevoJuego.generarnumero(),this.contador=0}verificar(){if(this.contador++,this.ocultarVerificar=!0,console.info("numero Secreto:",this.nuevoJuego.gano),this.nuevoJuego.verificar())this.enviarJuego.emit(this.nuevoJuego),this.MostarMensaje("GANASTE!",!0),this.nuevoJuego.numeroSecreto=0;else{let t;switch(this.contador){case 1:t="No, intento fallido, animo";break;case 2:t="No,te estaras acercando?";break;case 3:t="No es, crei que la tercera era la vencida.";break;case 4:t="No es el  "+this.nuevoJuego.numeroIngresado;break;case 5:t="Perdiste, se te acabaron los intentos";break;case 6:t="Afortunado en el amor...";break;default:t="Ya le erraste "+this.contador+" veces"}this.contador<5?this.MostarMensaje("#"+this.contador+": "+t+", Tip :"+this.nuevoJuego.retornarAyuda()):(this.MostarMensaje("#"+this.contador+": "+t),this.enviarJuego.emit(this.nuevoJuego),this.nuevoJuego.numeroSecreto=0),console.info("numero Secreto:",this.nuevoJuego.gano)}}MostarMensaje(t="este es el mensaje",e=!1){this.Mensajes=t;var n=document.getElementById("snackbar");n.className=e?"show Ganador":"show Perdedor";var r=this;setTimeout(function(){n.className=n.className.replace("show",""),r.ocultarVerificar=!1},3e3),console.info("objeto",n)}ngOnInit(){this.contador=0}}var Gy=Cr({encapsulation:0,styles:[["form[_ngcontent-%COMP%]{border:10px solid #f1f1f1;padding:10px;background:gray}input[type=password][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{width:100%;padding:12px 20px;margin:8px 0;display:inline-block;border:1px solid #ccc;box-sizing:border-box}button[_ngcontent-%COMP%]{color:#fff;padding:14px 20px;margin:8px 0;border:none;cursor:pointer}button[_ngcontent-%COMP%]:hover{opacity:.8}.cancelbtn[_ngcontent-%COMP%]{width:auto;padding:10px 18px;background-color:#f44336}.aceptbtn[_ngcontent-%COMP%]{width:auto;padding:10px 18px;background-color:#3664f4}.imgcontainer[_ngcontent-%COMP%]{text-align:center;margin:24px 0 12px}img.avatar[_ngcontent-%COMP%]{width:40%;border-radius:50%}span.psw[_ngcontent-%COMP%]{float:right;padding-top:16px}@media screen and (max-width:300px){span.psw[_ngcontent-%COMP%]{display:block;float:none}.cancelbtn[_ngcontent-%COMP%]{width:100%}}#snackbar[_ngcontent-%COMP%]{position:relative;background:#8080ff;border-radius:.4em;visibility:hidden;color:#fff;text-align:center;padding:16px;z-index:1;font-size:17px;width:100%;margin:0 auto 20px}#snackbar[_ngcontent-%COMP%]:after{content:'';position:absolute;bottom:0;left:50%;width:0;height:0;border:20px solid transparent;border-top-color:#8080ff;border-bottom:0;margin-left:-20px;margin-bottom:-20px}#snackbar.show[_ngcontent-%COMP%]{visibility:visible;-webkit-animation:.5s fadein,.5s 2.5s fadeout;animation:.5s fadein,.5s 2.5s fadeout}@-webkit-keyframes fadein{from{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@keyframes fadein{from{bottom:0;opacity:0}to{bottom:30px;opacity:1}}@-webkit-keyframes fadeout{from{bottom:30px;opacity:1}to{bottom:0;opacity:0}}@keyframes fadeout{from{bottom:30px;opacity:1}to{bottom:0;opacity:0}}.imagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;margin-bottom:-25px}.card-text[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700}"]],data:{}});function Qy(t){return Hs(0,[(t()(),Os(0,0,null,null,4,"p",[["class","card-text"]],null,null,null,null,null)),(t()(),qs(-1,null,["Recuerda que te quedan "])),(t()(),Os(2,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),qs(3,null,["",""])),(t()(),qs(-1,null,[" intentos, asi que elige con cuidado."]))],null,function(t,e){t(e,3,0,5-e.component.contador)})}function $y(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"button",[["class","btn btn-success btn-lg"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.verificar()&&r),r},null,null)),(t()(),qs(-1,null,["Verificar"]))],null,null)}function Yy(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"button",[["class","btn btn-info btn-lg"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.generarnumero()&&r),r},null,null)),(t()(),qs(-1,null,["Jugar"]))],null,null)}function Jy(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-titulo",[["titulo","Adivina el numero secreto en 5 intentos o menos."]],null,null,null,Pf,Af)),Ni(1,114688,null,0,Of,[],{titulo:[0,"titulo"]},null),(t()(),Os(2,0,null,null,24,"div",[["class","container"]],null,null,null,null,null)),(t()(),Os(3,0,null,null,23,"div",[["class","offset-md-2 col-md-8 text-center"]],null,null,null,null,null)),(t()(),Os(4,0,null,null,1,"div",[["class","speech-bubble"],["id","snackbar"]],null,null,null,null,null)),(t()(),qs(5,null,["",""])),(t()(),Os(6,0,null,null,1,"div",[["class","imagen animated fadeInUp"]],null,null,null,null,null)),(t()(),Os(7,0,null,null,0,"img",[["alt",""],["src","./assets/imagenes/professor.png"]],null,null,null,null,null)),(t()(),Os(8,0,null,null,18,"div",[["class","card text-center"]],null,null,null,null,null)),(t()(),Os(9,0,null,null,4,"div",[["class","card-header"]],null,null,null,null,null)),(t()(),Os(10,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(t()(),qs(-1,null,["Ingresa tu numero"])),(t()(),xs(16777216,null,null,1,null,Qy)),Ni(13,16384,null,0,_l,[rr,er],{ngIf:[0,"ngIf"]},null),(t()(),Os(14,0,null,null,12,"div",[["class","card-body"]],null,null,null,null,null)),(t()(),Os(15,0,null,null,5,"input",[["class","form-control text-center display-2"],["name","numeroIngresado"],["placeholder","?"],["style","width:35%; height:80px; font-size:40px;"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==bi(t,16)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==bi(t,16).onTouched()&&r),"compositionstart"===e&&(r=!1!==bi(t,16)._compositionStart()&&r),"compositionend"===e&&(r=!1!==bi(t,16)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.nuevoJuego.numeroIngresado=n)&&r),r},null,null)),Ni(16,16384,null,0,Gf,[Ln,Pn,[2,Kf]],null,null),Ri(1024,null,Hf,function(t){return[t]},[Gf]),Ni(18,671744,null,0,Vg,[[8,null],[8,null],[8,null],[6,Hf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ri(2048,null,Jf,null,[Vg]),Ni(20,16384,null,0,Zf,[[4,Jf]],null,null),(t()(),Os(21,0,null,null,2,"h2",[],[[8,"hidden",0]],null,null,null,null)),(t()(),xs(16777216,null,null,1,null,$y)),Ni(23,16384,null,0,_l,[rr,er],{ngIf:[0,"ngIf"]},null),(t()(),Os(24,0,null,null,2,"h2",[],null,null,null,null,null)),(t()(),xs(16777216,null,null,1,null,Yy)),Ni(26,16384,null,0,_l,[rr,er],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,"Adivina el numero secreto en 5 intentos o menos."),t(e,13,0,0!=n.nuevoJuego.numeroSecreto),t(e,18,0,"numeroIngresado",n.nuevoJuego.numeroIngresado),t(e,23,0,0!=n.nuevoJuego.numeroSecreto),t(e,26,0,0==n.nuevoJuego.numeroSecreto)},function(t,e){var n=e.component;t(e,5,0,n.Mensajes),t(e,15,0,bi(e,20).ngClassUntouched,bi(e,20).ngClassTouched,bi(e,20).ngClassPristine,bi(e,20).ngClassDirty,bi(e,20).ngClassValid,bi(e,20).ngClassInvalid,bi(e,20).ngClassPending),t(e,21,0,n.ocultarVerificar)})}function Xy(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-adivina-el-numero",[],null,null,null,Jy,Gy)),Ni(1,114688,null,0,Ky,[],null,null)],function(t,e){t(e,1,0)},null)}var Zy=li("app-adivina-el-numero",Ky,Xy,{},{enviarJuego:"enviarJuego"},[]);class tv{constructor(){this.listadoParaCompartir=new Array}ngOnInit(){}tomarJuegoTerminado(t){this.listadoParaCompartir.push(t)}}var ev=Cr({encapsulation:0,styles:[[""]],data:{}});function nv(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-adivina-el-numero",[],null,[[null,"enviarJuego"]],function(t,e,n){var r=!0;return"enviarJuego"===e&&(r=!1!==t.component.tomarJuegoTerminado(n)&&r),r},Jy,Gy)),Ni(1,114688,null,0,Ky,[],null,{enviarJuego:"enviarJuego"}),(t()(),Os(2,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),qs(-1,null,[" listado "])),(t()(),Os(4,0,null,null,1,"app-listado-de-resultados",[],null,null,null,vy,fy)),Ni(5,114688,null,0,py,[],{listado:[0,"listado"]},null)],function(t,e){var n=e.component;t(e,1,0),t(e,5,0,n.listadoParaCompartir)},null)}function rv(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-adivina-mas-listado",[],null,null,null,nv,ev)),Ni(1,114688,null,0,tv,[],null,null)],function(t,e){t(e,1,0)},null)}var iv=li("app-adivina-mas-listado",tv,rv,{},{},[]);const ov=new Fn("8.1.4");function sv(t){return null!=t&&"false"!==`${t}`}function av(t){return Array.isArray(t)?t:[t]}function lv(t){return null==t?"":"string"==typeof t?t:`${t}px`}function uv(t){return t instanceof Pn?t.nativeElement:t}let cv;try{cv="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(GI){cv=!1}let hv,dv=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?this._platformId===Rl:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!cv)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.ngInjectableDef=mt({factory:function(){return new t(Ut(wo,8))},token:t,providedIn:"root"}),t})();class pv{}function fv(t){return function(){if(null==hv&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>hv=!0}))}finally{hv=hv||!1}return hv}()?t:!!t.capture}function gv(t,e=qg){return n=>n.lift(new mv(t,e))}class mv{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new yv(t,this.dueTime,this.scheduler))}}class yv extends f{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(vv,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function vv(t){t.debouncedNext()}const bv=new xt("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),_v=new xt("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let wv=(()=>{class t{constructor(t,e,n,r){this._ngZone=e,this._defaultOptions=r,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let r,i;return 1===e.length&&"number"==typeof e[0]?i=e[0]:[r,i]=e,this.clear(),clearTimeout(this._previousTimeout),r||(r=n&&n.politeness?n.politeness:"polite"),null==i&&n&&(i=n.duration),this._liveElement.setAttribute("aria-live",r),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof i&&(this._previousTimeout=setTimeout(()=>this.clear(),i))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}return t.ngInjectableDef=mt({factory:function(){return new t(Ut(bv,8),Ut(Bo),Ut(Dl),Ut(_v,8))},token:t,providedIn:"root"}),t})();const Cv=650,Sv=fv({passive:!0,capture:!0});let Ev=(()=>{class t{constructor(t,e){this._ngZone=t,this._platform=e,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=()=>{this._lastTouchTarget||this._setOriginForCurrentEventQueue("mouse")},this._documentTouchstartListener=t=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=t.target,this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,Cv)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)}}monitor(t,e=!1){if(!this._platform.isBrowser)return jl(null);const n=uv(t);if(this._elementInfo.has(n)){let t=this._elementInfo.get(n);return t.checkChildren=e,t.subject.asObservable()}let r={unlisten:()=>{},checkChildren:e,subject:new T};this._elementInfo.set(n,r),this._incrementMonitoredElementCount();let i=t=>this._onFocus(t,n),o=t=>this._onBlur(t,n);return this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",i,!0),n.addEventListener("blur",o,!0)}),r.unlisten=()=>{n.removeEventListener("focus",i,!0),n.removeEventListener("blur",o,!0)},r.subject.asObservable()}stopMonitoring(t){const e=uv(t),n=this._elementInfo.get(e);n&&(n.unlisten(),n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._decrementMonitoredElementCount())}focusVia(t,e,n){const r=uv(t);this._setOriginForCurrentEventQueue(e),"function"==typeof r.focus&&r.focus(n)}ngOnDestroy(){this._elementInfo.forEach((t,e)=>this.stopMonitoring(e))}_toggleClass(t,e,n){n?t.classList.add(e):t.classList.remove(e)}_setClasses(t,e){this._elementInfo.get(t)&&(this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e))}_setOriginForCurrentEventQueue(t){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originTimeoutId=setTimeout(()=>this._origin=null,1)})}_wasCausedByTouch(t){let e=t.target;return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}_onFocus(t,e){const n=this._elementInfo.get(e);if(!n||!n.checkChildren&&e!==t.target)return;let r=this._origin;r||(r=this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"),this._setClasses(e,r),this._emitOrigin(n.subject,r),this._lastFocusOrigin=r}_onBlur(t,e){const n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}_emitOrigin(t,e){this._ngZone.run(()=>t.next(e))}_incrementMonitoredElementCount(){1==++this._monitoredElementCount&&this._platform.isBrowser&&this._ngZone.runOutsideAngular(()=>{document.addEventListener("keydown",this._documentKeydownListener,Sv),document.addEventListener("mousedown",this._documentMousedownListener,Sv),document.addEventListener("touchstart",this._documentTouchstartListener,Sv),window.addEventListener("focus",this._windowFocusListener)})}_decrementMonitoredElementCount(){--this._monitoredElementCount||(document.removeEventListener("keydown",this._documentKeydownListener,Sv),document.removeEventListener("mousedown",this._documentMousedownListener,Sv),document.removeEventListener("touchstart",this._documentTouchstartListener,Sv),window.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId))}}return t.ngInjectableDef=mt({factory:function(){return new t(Ut(Bo),Ut(dv))},token:t,providedIn:"root"}),t})();const Tv=new Fn("8.1.4"),Iv=new xt("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});class kv{constructor(t,e){this._sanityChecksEnabled=t,this._hammerLoader=e,this._hasDoneGlobalChecks=!1,this._hasCheckedHammer=!1,this._document="object"==typeof document&&document?document:null,this._window="object"==typeof window&&window?window:null,this._areChecksEnabled()&&!this._hasDoneGlobalChecks&&(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_areChecksEnabled(){return this._sanityChecksEnabled&&ae()&&!this._isTestEnv()}_isTestEnv(){const t=this._window;return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._document&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._document||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){Tv.full!==ov.full&&console.warn("The Angular Material version ("+Tv.full+") does not match the Angular CDK version ("+ov.full+").\nPlease ensure the versions of these two packages exactly match.")}_checkHammerIsAvailable(){!this._hasCheckedHammer&&this._window&&(!this._areChecksEnabled()||this._window.Hammer||this._hammerLoader||console.warn("Could not find HammerJS. Certain Angular Material components may not work correctly."),this._hasCheckedHammer=!0)}}function xv(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=sv(t)}}}function Ov(t,e){return class extends t{get color(){return this._color}set color(t){const n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}constructor(...t){super(...t),this.color=e}}}function Av(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=sv(t)}}}let Pv;try{Pv="undefined"!=typeof Intl}catch(GI){Pv=!1}const Nv=function(){var t={FADING_IN:0,VISIBLE:1,FADING_OUT:2,HIDDEN:3};return t[t.FADING_IN]="FADING_IN",t[t.VISIBLE]="VISIBLE",t[t.FADING_OUT]="FADING_OUT",t[t.HIDDEN]="HIDDEN",t}();class Dv{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=Nv.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}}const Rv={enterDuration:450,exitDuration:400},Mv=800,Lv=fv({passive:!0});class Vv{constructor(t,e,n,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._triggerEvents=new Map,this._activeRipples=new Set,this._onMousedown=t=>{const e=function(t){return 0===t.buttons}(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Mv;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))},this._onTouchStart=t=>{if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}},this._onPointerUp=()=>{this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(t.state===Nv.VISIBLE||t.config.terminateOnPointerUp&&t.state===Nv.FADING_IN)&&t.fadeOut()}))},r.isBrowser&&(this._containerElement=n.nativeElement,this._triggerEvents.set("mousedown",this._onMousedown).set("mouseup",this._onPointerUp).set("mouseleave",this._onPointerUp).set("touchstart",this._onTouchStart).set("touchend",this._onPointerUp).set("touchcancel",this._onPointerUp))}fadeInRipple(t,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),i=Object.assign({},Rv,n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const o=n.radius||function(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(t,e,r),s=t-r.left,a=e-r.top,l=i.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=`${s-o}px`,u.style.top=`${a-o}px`,u.style.height=`${2*o}px`,u.style.width=`${2*o}px`,u.style.backgroundColor=n.color||null,u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u),window.getComputedStyle(u).getPropertyValue("opacity"),u.style.transform="scale(1)";const c=new Dv(this,u,n);return c.state=Nv.FADING_IN,this._activeRipples.add(c),n.persistent||(this._mostRecentTransientRipple=c),this._runTimeoutOutsideZone(()=>{const t=c===this._mostRecentTransientRipple;c.state=Nv.VISIBLE,n.persistent||t&&this._isPointerDown||c.fadeOut()},l),c}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,r=Object.assign({},Rv,t.config.animation);n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",t.state=Nv.FADING_OUT,this._runTimeoutOutsideZone(()=>{t.state=Nv.HIDDEN,n.parentNode.removeChild(n)},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){t&&t!==this._triggerElement&&(this._removeTriggerEvents(),this._ngZone.runOutsideAngular(()=>{this._triggerEvents.forEach((e,n)=>{t.addEventListener(n,e,Lv)})}),this._triggerElement=t)}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_removeTriggerEvents(){this._triggerElement&&this._triggerEvents.forEach((t,e)=>{this._triggerElement.removeEventListener(e,t,Lv)})}}const Fv=new xt("mat-ripple-global-options");class jv{constructor(t,e,n,r,i){this._elementRef=t,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new Vv(this,e,t,n),"NoopAnimations"===i&&(this._globalOptions.animation={enterDuration:0,exitDuration:0})}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign({},this._globalOptions.animation,this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign({},this.rippleConfig,n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign({},this.rippleConfig,t))}}class Uv{}const Bv="accent",qv=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class zv{constructor(t){this._elementRef=t}}const Wv=Ov(xv(Av(zv)));class Hv extends Wv{constructor(t,e,n){super(t),this._focusMonitor=e,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const r of qv)this._hasHostAttributes(r)&&this._getHostElement().classList.add(r);t.nativeElement.classList.add("mat-button-base"),this._focusMonitor.monitor(this._elementRef,!0),this.isRoundButton&&(this.color=Bv)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,e){this._getHostElement().focus(e)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}class Kv{}const Gv=new xt("cdk-dir-doc",{providedIn:"root",factory:function(){return Bt(Dl)}});let Qv=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new ro,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.ngInjectableDef=mt({factory:function(){return new t(Ut(Gv,8))},token:t,providedIn:"root"}),t})();class $v{}class Yv{}class Jv{}const Xv="*";function Zv(t,e=null){return{type:2,steps:t,options:e}}function tb(t){return{type:6,styles:t,offset:null}}function eb(t){Promise.resolve(null).then(t)}class nb{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){eb(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class rb{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?eb(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const ib="!";function ob(){return"undefined"!=typeof process}function sb(t){switch(t.length){case 0:return new nb;case 1:return t[0];default:return new rb(t)}}function ab(t,e,n,r,i={},o={}){const s=[],a=[];let l=-1,u=null;if(r.forEach(t=>{const n=t.offset,r=n==l,c=r&&u||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,s),a){case ib:a=i[n];break;case Xv:a=o[n];break;default:a=e.normalizeStyleValue(n,r,a,s)}c[r]=a}),r||a.push(c),u=c,l=n}),s.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${s.join(t)}`)}return a}function lb(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&ub(n,"start",t)));break;case"done":t.onDone(()=>r(n&&ub(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&ub(n,"destroy",t)))}}function ub(t,e,n){const r=n.totalTime,i=cb(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),o=t._data;return null!=o&&(i._data=o),i}function cb(t,e,n,r,i="",o=0,s){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function hb(t,e,n){let r;return t instanceof Map?(r=t.get(e))||t.set(e,r=n):(r=t[e])||(r=t[e]=n),r}function db(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let pb=(t,e)=>!1,fb=(t,e)=>!1,gb=(t,e,n)=>[];const mb=ob();(mb||"undefined"!=typeof Element)&&(pb=(t,e)=>t.contains(e),fb=(()=>{if(mb||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):fb}})(),gb=(t,e,n)=>{let r=[];if(n)r.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&r.push(n)}return r});let yb=null,vb=!1;function bb(t){yb||(yb=("undefined"!=typeof document?document.body:null)||{},vb=!!yb.style&&"WebkitAppearance"in yb.style);let e=!0;return yb.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&!(e=t in yb.style)&&vb&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in yb.style),e}const _b=fb,wb=pb,Cb=gb;function Sb(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}class Eb{validateStyleProperty(t){return bb(t)}matchesElement(t,e){return _b(t,e)}containsElement(t,e){return wb(t,e)}query(t,e,n){return Cb(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,o=[],s){return new nb(n,r)}}let Tb=(()=>{class t{}return t.NOOP=new Eb,t})();const Ib=1e3,kb="{{",xb="ng-enter",Ob="ng-leave",Ab="ng-trigger",Pb=".ng-trigger",Nb="ng-animating",Db=".ng-animating";function Rb(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Mb(parseFloat(e[1]),e[2])}function Mb(t,e){switch(e){case"s":return t*Ib;default:return t}}function Lb(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,o="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=Mb(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=Mb(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=t;if(!n){let n=!1,o=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(o,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:o}}(t,e,n)}function Vb(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Fb(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else Vb(t,n);return n}function jb(t,e,n){return n?e+":"+n+";":""}function Ub(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=jb(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=jb(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function Bb(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=$b(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),ob()&&Ub(t))}function qb(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=$b(e);t.style[n]=""}),ob()&&Ub(t))}function zb(t){return Array.isArray(t)?1==t.length?t[0]:Zv(t):t}const Wb=new RegExp(`${kb}\\s*(.+?)\\s*}}`,"g");function Hb(t){let e=[];if("string"==typeof t){const n=t.toString();let r;for(;r=Wb.exec(n);)e.push(r[1]);Wb.lastIndex=0}return e}function Kb(t,e,n){const r=t.toString(),i=r.replace(Wb,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function Gb(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Qb=/-+([a-z0-9])/g;function $b(t){return t.replace(Qb,(...t)=>t[1].toUpperCase())}function Yb(t,e){return 0===t||0===e}function Jb(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let o=e[0],s=[];if(r.forEach(t=>{o.hasOwnProperty(t)||s.push(t),o[t]=n[t]}),s.length)for(var i=1;i<e.length;i++){let n=e[i];s.forEach(function(e){n[e]=Zb(t,e)})}}return e}function Xb(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Zb(t,e){return window.getComputedStyle(t)[e]}const t_="*";function e_(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>(function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],o=r[2],s=r[3];e.push(i_(i,s)),"<"!=o[0]||i==t_&&s==t_||e.push(i_(s,i))})(t,n,e)):n.push(t),n}const n_=new Set(["true","1"]),r_=new Set(["false","0"]);function i_(t,e){const n=n_.has(t)||r_.has(t),r=n_.has(e)||r_.has(e);return(i,o)=>{let s=t==t_||t==i,a=e==t_||e==o;return!s&&n&&"boolean"==typeof i&&(s=i?n_.has(t):r_.has(t)),!a&&r&&"boolean"==typeof o&&(a=o?n_.has(e):r_.has(e)),s&&a}}const o_=":self",s_=new RegExp(`s*${o_}s*,?`,"g");function a_(t,e,n){return new u_(t).build(e,n)}const l_="";class u_{constructor(t){this._driver=t}build(t,e){const n=new c_(e);return this._resetContextStyleTimingState(n),Xb(this,zb(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector=l_,t.collectedStyles={},t.collectedStyles[l_]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],o=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,o.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(t=>{if(h_(t)){const e=t;Object.keys(e).forEach(t=>{Hb(e[t]).forEach(t=>{o.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=Gb(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Xb(this,zb(t.animation),e);return{type:1,matchers:e_(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:d_(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Xb(this,t,e)),options:d_(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=Xb(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:d_(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return p_(Lb(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=p_(0,0,"");return t.dynamic=!0,t.strValue=r,t}return p_((n=n||Lb(r,e)).duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:tb({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,o=!1;if(!i){o=!0;const t={};n.easing&&(t.easing=n.easing),i=tb(t)}e.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,e);s.isEmptyStep=o,r=s}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==Xv?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(h_(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf(kb)>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=e.collectedStyles[e.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),e.options&&function(r,i,o){const s=e.options.params||{},a=Hb(t[n]);a.length&&a.forEach(t=>{s.hasOwnProperty(t)||o.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(0,0,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(h_(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(h_(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),u=0;return null!=l&&(r++,u=n.offset=l),s=s||u<0||u>1,o=o||u<a,a=u,i.push(u),n});s&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&e.errors.push("Please ensure that all keyframe offsets are in order");const u=t.steps.length;let c=0;r>0&&r<u?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(c=1/(u-1));const h=u-1,d=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return l.forEach((t,r)=>{const o=c>0?r==h?1:c*r:i[r],s=o*f;e.currentTime=d+p.delay+s,p.duration=s,this._validateStyleAst(t,e),t.offset=o,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Xb(this,zb(t.animation),e),options:d_(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:d_(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:d_(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,o]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>t==o_);return e&&(t=t.replace(s_,"")),[t=t.replace(/@\*/g,Pb).replace(/@\w+/g,t=>Pb+"-"+t.substr(1)).replace(/:animating/g,Db),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,hb(e.collectedStyles,e.currentQuerySelector,{});const s=Xb(this,zb(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:t.selector,options:d_(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:Lb(t.timings,e.errors,!0);return{type:12,animation:Xb(this,zb(t.animation),e),timings:n,options:null}}}class c_{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function h_(t){return!Array.isArray(t)&&"object"==typeof t}function d_(t){var e;return t?(t=Vb(t)).params&&(t.params=(e=t.params)?Vb(e):null):t={},t}function p_(t,e,n){return{duration:t,delay:e,easing:n}}function f_(t,e,n,r,i,o,s=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class g_{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const m_=1,y_=new RegExp(":enter","g"),v_=new RegExp(":leave","g");function b_(t,e,n,r,i,o={},s={},a,l,u=[]){return(new __).buildKeyframes(t,e,n,r,i,o,s,a,l,u)}class __{buildKeyframes(t,e,n,r,i,o,s,a,l,u=[]){l=l||new g_;const c=new C_(t,e,l,r,i,u,[]);c.options=a,c.currentTimeline.setStyles([o],null,c.errors,a),Xb(this,n,c);const h=c.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(s).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([s],null,c.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[f_(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?Rb(n.duration):null,o=null!=n.delay?Rb(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),Xb(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&((r=e.createSubContext(i)).transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=w_);const t=Rb(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Xb(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?Rb(t.options.delay):0;t.steps.forEach(o=>{const s=e.createSubContext(t.options);i&&s.delayNextStep(i),Xb(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return Lb(e.params?Kb(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(t=>{o.forwardTime((t.offset||0)*i),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?Rb(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=w_);let o=n;const s=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{e.currentQueryIndex=r;const s=e.createSubContext(t.options,n);i&&s.delayNextStep(i),n===e.element&&(a=s.currentTimeline),Xb(this,t.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(o),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,o=Math.abs(i.duration),s=o*(e.currentQueryTotal-1);let a=o*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const u=l.currentTime;Xb(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-u+(r.startTime-n.currentTimeline.startTime)}}const w_={};class C_{constructor(t,e,n,r,i,o,s,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=w_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new S_(this._driver,e,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=Rb(n.duration)),null!=n.delay&&(r.delay=Rb(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Kb(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new C_(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=w_,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new E_(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,o){let s=[];if(r&&s.push(this.element),t.length>0){t=(t=t.replace(y_,"."+this._enterClassName)).replace(v_,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),s.push(...e)}return i||0!=s.length||o.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),s}}class S_{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new S_(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=m_,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Xv,this._currentKeyframe[t]=Xv}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},o=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e)).forEach(t=>{n[t]=Xv}):Fb(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(o).forEach(t=>{const e=Kb(o[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:Xv),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=Fb(i,!0);Object.keys(s).forEach(n=>{const r=s[n];r==ib?t.add(n):r==Xv&&e.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=t.size?Gb(t.values()):[],o=e.size?Gb(e.values()):[];if(n){const t=r[0],e=Vb(t);t.offset=0,e.offset=1,r=[t,e]}return f_(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class E_ extends S_{constructor(t,e,n,r,i,o,s=!1){super(t,e,o.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],o=n+e,s=e/o,a=Fb(t[0],!1);a.offset=0,i.push(a);const l=Fb(t[0],!1);l.offset=T_(s),i.push(l);const u=t.length-1;for(let r=1;r<=u;r++){let s=Fb(t[r],!1);s.offset=T_((e+s.offset*n)/o),i.push(s)}n=o,e=0,r="",t=i}return f_(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function T_(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class I_{}class k_ extends I_{normalizePropertyName(t,e){return $b(t)}normalizeStyleValue(t,e,n,r){let i="";const o=n.toString().trim();if(x_[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return o+i}}const x_=(()=>(function(t){const e={};return t.forEach(t=>e[t]=!0),e})("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function O_(t,e,n,r,i,o,s,a,l,u,c,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:l,preStyleProps:u,postStyleProps:c,totalTime:h,errors:d}}const A_={};class P_{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],o=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):o}build(t,e,n,r,i,o,s,a,l,u){const c=[],h=this.ast.options&&this.ast.options.params||A_,d=this.buildStyles(n,s&&s.params||A_,c),p=a&&a.params||A_,f=this.buildStyles(r,p,c),g=new Set,m=new Map,y=new Map,v="void"===r,b={params:Object.assign({},h,p)},_=u?[]:b_(t,e,this.ast.animation,i,o,d,f,b,l,c);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),c.length)return O_(e,this._triggerName,n,r,v,d,f,[],[],m,y,w,c);_.forEach(t=>{const n=t.element,r=hb(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=hb(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const C=Gb(g.values());return O_(e,this._triggerName,n,r,v,d,f,_,C,m,y,w)}}class N_{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=Vb(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let o=i[t];o.length>1&&(o=Kb(o,r,e)),n[t]=o})}}),n}}class D_{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new N_(t.style,t.options&&t.options.params||{})}),R_(this.states,"true","1"),R_(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new P_(t,e,this.states))}),this.fallbackTransition=new P_(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function R_(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const M_=new g_;class L_{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=a_(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=ab(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let o;const s=new Map;if(i?(o=b_(this._driver,e,i,xb,Ob,{},{},n,M_,r)).forEach(t=>{const e=hb(s,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)}):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);s.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,Xv)})});const a=sb(o.map(t=>{const e=s.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=cb(e,"","","");return lb(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const V_="ng-animate-queued",F_=".ng-animate-queued",j_="ng-animate-disabled",U_=".ng-animate-disabled",B_="ng-star-inserted",q_=".ng-star-inserted",z_=[],W_={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},H_={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},K_="__ng_removed";class G_{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=function(t){return null!=t?t:null}(n?t.value:t),n){const e=Vb(t);delete e.value,this.options=e}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Q_="void",$_=new G_(Q_);class Y_{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,iw(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const o=hb(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};o.push(s);const a=hb(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(iw(t,Ab),iw(t,Ab+"-"+e),a[e]=$_),()=>{this._engine.afterFlush(()=>{const t=o.indexOf(s);t>=0&&o.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),o=new X_(this.id,e,t);let s=this._engine.statesByElement.get(t);s||(iw(t,Ab),iw(t,Ab+"-"+e),this._engine.statesByElement.set(t,s={}));let a=s[e];const l=new G_(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),s[e]=l,a||(a=$_),l.value!==Q_&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,l.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{qb(t,n),Bb(t,r)})}return}const u=hb(this._engine.playersByElement,t,[]);u.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let c=i.matchTransition(a.value,l.value,t,l.params),h=!1;if(!c){if(!r)return;c=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:c,fromState:a,toState:l,player:o,isFallbackTransition:h}),h||(iw(t,V_),o.onStart(()=>{ow(t,V_)})),o.onDone(()=>{let e=this.players.indexOf(o);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(o);t>=0&&n.splice(t,1)}}),this.players.push(o),u.push(o),o}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e,n=!1){this._engine.driver.query(t,Pb,!0).forEach(t=>{if(t[K_])return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)})}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const o=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,Q_,r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&sb(o).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,o=this._engine.statesByElement.get(t)[r]||$_,s=new G_(Q_),a=new X_(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e,!0),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}this.prepareLeaveAnimationListeners(t),r?n.markElementAsRemoved(this.id,t,!1,e):(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}insertNode(t,e){iw(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(e=>{if(e.name==n.triggerName){const r=cb(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,lb(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),!!this._queue.find(e=>e.element===t)||e}}class J_{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Y_(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(Z_(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!Z_(e))return;const i=e[K_];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),iw(t,j_)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),ow(t,j_))}removeNode(t,e,n,r){if(Z_(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e[K_]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return Z_(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,Pb,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Db,!0)).forEach(t=>this.finishActiveQueriedAnimationOnElement(t))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return sb(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[K_];if(e&&e.setForRemoval){if(t[K_]=W_,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,U_)&&this.markElementAsDisabled(t,!1),this.driver.query(t,U_,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)iw(this.collectedEnterElements[n],B_);if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?sb(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new g_,r=[],i=new Map,o=[],s=new Map,a=new Map,l=new Map,u=new Set;this.disabledNodes.forEach(t=>{u.add(t);const e=this.driver.query(t,F_,!0);for(let n=0;n<e.length;n++)u.add(e[n])});const c=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=nw(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((t,e)=>{const n=xb+f++;p.set(e,n),t.forEach(t=>iw(t,n))});const g=[],m=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t[K_];e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,q_,!0).forEach(t=>m.add(t)):y.add(t))}const v=new Map,b=nw(h,Array.from(m));b.forEach((t,e)=>{const n=Ob+f++;v.set(e,n),t.forEach(t=>iw(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>ow(t,n))}),b.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>ow(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i[K_];if(t&&t.setForMove)return void e.destroy()}const u=!c||!this.driver.containsElement(c,i),h=v.get(i),d=p.get(i),f=this._buildInstruction(t,n,d,h,u);if(!f.errors||!f.errors.length)return u?(e.onStart(()=>qb(i,f.fromStyles)),e.onDestroy(()=>Bb(i,f.toStyles)),void r.push(e)):t.isFallbackTransition?(e.onStart(()=>qb(i,f.fromStyles)),e.onDestroy(()=>Bb(i,f.toStyles)),void r.push(e)):(f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,f.timelines),o.push({instruction:f,player:e,element:i}),f.queriedElements.forEach(t=>hb(s,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=l.get(e);r||l.set(e,r=new Set),n.forEach(t=>r.add(t))}));w.push(f)});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,S=new Map;o.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{hb(C,e,[]).push(t),t.destroy()})});const E=g.filter(t=>aw(t,a,l)),T=new Map;ew(T,this.driver,y,l,Xv).forEach(t=>{aw(t,a,l)&&E.push(t)});const I=new Map;d.forEach((t,e)=>{ew(I,this.driver,new Set(t),a,ib)}),E.forEach(t=>{const e=T.get(t),n=I.get(t);T.set(t,Object.assign({},e,n))});const k=[],x=[],O={};o.forEach(t=>{const{element:e,player:o,instruction:s}=t;if(n.has(e)){if(u.has(e))return o.onDestroy(()=>Bb(e,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let t=O;if(S.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>S.set(e,t))}const n=this._buildAnimation(o.namespaceId,s,C,i,I,T);if(o.setRealPlayer(n),t===O)k.push(o);else{const e=this.playersByElement.get(t);e&&e.length&&(o.parentPlayer=sb(e)),r.push(o)}}else qb(e,s.fromStyles),o.onDestroy(()=>Bb(e,s.toStyles)),x.push(o),u.has(e)&&r.push(o)}),x.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=sb(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<g.length;A++){const t=g[A],e=t[K_];if(ow(t,Ob),e&&e.hasAnimation)continue;let n=[];if(s.size){let e=s.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,Db,!0);for(let t=0;t<r.length;t++){let e=s.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?sw(this,t,r):this.processLeaveNode(t)}return g.length=0,k.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),k}elementContainsData(t,e){let n=!1;const r=e[K_];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let o=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(o=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==Q_;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&o.push(e)})}}return(n||r)&&(o=o.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),o}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,o=e.isRemovalTransition?void 0:e.triggerName;for(const s of e.timelines){const t=s.element,a=t!==r,l=hb(n,t,[]);this._getPreviousPlayers(t,a,i,o,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}qb(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,o){const s=e.triggerName,a=e.element,l=[],u=new Set,c=new Set,h=e.timelines.map(e=>{const h=e.element;u.add(h);const d=h[K_];if(d&&d.removedBeforeQueried)return new nb(e.duration,e.delay);const p=h!==a,f=function(t){const e=[];return function t(e,n){for(let r=0;r<e.length;r++){const i=e[r];i instanceof rb?t(i.players,n):n.push(i)}}((n.get(h)||z_).map(t=>t.getRealPlayer()),e),e}().filter(t=>!!t.element&&t.element===h),g=i.get(h),m=o.get(h),y=ab(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,y,f);if(e.subTimeline&&r&&c.add(h),p){const e=new X_(t,s,h);e.setRealPlayer(v),l.push(e)}return v});l.forEach(t=>{hb(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>(function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e)){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e]){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r})(this.playersByQueriedElement,t.element,t))}),u.forEach(t=>iw(t,Nb));const d=sb(h);return d.onDestroy(()=>{u.forEach(t=>ow(t,Nb)),Bb(a,e.toStyles)}),c.forEach(t=>{hb(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new nb(t.duration,t.delay)}}class X_{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new nb,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>lb(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){hb(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Z_(t){return t&&1===t.nodeType}function tw(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function ew(t,e,n,r,i){const o=[];n.forEach(t=>o.push(tw(t)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(t=>{const n=o[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r[K_]=H_,s.push(r))}),t.set(r,o)});let a=0;return n.forEach(t=>tw(t,o[a++])),s}function nw(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let o=i.get(e);if(o)return o;const s=e.parentNode;return o=n.has(s)?s:r.has(s)?1:t(s),i.set(e,o),o}(t);1!==e&&n.get(e).push(t)}),n}const rw="$$classes";function iw(t,e){if(t.classList)t.classList.add(e);else{let n=t[rw];n||(n=t[rw]={}),n[e]=!0}}function ow(t,e){if(t.classList)t.classList.remove(e);else{let n=t[rw];n&&delete n[e]}}function sw(t,e,n){sb(n).onDone(()=>t.processLeaveNode(e))}function aw(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class lw{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new J_(t,e,n),this._timelineEngine=new L_(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const o=t+"-"+r;let s=this._triggerCache[o];if(!s){const t=[],e=a_(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);s=function(t,e){return new D_(t,e)}(r,e),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,r,s)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=db(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=db(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function uw(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=hw(e[0]),e.length>1&&(r=hw(e[e.length-1]))):e&&(n=hw(e)),n||r?new cw(t,n,r):null}let cw=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&Bb(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Bb(this._element,this._initialStyles),this._endStyles&&(Bb(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(qb(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(qb(this._element,this._endStyles),this._endStyles=null),Bb(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function hw(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];dw(i)&&((e=e||{})[i]=t[i])}return e}function dw(t){return"display"===t||"position"===t}const pw=3,fw="animation",gw="animationend",mw=1e3;class yw{constructor(t,e,n,r,i,o,s){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=Sw(t,"").trim();n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++}(n),e=`${n}, ${e}`),Cw(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),ww(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){vw(this._element,this._name,"paused")}resume(){vw(this._element,this._name,"running")}setPosition(t){const e=bw(this._element,this._name);this._position=t*this._duration,Cw(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=parseFloat(t.elapsedTime.toFixed(pw))*mw;t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),ww(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=Sw(t,"").split(","),r=_w(n,e);r>=0&&(n.splice(r,1),Cw(t,"",n.join(",")))}(this._element,this._name))}}function vw(t,e,n){Cw(t,"PlayState",n,bw(t,e))}function bw(t,e){const n=Sw(t,"");return n.indexOf(",")>0?_w(n.split(","),e):_w([n],e)}function _w(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function ww(t,e,n){n?t.removeEventListener(gw,e):t.addEventListener(gw,e)}function Cw(t,e,n,r){const i=fw+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function Sw(t,e){return t.style[fw+e]}const Ew="forwards",Tw="linear";class Iw{constructor(t,e,n,r,i,o,s,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||Tw,this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new yw(this.element,this.animationName,this._duration,this._delay,this.easing,Ew,()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:Zb(this.element,n))})}this.currentSnapshot=t}}class kw extends nb{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Sb(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}const xw="gen_css_kf_",Ow=" ";class Aw{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return bb(t)}matchesElement(t,e){return _b(t,e)}containsElement(t,e){return wb(t,e)}query(t,e,n){return Cb(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Sb(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=Ow;const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=Ow,Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const o=document.createElement("style");return o.innerHTML=r,o}animate(t,e,n,r,i,o=[],s){s&&this._notifyFaultyScrubber();const a=o.filter(t=>t instanceof Iw),l={};Yb(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const u=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Jb(t,e,l));if(0==n)return new kw(t,u);const c=`${xw}${this._count++}`,h=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(h);const d=uw(t,e),p=new Iw(t,e,c,n,r,i,u,d);return p.onDestroy(()=>(function(t){h.parentNode.removeChild(h)})()),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class Pw{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Zb(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Nw{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Dw().toString()),this._cssKeyframesDriver=new Aw}validateStyleProperty(t){return bb(t)}matchesElement(t,e){return _b(t,e)}containsElement(t,e){return wb(t,e)}query(t,e,n){return Cb(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,o);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const l={},u=o.filter(t=>t instanceof Pw);Yb(n,r)&&u.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=uw(t,e=Jb(t,e=e.map(t=>Fb(t,!1)),l));return new Pw(t,e,a,c)}}function Dw(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}class Rw extends Yv{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:Yt.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?Zv(t):t;return Vw(this._renderer,null,e,"register",[n]),new Mw(e,this._renderer)}}class Mw extends Jv{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Lw(this._id,t,e||{},this._renderer)}}class Lw{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Vw(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function Vw(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const Fw="@",jw="@.disabled";class Uw{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new Bw("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(i,t),e.data.animation.forEach(e=>this.engine.registerTrigger(r,i,t,e.name,e)),new qw(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}class Bw{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==Fw&&e==jw?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class qw extends Bw{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==Fw?"."==e.charAt(1)&&e==jw?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==Fw){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),o="";return i.charAt(0)!=Fw&&([i,o]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}class zw extends lw{constructor(t,e,n){super(t.body,e,n)}}function Ww(){return"function"==typeof Dw()?new Nw:new Aw}function Hw(){return new k_}function Kw(t,e,n){return new Uw(t,e,n)}const Gw=new xt("AnimationModuleType");class Qw{}var $w=Cr({encapsulation:2,styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:.04}@media (hover:none){.mat-button:hover .mat-button-focus-overlay,.mat-stroked-button:hover .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-flat-button,.mat-icon-button,.mat-stroked-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-button[disabled],.mat-flat-button[disabled],.mat-icon-button[disabled],.mat-stroked-button[disabled]{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button[disabled]{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-focus-overlay,.mat-stroked-button .mat-button-ripple.mat-ripple{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab[disabled]{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:0;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0,0,0);transition:background .4s cubic-bezier(.25,.8,.25,1),box-shadow 280ms cubic-bezier(.4,0,.2,1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab[disabled]{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button .mat-icon,.mat-icon-button i{line-height:24px}.mat-button-focus-overlay,.mat-button-ripple.mat-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity .2s cubic-bezier(.35,0,.25,1),background-color .2s cubic-bezier(.35,0,.25,1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}@media (-ms-high-contrast:active){.mat-button-focus-overlay{background-color:#fff}}@media (-ms-high-contrast:black-on-white){.mat-button-focus-overlay{background-color:#000}}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}@media (-ms-high-contrast:active){.mat-button,.mat-fab,.mat-flat-button,.mat-icon-button,.mat-mini-fab,.mat-raised-button{outline:solid 1px}}"],data:{}});function Yw(t){return Hs(2,[Rs(671088640,1,{ripple:0}),(t()(),Os(1,0,null,null,1,"span",[["class","mat-button-wrapper"]],null,null,null,null,null)),js(null,0),(t()(),Os(3,0,null,null,1,"div",[["class","mat-button-ripple mat-ripple"],["matRipple",""]],[[2,"mat-button-ripple-round",null],[2,"mat-ripple-unbounded",null]],null,null,null,null)),Ni(4,212992,[[1,4]],0,jv,[Pn,Bo,dv,[2,Fv],[2,Gw]],{centered:[0,"centered"],disabled:[1,"disabled"],trigger:[2,"trigger"]},null),(t()(),Os(5,0,null,null,0,"div",[["class","mat-button-focus-overlay"]],null,null,null,null,null))],function(t,e){var n=e.component;t(e,4,0,n.isIconButton,n._isRippleDisabled(),n._getHostElement())},function(t,e){var n=e.component;t(e,3,0,n.isRoundButton||n.isIconButton,bi(e,4).unbounded)})}class Jw extends by{constructor(t,e,n){super("Juego Agilidad",e,n),this.arrayOperandos=["+","-","*","/"],this.cargarSolucion()}verificar(){return console.info("Seleccion usuario:",this.eleccionUsuario),console.info("Solucion:",this.solucion),this.eleccionUsuario==this.solucion?(this.gano=!0,!0):(this.gano=!1,!1)}cargarSolucion(){switch(this.operando=this.arrayOperandos[Math.floor(Math.random()*this.arrayOperandos.length)],this.primerNumero=Math.floor(50*Math.random()+1),this.segundoNumero=Math.floor(10*Math.random()+1),this.operando){case"+":this.solucion=this.primerNumero+this.segundoNumero;break;case"-":this.solucion=this.primerNumero-this.segundoNumero;break;case"*":this.solucion=this.primerNumero*this.segundoNumero;break;case"/":for(;0===this.segundoNumero;)this.segundoNumero=Math.floor(5*Math.random()+1);this.solucion=Math.floor(this.primerNumero/this.segundoNumero)}}}class Xw{constructor(t){this.snackBar=t,this.enviarJuego=new ro,this.ocultarVerificar=!0,this.Tiempo=10,this.nuevoJuego=new Jw,this.nuevoJuego.primerNumero=0,this.nuevoJuego.segundoNumero=0,console.info("Inicio agilidad")}ngOnInit(){}NuevoJuego(){this.ocultarVerificar=!1,this.repetidor=setInterval(()=>{this.Tiempo--,console.log("Tiempo restante:",this.Tiempo),0==this.Tiempo&&(clearInterval(this.repetidor),this.verificar(),this.ocultarVerificar=!0,this.Tiempo=10,this.enviarJuego.emit(this.nuevoJuego))},900),this.nuevoJuego=new Jw,console.info(this.nuevoJuego),console.info("Nuevos Valores"),this.clase=""}verificar(){this.nuevoJuego.verificar()?(this.ocultarVerificar=!0,this.nuevoJuego.gano=!0,this.enviarJuego.emit(this.nuevoJuego),clearInterval(this.repetidor),console.log("ganaste"),this.snackBar.open("Felicitaciones, ganaste!","",{duration:3e3}),this.clase="bounce"):(console.log("perdiste"),this.snackBar.open("Respuesta incorrecta","",{duration:3e4}),this.clase=0==this.Tiempo?"hinge":"wobble")}}function Zw(){throw Error("Host already has a portal attached")}class tC{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&Zw(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class eC extends tC{constructor(t,e,n,r){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r}}class nC extends tC{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class rC{constructor(){this._isDisposed=!1}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&Zw(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof eC?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof nC?(this._attachedPortal=t,this.attachTemplatePortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class iC extends rC{constructor(t,e,n,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}class oC extends rC{constructor(t,e){super(),this._componentFactoryResolver=t,this._viewContainerRef=e,this._isInitialized=!1,this.attached=new ro}get portal(){return this._attachedPortal}set portal(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,n=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(n,e.length,t.injector||e.injector);return super.setDisposeFn(()=>r.destroy()),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}attachTemplatePortal(t){t.setAttachedHost(this);const e=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=e,this.attached.emit(e),e}}class sC{}class aC{constructor(t,e){this._parentInjector=t,this._customTokens=e}get(t,e){const n=this._customTokens.get(t);return void 0!==n?n:this._parentInjector.get(t,e)}}function lC(t){return e=>e.lift(new uC(t))}class uC{constructor(t){this.notifier=t}call(t,e){const n=new cC(t),r=M(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class cC extends L{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,r,i){this.seenValue=!0,this.complete()}notifyComplete(){}}function hC(t,e,n,i){return r(n)&&(i=n,n=void 0),i?hC(t,e,n).pipe(V(t=>l(t)?i(...t):i(t))):new _(r=>{!function t(e,n,r,i,o){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,r,o),s=()=>t.removeEventListener(n,r,o)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,r),s=()=>t.off(n,r)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,r),s=()=>t.removeListener(n,r)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let s=0,a=e.length;s<a;s++)t(e[s],n,r,i,o)}i.add(s)}(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function dC(t,e){return n=>n.lift(new pC(t,e))}class pC{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new fC(t,this.compare,this.keySelector))}}class fC extends f{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}class gC{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new mC(t,this.durationSelector))}}class mC extends L{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:r}=this;n=r(t)}catch(e){return this.destination.error(e)}const r=M(this,n);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,r){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function yC(t,e=qg){return n=()=>Wg(t,e),function(t){return t.lift(new gC(n))};var n}const vC=20;let bC=(()=>{class t{constructor(t,e){this._ngZone=t,this._platform=e,this._scrolled=new T,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=vC){return this._platform.isBrowser?new _(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(yC(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):jl()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Yl(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,r)=>{this._scrollableContainsElement(r,t)&&e.push(r)}),e}_scrollableContainsElement(t,e){let n=e.nativeElement,r=t.getElementRef().nativeElement;do{if(n==r)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>hC(window.document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.ngInjectableDef=mt({factory:function(){return new t(Ut(Bo),Ut(dv))},token:t,providedIn:"root"}),t})();class _C{}const wC=20;let CC=(()=>{class t{constructor(t,e){this._platform=t,e.runOutsideAngular(()=>{this._change=t.isBrowser?Q(hC(window,"resize"),hC(window,"orientationchange")):jl(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=document.documentElement,e=t.getBoundingClientRect();return{top:-e.top||document.body.scrollTop||window.scrollY||t.scrollTop||0,left:-e.left||document.body.scrollLeft||window.scrollX||t.scrollLeft||0}}change(t=wC){return t>0?this._change.pipe(yC(t)):this._change}_updateViewportSize(){this._viewportSize=this._platform.isBrowser?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0}}}return t.ngInjectableDef=mt({factory:function(){return new t(Ut(dv),Ut(Bo))},token:t,providedIn:"root"}),t})();class SC{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=lv(-this._previousScrollPosition.left),t.style.top=lv(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,r=e.scrollBehavior||"",i=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=r,n.scrollBehavior=i}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function EC(){return Error("Scroll strategy has already been attached.")}class TC{constructor(t,e,n,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){if(this._overlayRef)throw EC();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class IC{enable(){}disable(){}attach(){}}function kC(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function xC(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class OC{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw EC();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();kC(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let AC=(()=>{class t{constructor(t,e,n,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new IC,this.close=t=>new TC(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new SC(this._viewportRuler,this._document),this.reposition=t=>new OC(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=r}}return t.ngInjectableDef=mt({factory:function(){return new t(Ut(bC),Ut(CC),Ut(Bo),Ut(Dl))},token:t,providedIn:"root"}),t})();class PC{constructor(t){if(this.scrollStrategy=new IC,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class NC{constructor(t,e,n,r,i){this.offsetX=n,this.offsetY=r,this.panelClass=i,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class DC{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}function RC(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "top", "bottom" or "center".')}function MC(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "start", "end" or "center".')}let LC=(()=>{class t{constructor(t){this._attachedOverlays=[],this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEventSubscriptions>0){e[n]._keydownEvents.next(t);break}},this._document=t}ngOnDestroy(){this._detach()}add(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.ngInjectableDef=mt({factory:function(){return new t(Ut(Dl))},token:t,providedIn:"root"}),t})(),VC=(()=>{class t{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.getElementsByClassName("cdk-overlay-container");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),this._document.body.appendChild(e),this._containerElement=e}}return t.ngInjectableDef=mt({factory:function(){return new t(Ut(Dl))},token:t,providedIn:"root"}),t})();class FC{constructor(t,e,n,r,i,o,s,a){this._portalOutlet=t,this._host=e,this._pane=n,this._config=r,this._ngZone=i,this._keyboardDispatcher=o,this._document=s,this._location=a,this._backdropElement=null,this._backdropClick=new T,this._attachments=new T,this._detachments=new T,this._locationChanges=h.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEventsObservable=new _(t=>{const e=this._keydownEvents.subscribe(t);return this._keydownEventSubscriptions++,()=>{e.unsubscribe(),this._keydownEventSubscriptions--}}),this._keydownEvents=new T,this._keydownEventSubscriptions=0,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(pu(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEventsObservable}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign({},this._config,t),this._updateElementSize()}setDirection(t){this._config=Object.assign({},this._config,{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=lv(this._config.width),t.height=lv(this._config.height),t.minWidth=lv(this._config.minWidth),t.minHeight=lv(this._config.minHeight),t.maxWidth=lv(this._config.maxWidth),t.maxHeight=lv(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const r=t.classList;av(e).forEach(t=>{n?r.add(t):r.remove(t)})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.asObservable().pipe(lC(Q(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const jC="cdk-overlay-connected-position-bounding-box";class UC{constructor(t,e,n,r,i){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=i,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new T,this._resizeSubscription=h.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add(jC),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,r=[];let i;for(let o of this._preferredPositions){let s=this._getOriginPoint(t,o),a=this._getOverlayPoint(s,e,o),l=this._getOverlayFit(a,e,n,o);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,s);this._canFitWithFlexibleDimensions(l,a,n)?r.push({position:o,origin:s,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(s,o)}):(!i||i.overlayFit.visibleArea<l.visibleArea)&&(i={overlayFit:l,overlayPoint:a,originPoint:s,position:o,overlayRect:e})}if(r.length){let t=null,e=-1;for(const n of r){const r=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);r>e&&(e=r,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(i.position,i.originPoint);this._applyPosition(i.position,i.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&BC(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(jC),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,r;if("center"==e.originX)n=t.left+t.width/2;else{const r=this._isRtl()?t.right:t.left,i=this._isRtl()?t.left:t.right;n="start"==e.originX?r:i}return{x:n,y:r="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}}_getOverlayPoint(t,e,n){let r,i;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,{x:t.x+r,y:t.y+(i="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height)}}_getOverlayFit(t,e,n,r){let{x:i,y:o}=t,s=this._getOffset(r,"x"),a=this._getOffset(r,"y");s&&(i+=s),a&&(o+=a);let l=0-o,u=o+e.height-n.height,c=this._subtractOverflows(e.width,0-i,i+e.width-n.width),h=this._subtractOverflows(e.height,l,u),d=c*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:c==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,i=n.right-e.x,o=this._overlayRef.getConfig().minHeight,s=this._overlayRef.getConfig().minWidth,a=t.fitsInViewportHorizontally||null!=s&&s<=i;return(t.fitsInViewportVertically||null!=o&&o<=r)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=this._viewportRect,i=Math.max(t.x+e.width-r.right,0),o=Math.max(t.y+e.height-r.bottom,0),s=Math.max(r.top-n.top-t.y,0),a=Math.max(r.left-n.left-t.x,0);let l=0,u=0;return this._previousPushAmount={x:l=e.width<=r.width?a||-i:t.x<this._viewportMargin?r.left-n.left-t.x:0,y:u=e.height<=r.height?s||-o:t.y<this._viewportMargin?r.top-n.top-t.y:0},{x:t.x+l,y:t.y+u}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new DC(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let i=0;i<e.length;i++)e[i].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,r=this._isRtl();let i,o,s,a,l,u;if("top"===e.overlayY)i=n.height-(o=t.y)+this._viewportMargin;else if("bottom"===e.overlayY)i=n.height-(s=n.height-t.y+2*this._viewportMargin)+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),r=this._lastBoundingBoxSize.height;o=t.y-e,(i=2*e)>r&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-r/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)u=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)l=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),r=this._lastBoundingBoxSize.width;l=t.x-e,(a=2*e)>r&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.x-r/2)}return{top:o,left:l,bottom:s,right:u,width:a,height:i}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right="",r.width=r.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,i=this._overlayRef.getConfig().maxWidth;r.height=lv(n.height),r.top=lv(n.top),r.bottom=lv(n.bottom),r.width=lv(n.width),r.left=lv(n.left),r.right=lv(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(r.maxHeight=lv(t)),i&&(r.maxWidth=lv(i))}this._lastBoundingBoxSize=n,BC(this._boundingBox.style,r)}_resetBoundingBoxStyles(){BC(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){BC(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={};if(this._hasExactPosition()){const r=this._viewportRuler.getViewportScrollPosition();BC(n,this._getExactOverlayY(e,t,r)),BC(n,this._getExactOverlayX(e,t,r))}else n.position="static";let r="",i=this._getOffset(e,"x"),o=this._getOffset(e,"y");i&&(r+=`translateX(${i}px) `),o&&(r+=`translateY(${o}px)`),n.transform=r.trim(),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxHeight&&(n.maxHeight=""),this._hasFlexibleDimensions&&this._overlayRef.getConfig().maxWidth&&(n.maxWidth=""),BC(this._pane.style,n)}_getExactOverlayY(t,e,n){let r={top:null,bottom:null},i=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(i=this._pushOverlayOnScreen(i,this._overlayRect,n));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return i.y-=o,"bottom"===t.overlayY?r.bottom=`${this._document.documentElement.clientHeight-(i.y+this._overlayRect.height)}px`:r.top=lv(i.y),r}_getExactOverlayX(t,e,n){let r,i={left:null,right:null},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),"right"==(r=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?i.right=`${this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)}px`:i.left=lv(o.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:xC(t,n),isOriginOutsideView:kC(t,n),isOverlayClipped:xC(e,n),isOverlayOutsideView:kC(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{MC("originX",t.originX),RC("originY",t.originY),MC("overlayX",t.overlayX),RC("overlayY",t.overlayY)})}_addPanelClasses(t){this._pane&&av(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;return t instanceof Pn?t.nativeElement.getBoundingClientRect():t instanceof HTMLElement?t.getBoundingClientRect():{top:t.y,bottom:t.y,left:t.x,right:t.x,height:0,width:0}}}function BC(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}class qC{constructor(t,e,n,r,i,o,s){this._preferredPositions=[],this._positionStrategy=new UC(n,r,i,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,r){const i=new NC(t,e,n,r);return this._preferredPositions.push(i),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const zC="cdk-global-overlay-wrapper";class WC{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(zC),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig();t.position=this._cssPosition,t.marginLeft="100%"===n.width?"0":this._leftOffset,t.marginTop="100%"===n.height?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,"100%"===n.width?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems="100%"===n.height?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(zC),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let HC=(()=>{class t{constructor(t,e,n,r){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=r}global(){return new WC}connectedTo(t,e,n){return new qC(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new UC(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.ngInjectableDef=mt({factory:function(){return new t(Ut(CC),Ut(Dl),Ut(dv),Ut(VC))},token:t,providedIn:"root"}),t})(),KC=0;class GC{constructor(t,e,n,r,i,o,s,a,l,u){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=r,this._keyboardDispatcher=i,this._injector=o,this._ngZone=s,this._document=a,this._directionality=l,this._location=u}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),r=this._createPortalOutlet(n),i=new PC(t);return i.direction=i.direction||this._directionality.value,new FC(r,e,n,i,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id=`cdk-overlay-${KC++}`,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(as)),new iC(t,this._componentFactoryResolver,this._appRef,this._injector)}}const QC=new xt("cdk-connected-overlay-scroll-strategy");function $C(t){return()=>t.scrollStrategies.reposition()}class YC{}const JC=new Set;let XC,ZC=(()=>{class t{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):tS}matchMedia(t){return this._platform.WEBKIT&&function(t){if(!JC.has(t))try{XC||((XC=document.createElement("style")).setAttribute("type","text/css"),document.head.appendChild(XC)),XC.sheet&&(XC.sheet.insertRule(`@media ${t} {.fx-query-test{ }}`,0),JC.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return t.ngInjectableDef=mt({factory:function(){return new t(Ut(dv))},token:t,providedIn:"root"}),t})();function tS(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let eS=(()=>{class t{constructor(t,e){this._mediaMatcher=t,this._zone=e,this._queries=new Map,this._destroySubject=new T}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return nS(av(t)).some(t=>this._registerQuery(t).mql.matches)}observe(t){let e=zl(nS(av(t)).map(t=>this._registerQuery(t).observable));return(e=Cu(e.pipe(pu(1)),e.pipe(vm(1),gv(0)))).pipe(V(t=>{const e={matches:!1,breakpoints:{}};return t.forEach(t=>{e.matches=e.matches||t.matches,e.breakpoints[t.query]=t.matches}),e}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const e=this._mediaMatcher.matchMedia(t),n={observable:new _(t=>{const n=e=>this._zone.run(()=>t.next(e));return e.addListener(n),()=>{e.removeListener(n)}}).pipe(Su(e),V(e=>({query:t,matches:e.matches})),lC(this._destroySubject)),mql:e};return this._queries.set(t,n),n}}return t.ngInjectableDef=mt({factory:function(){return new t(Ut(ZC),Ut(Bo))},token:t,providedIn:"root"}),t})();function nS(t){return t.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}const rS={XSmall:"(max-width: 599.99px)",Small:"(min-width: 600px) and (max-width: 959.99px)",Medium:"(min-width: 960px) and (max-width: 1279.99px)",Large:"(min-width: 1280px) and (max-width: 1919.99px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.99px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.99px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.99px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.99px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.99px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.99px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};class iS{constructor(t,e){this._overlayRef=e,this._afterDismissed=new T,this._afterOpened=new T,this._onAction=new T,this._dismissedByAction=!1,this.containerInstance=t,this.onAction().subscribe(()=>this.dismiss()),t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete())}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),t)}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed.asObservable()}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction.asObservable()}}const oS=new xt("MatSnackBarData");class sS{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}class aS{constructor(t,e){this.snackBarRef=t,this.data=e}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}class lS extends rC{constructor(t,e,n,r){super(),this._ngZone=t,this._elementRef=e,this._changeDetectorRef=n,this.snackBarConfig=r,this._destroyed=!1,this._onExit=new T,this._onEnter=new T,this._animationState="void",this._role="assertive"!==r.politeness||r.announcementMessage?"off"===r.politeness?null:"status":"alert"}attachComponentPortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}onAnimationEnd(t){const{fromState:e,toState:n}=t;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){const t=this._onEnter;this._ngZone.run(()=>{t.next(),t.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){return this._animationState="hidden",this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.asObservable().pipe(pu(1)).subscribe(()=>{this._onExit.next(),this._onExit.complete()})}_applySnackBarClasses(){const t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(e=>t.classList.add(e)):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}_assertNotAttached(){if(this._portalOutlet.hasAttached())throw Error("Attempting to attach snack bar content after content is already attached")}}class uS{}const cS=new xt("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new sS}});let hS=(()=>{class t{constructor(t,e,n,r,i,o){this._overlay=t,this._live=e,this._injector=n,this._breakpointObserver=r,this._parentSnackBar=i,this._defaultConfig=o,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,e){return this._attach(t,e)}openFromTemplate(t,e){return this._attach(t,e)}open(t,e="",n){const r=Object.assign({},this._defaultConfig,n);return r.data={message:t,action:e},r.announcementMessage||(r.announcementMessage=t),this.openFromComponent(aS,r)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,e){const n=new aC(e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,new WeakMap([[sS,e]])),r=new eC(lS,e.viewContainerRef,n),i=t.attach(r);return i.instance.snackBarConfig=e,i.instance}_attach(t,e){const n=Object.assign({},new sS,this._defaultConfig,e),r=this._createOverlay(n),i=this._attachSnackBarContainer(r,n),o=new iS(i,r);if(t instanceof er){const e=new nC(t,null,{$implicit:n.data,snackBarRef:o});o.instance=i.attachTemplatePortal(e)}else{const e=this._createInjector(n,o),r=new eC(t,void 0,e),s=i.attachComponentPortal(r);o.instance=s.instance}return this._breakpointObserver.observe(rS.Handset).pipe(lC(r.detachments().pipe(pu(1)))).subscribe(t=>{t.matches?r.overlayElement.classList.add("mat-snack-bar-handset"):r.overlayElement.classList.remove("mat-snack-bar-handset")}),this._animateSnackBar(o,n),this._openedSnackBarRef=o,this._openedSnackBarRef}_animateSnackBar(t,e){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),e.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(e.duration)),e.announcementMessage&&this._live.announce(e.announcementMessage,e.politeness)}_createOverlay(t){const e=new PC;e.direction=t.direction;let n=this._overlay.position().global();const r="rtl"===t.direction,i="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!r||"end"===t.horizontalPosition&&r,o=!i&&"center"!==t.horizontalPosition;return i?n.left("0"):o?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}_createInjector(t,e){return new aC(t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,new WeakMap([[iS,e],[oS,t.data]]))}}return t.ngInjectableDef=mt({factory:function(){return new t(Ut(GC),Ut(wv),Ut(Ot),Ut(eS),Ut(t,12),Ut(cS))},token:t,providedIn:uS}),t})();var dS=Cr({encapsulation:0,styles:[["input[_ngcontent-%COMP%]{font-size:60px;border:none;text-align:right}.separator[_ngcontent-%COMP%]{border-bottom:2px solid #757575;width:50%;float:right}.respuesta[_ngcontent-%COMP%]{border:2px solid #17a2b8;margin-top:15px}.box-s[_ngcontent-%COMP%]{border:1px solid #dcdcdc;border-radius:10px;box-shadow:10px 10px 15px 0 #c5c5c56e;padding:30px;background:#fff}@media screen and (max-width:400px){.imagen[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}.box-s[_ngcontent-%COMP%]{margin:20px 45px 45px}input[_ngcontent-%COMP%]{font-size:40px}}"]],data:{}});function pS(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-titulo",[["titulo","Resuelve esta operacion aritmetica antes de que se acabe el tiempo."]],null,null,null,Pf,Af)),Ni(1,114688,null,0,Of,[],{titulo:[0,"titulo"]},null),(t()(),Os(2,0,null,null,26,"div",[["class","container"]],null,null,null,null,null)),(t()(),Os(3,0,null,null,25,"div",[["class","row"]],null,null,null,null,null)),(t()(),Os(4,0,null,null,1,"div",[],[[8,"className",0]],null,null,null,null)),(t()(),Os(5,0,null,null,0,"img",[["alt",""],["class","animated fadeInLeft"],["src","./assets/imagenes/calculating.png"]],null,null,null,null,null)),(t()(),Os(6,0,null,null,22,"div",[["class","col-md-5 animated fadeInRight box-s"]],null,null,null,null,null)),(t()(),Os(7,0,null,null,0,"input",[["class","centro"],["name","numeroIngresado"],["placeholder","?"],["readonly",""],["style","width:100%;"],["type","text"]],[[8,"placeholder",0]],null,null,null,null)),(t()(),Os(8,0,null,null,20,"div",[],null,null,null,null,null)),(t()(),Os(9,0,null,null,0,"input",[["class","centro"],["name","numeroIngresado"],["readonly",""],["style","width:75%;"],["type","text"]],[[8,"placeholder",0]],null,null,null,null)),(t()(),Os(10,0,null,null,0,"input",[["class","centro"],["name","numeroIngresado"],["placeholder","?"],["readonly",""],["style","width:25%; float:right;"],["type","text"]],[[8,"placeholder",0]],null,null,null,null)),(t()(),Os(11,0,null,null,0,"div",[["class","separator"]],null,null,null,null,null)),(t()(),Os(12,0,null,null,5,"input",[["class","form-control respuesta"],["name","numeroIngresado"],["placeholder","?"],["style","width:100%;color:#17a2b8;"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==bi(t,13)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==bi(t,13).onTouched()&&r),"compositionstart"===e&&(r=!1!==bi(t,13)._compositionStart()&&r),"compositionend"===e&&(r=!1!==bi(t,13)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.nuevoJuego.eleccionUsuario=n)&&r),r},null,null)),Ni(13,16384,null,0,Gf,[Ln,Pn,[2,Kf]],null,null),Ri(1024,null,Hf,function(t){return[t]},[Gf]),Ni(15,671744,null,0,Vg,[[8,null],[8,null],[8,null],[6,Hf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ri(2048,null,Jf,null,[Vg]),Ni(17,16384,null,0,Zf,[[4,Jf]],null,null),(t()(),Os(18,0,null,null,10,"div",[],null,null,null,null,null)),(t()(),Os(19,0,null,null,3,"h2",[["class","mt-3 float-right"]],[[8,"hidden",0]],null,null,null,null)),(t()(),Os(20,0,null,null,2,"button",[["color","primary"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.NuevoJuego()&&r),r},Yw,$w)),Ni(21,180224,null,0,Hv,[Pn,Ev,[2,Gw]],{color:[0,"color"]},null),(t()(),qs(-1,0,["Nuevo juego"])),(t()(),Os(23,0,null,null,1,"h2",[["class","mt-3 text-right"]],[[8,"hidden",0]],null,null,null,null)),(t()(),qs(24,null,["Tiempo restante: ",""])),(t()(),Os(25,0,null,null,3,"h2",[["class","mt-3 float-right"]],[[8,"hidden",0]],null,null,null,null)),(t()(),Os(26,0,null,null,2,"button",[["color","accent"],["mat-raised-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.verificar()&&r),r},Yw,$w)),Ni(27,180224,null,0,Hv,[Pn,Ev,[2,Gw]],{color:[0,"color"]},null),(t()(),qs(-1,0,["Ingresar respuesta "]))],function(t,e){var n=e.component;t(e,1,0,"Resuelve esta operacion aritmetica antes de que se acabe el tiempo."),t(e,15,0,"numeroIngresado",n.nuevoJuego.eleccionUsuario),t(e,21,0,"primary"),t(e,27,0,"accent")},function(t,e){var n=e.component;t(e,4,0,$r(1,"col-md-6 animated ",n.clase," text-center imagen")),t(e,7,0,$r(1,"",n.nuevoJuego.primerNumero,"")),t(e,9,0,$r(1,"",n.nuevoJuego.operando,"")),t(e,10,0,$r(1,"",n.nuevoJuego.segundoNumero,"")),t(e,12,0,bi(e,17).ngClassUntouched,bi(e,17).ngClassTouched,bi(e,17).ngClassPristine,bi(e,17).ngClassDirty,bi(e,17).ngClassValid,bi(e,17).ngClassInvalid,bi(e,17).ngClassPending),t(e,19,0,!n.ocultarVerificar),t(e,20,0,bi(e,21).disabled||null,"NoopAnimations"===bi(e,21)._animationMode),t(e,23,0,n.ocultarVerificar),t(e,24,0,n.Tiempo),t(e,25,0,n.ocultarVerificar),t(e,26,0,bi(e,27).disabled||null,"NoopAnimations"===bi(e,27)._animationMode)})}function fS(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-agilidad-aritmetica",[],null,null,null,pS,dS)),Ni(1,114688,null,0,Xw,[hS],null,null)],function(t,e){t(e,1,0)},null)}var gS=li("app-agilidad-aritmetica",Xw,fS,{},{enviarJuego:"enviarJuego"},[]);class mS{constructor(){this.listadoParaCompartir=new Array}ngOnInit(){}tomarJuegoTerminado(t){this.listadoParaCompartir.push(t),console.info("en app",this.listadoParaCompartir)}}var yS=Cr({encapsulation:0,styles:[[""]],data:{}});function vS(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-agilidad-aritmetica",[],null,[[null,"enviarJuego"]],function(t,e,n){var r=!0;return"enviarJuego"===e&&(r=!1!==t.component.tomarJuegoTerminado(n)&&r),r},pS,dS)),Ni(1,114688,null,0,Xw,[hS],null,{enviarJuego:"enviarJuego"}),(t()(),Os(2,0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),qs(-1,null,[" Listado de Resultados "])),(t()(),Os(4,0,null,null,1,"app-listado-de-resultados",[],null,null,null,vy,fy)),Ni(5,114688,null,0,py,[],{listado:[0,"listado"]},null)],function(t,e){var n=e.component;t(e,1,0),t(e,5,0,n.listadoParaCompartir)},null)}function bS(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-agilidad-mas-listado",[],null,null,null,vS,yS)),Ni(1,114688,null,0,mS,[],null,null)],function(t,e){t(e,1,0)},null)}var _S=li("app-agilidad-mas-listado",mS,bS,{},{},[]);class wS{constructor(){this.letters=[],this.seconds=60,this.letterAnimation=0,this.correctWord="",this.words=["JUEGO","AVION","PROMOCION","MONEDA","COMPUTADORA","CERVEZA","ESCALAR","PESCADO","LAGO","BOSQUE","CAMARA","ZAPATILLA","SER","PAIS","VINOTECA","MONTA\xd1A","JUPITER","EXTRATERRESTRE","DIFICIL","ABURRIDO","AYUDA"],this.isLetterVisible=()=>1===this.letterAnimation,this.isLetterHiding=()=>2===this.letterAnimation,this.isCorrectLetter=()=>3===this.letterAnimation,this.validateWord=()=>{this.seconds>0?this.answer.toUpperCase()===this.correctWord&&(this.score+=1,this.letterAnimation=3,this.timerPromise=setTimeout(this.displayWord,1e3)):console.info("Timeout!")},this.nextWord=()=>{this.answer=" ",this.letterAnimation=2,this.timerPromise=setTimeout(this.displayWord,1e3)},this.displayWord=()=>{this.answer="";const t=Math.floor(Math.random()*this.words.length);this.correctWord=this.words[t],this.letters=this.correctWord.split(""),this.getRandomIndexes(),this.timerPromise=setTimeout(()=>{this.letterAnimation=1},100)},this.getRandomIndexes=()=>{for(var t,e,n=this.letters.length;n>0;)t=Math.floor(Math.random()*n--),e=this.letters[n],this.letters[n]=this.letters[t],this.letters[t]=e}}ngOnInit(){this.initGame()}initGame(){this.seconds=60,this.score=0,this.answer="",this.displayWord(),this.contador()}contador(){setTimeout(()=>{this.seconds>0&&this.seconds--,this.contador()},1e3)}}var CS=Cr({encapsulation:0,styles:[[".contenedor[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.contenedor[_ngcontent-%COMP%], div[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], input[_ngcontent-%COMP%], label[_ngcontent-%COMP%], section[_ngcontent-%COMP%], span[_ngcontent-%COMP%]{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}section[_ngcontent-%COMP%]{width:1200px;height:500px;background-color:#588c7e;text-align:center;padding:50px;margin:0 auto}#canvas[_ngcontent-%COMP%]{position:relative;width:100%;height:100px}.letter[_ngcontent-%COMP%]{width:70px;height:70px;border-bottom:3px solid #fff;background-color:#9fdee0;border-radius:10px;size:50px;font-size:35px;line-height:70px;color:#000;display:inline-block;margin-left:15px;-webkit-transition:opacity .8s,transform .5s;-moz-transition:opacity .8s,transform .5s;border-right:3px solid #fff;margin-top:10px}#control[_ngcontent-%COMP%]{height:150px}#control[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;vertical-align:middle;margin-right:10px}.countdown[_ngcontent-%COMP%]{width:120px;height:120px}input[name=answer][_ngcontent-%COMP%]{width:300px;height:70px;border-radius:3px;line-height:40px;padding-left:5px;font-size:20px;color:#000;border:3px solid #4398d1}#countScore[_ngcontent-%COMP%]{width:50px;height:50px;text-align:center;line-height:50px;color:#000;font-size:25px;border-radius:2px}.letterVisible[_ngcontent-%COMP%]{opacity:1}.letterHidden[_ngcontent-%COMP%]{-webkit-transform:scaleY(0);-moz-transform:scaleY(0)}.letterCorrect[_ngcontent-%COMP%]{color:#588c7e;-webkit-transform:scaleY(0);-moz-transform:scaleY(0)}#words[_ngcontent-%COMP%]{margin-top:20px;text-align:center}.score-board[_ngcontent-%COMP%]{border:3px solid #4398d1;width:300px;margin:40px auto;font-size:40px;border-radius:4px;text-align:center;padding:15px 20px;position:relative;background:#fff}.reloj[_ngcontent-%COMP%]{border-radius:50%;background:#fff;border:5px solid #9fdee0;height:130px;width:130px;margin:20px auto;line-height:120px;font-size:35px}.peligro[_ngcontent-%COMP%]{border:5px solid red}.mg-center[_ngcontent-%COMP%]{margin:0 auto}@media screen and (max-width:400px){.letter[_ngcontent-%COMP%]{width:40px;height:40px;border-bottom:3px solid #fff;border-radius:10px;size:50px;font-size:25px;line-height:38px;display:inline-block;margin-left:5px;border-right:3px solid #fff;margin-top:10px}}"]],data:{}});function SS(t){return Hs(0,[(t()(),Os(0,0,null,null,4,"div",[["class","letter fadeIn"]],null,null,null,null,null)),Ri(512,null,pl,fl,[Yn,Jn,Pn,Ln]),Ni(2,278528,null,0,ml,[pl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Bs(3,{letterVisible:0,letterHidden:1,letterCorrect:2}),(t()(),qs(4,null,["",""]))],function(t,e){var n=e.component,r=t(e,3,0,n.isLetterVisible(),n.isLetterHiding(),n.isCorrectLetter());t(e,2,0,"letter fadeIn",r)},function(t,e){t(e,4,0,e.context.$implicit)})}function ES(t){return Hs(0,[(t()(),Os(0,0,null,null,6,"div",[["class","col-10"]],null,null,null,null,null)),(t()(),Os(1,0,null,null,5,"input",[["autofocus","autofocus"],["focus","answer.length === 0"],["name","answer"],["placeholder","Ingresar palabra"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(t,e,n){var r=!0,i=t.component;return"input"===e&&(r=!1!==bi(t,2)._handleInput(n.target.value)&&r),"blur"===e&&(r=!1!==bi(t,2).onTouched()&&r),"compositionstart"===e&&(r=!1!==bi(t,2)._compositionStart()&&r),"compositionend"===e&&(r=!1!==bi(t,2)._compositionEnd(n.target.value)&&r),"ngModelChange"===e&&(r=!1!==(i.answer=n)&&r),r},null,null)),Ni(2,16384,null,0,Gf,[Ln,Pn,[2,Kf]],null,null),Ri(1024,null,Hf,function(t){return[t]},[Gf]),Ni(4,671744,null,0,Vg,[[2,$f],[8,null],[8,null],[6,Hf]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),Ri(2048,null,Jf,null,[Vg]),Ni(6,16384,null,0,Zf,[[4,Jf]],null,null)],function(t,e){t(e,4,0,"answer",e.component.answer)},function(t,e){t(e,1,0,bi(e,6).ngClassUntouched,bi(e,6).ngClassTouched,bi(e,6).ngClassPristine,bi(e,6).ngClassDirty,bi(e,6).ngClassValid,bi(e,6).ngClassInvalid,bi(e,6).ngClassPending)})}function TS(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"button",[["class","btn btn-success text-uppercase mr-2 mb-2 "],["type","submit"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.validateWord()&&r),r},null,null)),(t()(),qs(-1,null,["Ingresar"]))],null,null)}function IS(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"button",[["class","btn btn-secondary text-uppercase mr-2 mb-2"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.nextWord()&&r),r},null,null)),(t()(),qs(-1,null,["Saltear"]))],null,null)}function kS(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"button",[["class","btn btn-info text-uppercase mb-2"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.initGame()&&r),r},null,null)),(t()(),qs(-1,null,["Jugar de nuevo"]))],null,null)}function xS(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-titulo",[["titulo","Intenta formar una palabra a partir de las letras mezcladas"]],null,null,null,Pf,Af)),Ni(1,114688,null,0,Of,[],{titulo:[0,"titulo"]},null),(t()(),Os(2,0,null,null,28,"div",[["class","contenedor"]],null,null,null,null,null)),(t()(),Os(3,0,null,null,1,"h4",[],null,null,null,null,null)),(t()(),qs(-1,null,["Palabras correctas:"])),(t()(),Os(5,0,null,null,2,"div",[["id","countScore"]],null,null,null,null,null)),(t()(),Os(6,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),qs(7,null,["",""])),(t()(),Os(8,0,null,null,3,"div",[["id","canvas"]],null,null,null,null,null)),(t()(),Os(9,0,null,null,2,"div",[["id","words"]],null,null,null,null,null)),(t()(),xs(16777216,null,null,1,null,SS)),Ni(11,278528,null,0,vl,[rr,er,Yn],{ngForOf:[0,"ngForOf"]},null),(t()(),Os(12,0,null,null,18,"form",[["id","control text-center"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],function(t,e,n){var r=!0;return"submit"===e&&(r=!1!==bi(t,14).onSubmit(n)&&r),"reset"===e&&(r=!1!==bi(t,14).onReset()&&r),r},null,null)),Ni(13,16384,null,0,Fg,[],null,null),Ni(14,4210688,null,0,Pg,[[8,null],[8,null]],null,null),Ri(2048,null,$f,null,[Pg]),Ni(16,16384,null,0,tg,[[4,$f]],null,null),(t()(),Os(17,0,null,null,4,"h4",[["class","text-center reloj"]],null,null,null,null,null)),Ri(512,null,pl,fl,[Yn,Jn,Pn,Ln]),Ni(19,278528,null,0,ml,[pl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Bs(20,{peligro:0}),(t()(),qs(21,null,["",""])),(t()(),xs(16777216,null,null,1,null,ES)),Ni(23,16384,null,0,_l,[rr,er],{ngIf:[0,"ngIf"]},null),(t()(),Os(24,0,null,null,6,"div",[["class","col text-center mt-3"]],null,null,null,null,null)),(t()(),xs(16777216,null,null,1,null,TS)),Ni(26,16384,null,0,_l,[rr,er],{ngIf:[0,"ngIf"]},null),(t()(),xs(16777216,null,null,1,null,IS)),Ni(28,16384,null,0,_l,[rr,er],{ngIf:[0,"ngIf"]},null),(t()(),xs(16777216,null,null,1,null,kS)),Ni(30,16384,null,0,_l,[rr,er],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,"Intenta formar una palabra a partir de las letras mezcladas"),t(e,11,0,n.letters);var r=t(e,20,0,n.seconds<=10);t(e,19,0,"text-center reloj",r),t(e,23,0,n.seconds>0),t(e,26,0,n.seconds>0),t(e,28,0,n.seconds>0),t(e,30,0,0===n.seconds)},function(t,e){var n=e.component;t(e,7,0,n.score),t(e,12,0,bi(e,16).ngClassUntouched,bi(e,16).ngClassTouched,bi(e,16).ngClassPristine,bi(e,16).ngClassDirty,bi(e,16).ngClassValid,bi(e,16).ngClassInvalid,bi(e,16).ngClassPending),t(e,21,0,n.seconds)})}function OS(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-anagrama",[],null,null,null,xS,CS)),Ni(1,114688,null,0,wS,[],null,null)],function(t,e){t(e,1,0)},null)}var AS=li("app-anagrama",wS,OS,{},{},[]);class PS{constructor(){this.PLAYER_COMPUTER={name:"Enemigo",symbol:"O"},this.PLAYER_HUMAN={name:"Jugador",symbol:"X"},this.DRAW={name:"Empate"},this.scoreHuman=0,this.scoreComputer=0,this.currentPlayer=this.PLAYER_HUMAN}ngOnInit(){document.body.classList.add("bg-img"),this.newGame()}square_click(t){""!==t.value||this.gameOver||(t.value=this.PLAYER_HUMAN.symbol,this.completeMove(this.PLAYER_HUMAN))}computerMove(t=!1){this.boardLocked=!0,setTimeout(()=>{(t?this.board[4]:this.getRandomAvailableSquare()).value=this.PLAYER_COMPUTER.symbol,this.completeMove(this.PLAYER_COMPUTER),this.boardLocked=!1},1e3)}completeMove(t){this.isWinner(t.symbol)?this.showGameOver(t):this.availableSquaresExist()?(this.currentPlayer=this.currentPlayer==this.PLAYER_COMPUTER?this.PLAYER_HUMAN:this.PLAYER_COMPUTER,this.currentPlayer==this.PLAYER_COMPUTER&&this.computerMove()):this.showGameOver(this.DRAW)}availableSquaresExist(){return this.board.filter(t=>""==t.value).length>0}getRandomAvailableSquare(){let t=this.board.filter(t=>""===t.value);return t[this.getRndInteger(0,t.length-1)]}showGameOver(t){this.gameOver=!0,this.lastWinner=t,t!==this.DRAW&&(this.currentPlayer=t),this.addScore(t)}get winningIndexes(){return[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]]}isWinner(t){for(let e of this.winningIndexes)if(this.board[e[0]].value==t&&this.board[e[1]].value==t&&this.board[e[2]].value==t){for(let t of e)this.board[t].winner=!0;return!0}return!1}newGame(){this.board=[{value:""},{value:""},{value:""},{value:""},{value:""},{value:""},{value:""},{value:""},{value:""}],this.gameOver=!1,this.boardLocked=!1,this.currentPlayer==this.PLAYER_COMPUTER&&(this.boardLocked=!0,this.computerMove(!0))}getRndInteger(t,e){return Math.floor(Math.random()*(e-t+1))+t}addScore(t){t===this.PLAYER_COMPUTER&&this.scoreComputer++,t===this.PLAYER_HUMAN&&this.scoreHuman++}}var NS=Cr({encapsulation:0,styles:[[".contenedor[_ngcontent-%COMP%]{justify-content:center;align-content:center;display:flex}.contenedor[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;position:absolute}.contenedor[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:45px}.contenedor[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{position:absolute}.contenedor[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:first-of-type{margin-top:410px}.contenedor[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:last-of-type{margin-top:460px}#board[_ngcontent-%COMP%]{margin:0 auto;display:grid;grid-template-columns:150px 150px 150px;grid-template-rows:150px 150px 150px;font-size:50px;grid-gap:20px;justify-content:center;align-content:center}#board.locked[_ngcontent-%COMP%]{opacity:.7;pointer-events:none}#board[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#fff;cursor:pointer;color:#13195b;font-weight:700;box-shadow:5px 4px 6px 4px #d2d2d2}#board[_ngcontent-%COMP%]   .square.checked[_ngcontent-%COMP%]{cursor:default}#board[_ngcontent-%COMP%]   .square.winner[_ngcontent-%COMP%]{background-color:#a1ffa1}#board[_ngcontent-%COMP%]   .square.looser[_ngcontent-%COMP%]{background-color:#ffa1a1}input[type=button][_ngcontent-%COMP%]{margin-top:20px}.info[_ngcontent-%COMP%]{background:#fff;padding:35px 0;text-align:center;margin:auto;border-radius:10px}.score-board[_ngcontent-%COMP%]{border:3px solid #4398d1;width:300px;margin:40px auto;font-size:40px;border-radius:4px;text-align:center;padding:15px 20px;position:relative}.badge[_ngcontent-%COMP%]{background:#4de296;text-transform:uppercase;font-size:14px;padding:10px 6px}.pc[_ngcontent-%COMP%]{background:#e2584d}#user-label[_ngcontent-%COMP%]{position:absolute;top:50%;left:-5%;transform:translate(-10%,-50%)}#computer-label[_ngcontent-%COMP%]{position:absolute;top:50%;right:-5%;transform:translate(30%,-50%)}.result[_ngcontent-%COMP%]{font-weight:300;text-align:center;font-size:32px;line-height:50px}@media screen and (max-width:400px){#board[_ngcontent-%COMP%]{margin:0 auto;display:grid;grid-template-columns:75px 75px 75px;grid-template-rows:75px 75px 75px;font-size:35px;grid-gap:10px;justify-content:center;align-content:center}.turnos[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}.score-board[_ngcontent-%COMP%]{border:3px solid #4398d1;width:250px;margin:40px auto;font-size:30px;border-radius:4px;text-align:center;padding:15px 20px;position:relative}.info[_ngcontent-%COMP%]{background:#fff;padding:35px 0;text-align:center;margin:25px auto}}"]],data:{}});function DS(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"div",[["class","square animated fadeIn"]],[[2,"checked",null],[2,"winner",null],[2,"looser",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.square_click(t.context.$implicit)&&r),r},null,null)),(t()(),qs(1,null,[" "," "]))],null,function(t,e){var n=e.component;t(e,0,0,""!=e.context.$implicit.value,e.context.$implicit.winner&&n.lastWinner==n.PLAYER_HUMAN,e.context.$implicit.winner&&n.lastWinner==n.PLAYER_COMPUTER),t(e,1,0,e.context.$implicit.value)})}function RS(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),qs(-1,null,["Es tu turno!"]))],null,null)}function MS(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),qs(-1,null,["Es el turno de tu oponente."]))],null,null)}function LS(t){return Hs(0,[(t()(),Os(0,0,null,null,4,"div",[["class","turnos"]],null,null,null,null,null)),(t()(),xs(16777216,null,null,1,null,RS)),Ni(2,16384,null,0,_l,[rr,er],{ngIf:[0,"ngIf"]},null),(t()(),xs(16777216,null,null,1,null,MS)),Ni(4,16384,null,0,_l,[rr,er],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,"Jugador"==n.currentPlayer.name),t(e,4,0,"Enemigo"==n.currentPlayer.name)},null)}function VS(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),qs(-1,null,["Ganaste!"]))],null,null)}function FS(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),qs(-1,null,["Perdiste!"]))],null,null)}function jS(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),qs(-1,null,["Es un empate!"]))],null,null)}function US(t){return Hs(0,[(t()(),Os(0,0,null,null,2,"h4",[],null,null,null,null,null)),(t()(),Os(1,0,null,null,1,"button",[["class","btn btn-success text-uppercase mb-2 shadow-sm"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.newGame()&&r),r},null,null)),(t()(),qs(-1,null,["Nueva partida"]))],null,null)}function BS(t){return Hs(0,[(t()(),Os(0,0,null,null,2,"h4",[],null,null,null,null,null)),(t()(),Os(1,0,null,null,1,"button",[["class","btn btn-info text-uppercase mb-2 shadow-sm"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.loadResult()&&r),r},null,null)),(t()(),qs(-1,null,["Guardar resultados"]))],null,null)}function qS(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-titulo",[["titulo","El clasico juego de TaTeTi"]],null,null,null,Pf,Af)),Ni(1,114688,null,0,Of,[],{titulo:[0,"titulo"]},null),(t()(),Os(2,0,null,null,31,"div",[["class","bg"]],null,null,null,null,null)),(t()(),Os(3,0,null,null,30,"div",[["class","container"]],null,null,null,null,null)),(t()(),Os(4,0,null,null,29,"div",[["class","row"]],null,null,null,null,null)),(t()(),Os(5,0,null,null,3,"div",[["class","juego col-md-6"]],null,null,null,null,null)),(t()(),Os(6,0,null,null,2,"div",[["id","board"]],[[2,"locked",null]],null,null,null,null)),(t()(),xs(16777216,null,null,1,null,DS)),Ni(8,278528,null,0,vl,[rr,er,Yn],{ngForOf:[0,"ngForOf"]},null),(t()(),Os(9,0,null,null,24,"div",[["class","info col-10 col-md-6 animated fadeInRight"]],null,null,null,null,null)),(t()(),xs(16777216,null,null,1,null,LS)),Ni(11,16384,null,0,_l,[rr,er],{ngIf:[0,"ngIf"]},null),(t()(),Os(12,0,null,null,6,"div",[],null,null,null,null,null)),(t()(),xs(16777216,null,null,1,null,VS)),Ni(14,16384,null,0,_l,[rr,er],{ngIf:[0,"ngIf"]},null),(t()(),xs(16777216,null,null,1,null,FS)),Ni(16,16384,null,0,_l,[rr,er],{ngIf:[0,"ngIf"]},null),(t()(),xs(16777216,null,null,1,null,jS)),Ni(18,16384,null,0,_l,[rr,er],{ngIf:[0,"ngIf"]},null),(t()(),Os(19,0,null,null,9,"div",[["class","score-board"],["id","score-board"]],null,null,null,null,null)),(t()(),Os(20,0,null,null,1,"div",[["class","badge"],["id","user-label"]],null,null,null,null,null)),(t()(),qs(-1,null,["Jugador"])),(t()(),Os(22,0,null,null,1,"div",[["class","badge pc"],["id","computer-label"]],null,null,null,null,null)),(t()(),qs(-1,null,["Oponente"])),(t()(),Os(24,0,null,null,1,"span",[["id","user-scored"]],null,null,null,null,null)),(t()(),qs(25,null,["",""])),(t()(),qs(-1,null,[" : "])),(t()(),Os(27,0,null,null,1,"span",[["id","computer-scored"]],null,null,null,null,null)),(t()(),qs(28,null,["",""])),(t()(),Os(29,0,null,null,4,"div",[],null,null,null,null,null)),(t()(),xs(16777216,null,null,1,null,US)),Ni(31,16384,null,0,_l,[rr,er],{ngIf:[0,"ngIf"]},null),(t()(),xs(16777216,null,null,1,null,BS)),Ni(33,16384,null,0,_l,[rr,er],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,"El clasico juego de TaTeTi"),t(e,8,0,n.board),t(e,11,0,!n.gameOver),t(e,14,0,n.gameOver&&n.lastWinner==n.PLAYER_HUMAN),t(e,16,0,n.gameOver&&n.lastWinner==n.PLAYER_COMPUTER),t(e,18,0,n.gameOver&&n.lastWinner==n.DRAW),t(e,31,0,n.gameOver),t(e,33,0,n.gameOver)},function(t,e){var n=e.component;t(e,6,0,n.boardLocked||n.gameOver),t(e,25,0,n.scoreHuman),t(e,28,0,n.scoreComputer)})}function zS(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-tateti",[],null,null,null,qS,NS)),Ni(1,114688,null,0,PS,[],null,null)],function(t,e){t(e,1,0)},null)}var WS=li("app-tateti",PS,zS,{},{},[]);class HS{constructor(){this.scores=[0,0],this.weapons=["piedra","papel","tijera"],this.playerSelected=-1,this.loading=!1,this.isResultShow=!1,this.jugo=!1,this.theResult=0,this.enemySelected=-1}ngOnInit(){}pick(t){this.enemySelected=-1,this.loading||(this.loading=!0,this.playerSelected=t,this.jugo=!0,this.arma=0==this.playerSelected?"Piedra":1==this.playerSelected?"Papel":"Tijera",setTimeout(()=>{this.loading=!1;const t=Math.floor(3*Math.random());this.enemySelected=t,this.arma2=0==this.enemySelected?"Piedra":1==this.enemySelected?"Papel":"Tijera",this.checkResult(),this.isResultShow=!0},2e3))}checkResult(){const t=this.playerSelected,e=this.enemySelected;t==e?this.theResult=2:(t-e+3)%3==1?(this.theResult=0,this.scores[0]=this.scores[0]+1):(this.theResult=1,this.scores[1]=this.scores[1]+1)}}var KS=Cr({encapsulation:0,styles:[[".contenedor[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;background:#e9ecef}p[_ngcontent-%COMP%]{font-family:Lato}.content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;padding:2em}.flex-container[_ngcontent-%COMP%]{display:flex;width:100%}.flex-center[_ngcontent-%COMP%]{align-items:center;justify-content:center}.content-d[_ngcontent-%COMP%]{display:grid;grid-template-columns:2fr 1fr}.score[_ngcontent-%COMP%]{margin-top:.5em;font-size:1.5em}.content2[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr)}.fa[_ngcontent-%COMP%]{cursor:pointer;font-size:5em}.selectedWeapon[_ngcontent-%COMP%]{color:#4398d1}a[_ngcontent-%COMP%]{font-family:'Source Code Pro',monospace;color:#fc9}a[_ngcontent-%COMP%]:hover{color:#ffba76}header[_ngcontent-%COMP%]{background:#fff;padding:20px}header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#444;text-align:center;font-weight:100}.score-board[_ngcontent-%COMP%]{border:3px solid #4398d1;width:300px;margin:40px auto;font-size:40px;border-radius:4px;text-align:center;padding:15px 20px;position:relative;background:#fff}.badge[_ngcontent-%COMP%]{background:#4de296;text-transform:uppercase;font-size:14px;padding:10px 6px}.pc[_ngcontent-%COMP%]{background:#e2584d}#user-label[_ngcontent-%COMP%]{position:absolute;top:50%;left:-5%;transform:translate(-10%,-50%)}#computer-label[_ngcontent-%COMP%]{position:absolute;top:50%;right:-5%;transform:translate(30%,-50%)}.result[_ngcontent-%COMP%]{font-weight:300;text-align:center;font-size:32px;line-height:50px}.choices[_ngcontent-%COMP%]{margin:0 auto;text-align:center;padding:5px 0}.choice[_ngcontent-%COMP%]{display:inline-block;transition:all .3s ease}#action-message[_ngcontent-%COMP%]{text-align:center;font-weight:500;text-transform:uppercase;letter-spacing:2px;margin:40px 0}.winningStyles[_ngcontent-%COMP%]{border:3px solid #4dcc7d;background-color:#043507;box-shadow:0 0 20px #043507}.losingStyles[_ngcontent-%COMP%]{border:3px solid #c52e2e;background-color:#2e0303;box-shadow:0 0 20px #2e0303}.drawStyles[_ngcontent-%COMP%]{border:3px solid #444;background-color:#222;box-shadow:0 0 20px #222}sup[_ngcontent-%COMP%]{margin:0;padding:0}.choices[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{cursor:pointer;opacity:.8;-webkit-animation:1s shake;animation:1s shake}.resultados[_ngcontent-%COMP%]{width:500px;margin:0 auto;border:3px solid #4398d1;padding:20px;border-radius:10px;background:#fff}@media screen and (max-width:400px){.choices[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px;height:70px}.resultados[_ngcontent-%COMP%]{width:350px}.resultados[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:20px}}"]],data:{}});function GS(t){return Hs(0,[(t()(),Os(0,0,null,null,2,"h3",[],null,null,null,null,null)),(t()(),qs(-1,null,["Tu oponente eligi\xf3 "])),(t()(),Os(2,0,null,null,0,"img",[["height","45"],["src","./assets/imagenes/maloik.png"],["width","45"]],null,null,null,null,null))],null,null)}function QS(t){return Hs(0,[(t()(),Os(0,0,null,null,2,"h3",[],null,null,null,null,null)),(t()(),qs(-1,null,["Tu oponente eligi\xf3 "])),(t()(),Os(2,0,null,null,0,"img",[["height","45"],["src","./assets/imagenes/edit.png"],["width","45"]],null,null,null,null,null))],null,null)}function $S(t){return Hs(0,[(t()(),Os(0,0,null,null,2,"h3",[],null,null,null,null,null)),(t()(),qs(-1,null,["Tu oponente eligi\xf3 "])),(t()(),Os(2,0,null,null,0,"img",[["height","45"],["src","./assets/imagenes/scissors.png"],["width","45"]],null,null,null,null,null))],null,null)}function YS(t){return Hs(0,[(t()(),Os(0,0,null,null,6,"div",[["class","flex-container flex-center"]],null,null,null,null,null)),(t()(),xs(16777216,null,null,1,null,GS)),Ni(2,16384,null,0,_l,[rr,er],{ngIf:[0,"ngIf"]},null),(t()(),xs(16777216,null,null,1,null,QS)),Ni(4,16384,null,0,_l,[rr,er],{ngIf:[0,"ngIf"]},null),(t()(),xs(16777216,null,null,1,null,$S)),Ni(6,16384,null,0,_l,[rr,er],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,0===n.enemySelected),t(e,4,0,1===n.enemySelected),t(e,6,0,2===n.enemySelected)},null)}function JS(t){return Hs(0,[(t()(),Os(0,0,null,null,2,"div",[["class","flex-container flex-center"]],null,null,null,null,null)),(t()(),Os(1,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),qs(-1,null,["Tu oponente esta preparando su arma!"]))],null,null)}function XS(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),qs(1,null,[" "," mata a ",". Ganaste!"]))],null,function(t,e){var n=e.component;t(e,1,0,n.arma,n.arma2)})}function ZS(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),qs(1,null,[" "," mata a ",". Perdiste! "]))],null,function(t,e){var n=e.component;t(e,1,0,n.arma2,n.arma)})}function tE(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),qs(1,null,[""," y "," se cancelan. Empate! "]))],null,function(t,e){var n=e.component;t(e,1,0,n.arma,n.arma2)})}function eE(t){return Hs(0,[(t()(),xs(0,null,null,0))],null,null)}function nE(t){return Hs(0,[(t()(),Os(0,0,null,null,10,"div",[["class","flex-container flex-center resultado"],["style","flex-direction: column"]],null,null,null,null,null)),(t()(),Os(1,0,null,null,9,"div",[],null,null,null,null,null)),Ni(2,16384,null,0,El,[],{ngSwitch:[0,"ngSwitch"]},null),(t()(),xs(16777216,null,null,1,null,XS)),Ni(4,278528,null,0,Tl,[rr,er,El],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),xs(16777216,null,null,1,null,ZS)),Ni(6,278528,null,0,Tl,[rr,er,El],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),xs(16777216,null,null,1,null,tE)),Ni(8,278528,null,0,Tl,[rr,er,El],{ngSwitchCase:[0,"ngSwitchCase"]},null),(t()(),xs(16777216,null,null,1,null,eE)),Ni(10,16384,null,0,Il,[rr,er,El],null,null)],function(t,e){t(e,2,0,e.component.theResult),t(e,4,0,0),t(e,6,0,1),t(e,8,0,2)},null)}function rE(t){return Hs(0,[(t()(),Os(0,0,null,null,6,"div",[["class","resultados animated fadeInUp"]],null,null,null,null,null)),(t()(),xs(16777216,null,null,1,null,YS)),Ni(2,16384,null,0,_l,[rr,er],{ngIf:[0,"ngIf"]},null),(t()(),xs(16777216,null,null,1,null,JS)),Ni(4,16384,null,0,_l,[rr,er],{ngIf:[0,"ngIf"]},null),(t()(),xs(16777216,null,null,1,null,nE)),Ni(6,16384,null,0,_l,[rr,er],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,-1!==n.enemySelected),t(e,4,0,n.loading),t(e,6,0,!n.loading&&n.isResultShow)},null)}function iE(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-titulo",[["titulo","Elige tu arma y compite contra el campeon de Piedra, papel o tijera"]],null,null,null,Pf,Af)),Ni(1,114688,null,0,Of,[],{titulo:[0,"titulo"]},null),(t()(),Os(2,0,null,null,31,"div",[["class","juego"]],null,null,null,null,null)),(t()(),Os(3,0,null,null,9,"div",[["class","score-board animated fadeInUp"],["id","score-board"]],null,null,null,null,null)),(t()(),Os(4,0,null,null,1,"div",[["class","badge"],["id","user-label"]],null,null,null,null,null)),(t()(),qs(-1,null,["Jugador"])),(t()(),Os(6,0,null,null,1,"div",[["class","badge pc"],["id","computer-label"]],null,null,null,null,null)),(t()(),qs(-1,null,["Oponente"])),(t()(),Os(8,0,null,null,1,"span",[["id","user-scored"]],null,null,null,null,null)),(t()(),qs(9,null,["",""])),(t()(),qs(-1,null,[" : "])),(t()(),Os(11,0,null,null,1,"span",[["id","computer-scored"]],null,null,null,null,null)),(t()(),qs(12,null,["",""])),(t()(),Os(13,0,null,null,20,"div",[["class","choices animated bounceIn"]],null,null,null,null,null)),(t()(),Os(14,0,null,null,15,"div",[["class","armas"]],null,null,null,null,null)),(t()(),Os(15,0,null,null,4,"div",[["class","choice col-md-2 col-4"],["id","rock"]],null,null,null,null,null)),(t()(),Os(16,0,null,null,3,"img",[["height","150"],["src","./assets/imagenes/maloik.png"],["width","150"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.pick(0)&&r),r},null,null)),Ri(512,null,pl,fl,[Yn,Jn,Pn,Ln]),Ni(18,278528,null,0,ml,[pl],{ngClass:[0,"ngClass"]},null),Bs(19,{selectedWeapon:0}),(t()(),Os(20,0,null,null,4,"div",[["class","choice col-md-2 col-4"],["id","paper"]],null,null,null,null,null)),(t()(),Os(21,0,null,null,3,"img",[["height","150"],["src","./assets/imagenes/edit.png"],["width","150"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.pick(1)&&r),r},null,null)),Ri(512,null,pl,fl,[Yn,Jn,Pn,Ln]),Ni(23,278528,null,0,ml,[pl],{ngClass:[0,"ngClass"]},null),Bs(24,{selectedWeapon:0}),(t()(),Os(25,0,null,null,4,"div",[["class","choice col-md-2 col-4"],["id","scissors"]],null,null,null,null,null)),(t()(),Os(26,0,null,null,3,"img",[["height","150"],["idth","150"],["src","./assets/imagenes/scissors.png"]],null,[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.pick(2)&&r),r},null,null)),Ri(512,null,pl,fl,[Yn,Jn,Pn,Ln]),Ni(28,278528,null,0,ml,[pl],{ngClass:[0,"ngClass"]},null),Bs(29,{selectedWeapon:0}),(t()(),Os(30,0,null,null,1,"p",[["id","action-message"]],null,null,null,null,null)),(t()(),qs(-1,null,["Elegi tu arma!"])),(t()(),xs(16777216,null,null,1,null,rE)),Ni(33,16384,null,0,_l,[rr,er],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,"Elige tu arma y compite contra el campeon de Piedra, papel o tijera");var r=t(e,19,0,0===n.playerSelected);t(e,18,0,r);var i=t(e,24,0,1===n.playerSelected);t(e,23,0,i);var o=t(e,29,0,2===n.playerSelected);t(e,28,0,o),t(e,33,0,n.jugo)},function(t,e){var n=e.component;t(e,9,0,n.scores[0]),t(e,12,0,n.scores[1])})}function oE(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-piedra-papel-tijera",[],null,null,null,iE,KS)),Ni(1,114688,null,0,HS,[],null,null)],function(t,e){t(e,1,0)},null)}var sE=li("app-piedra-papel-tijera",HS,oE,{},{},[]);function aE(t){const{subscriber:e,counter:n,period:r}=t;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}function lE(t){return e=>e.lift(new uE(t))}_.from=B,_.fromEvent=hC,_.interval=function(t=0,e=qg){return(!zg(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=qg),new _(n=>(n.add(e.schedule(aE,t,{subscriber:n,counter:0,period:t})),n))},_.merge=Q,_.of=jl,_.timer=Wg;class uE{constructor(t){this.value=t}call(t,e){return e.subscribe(new cE(t,this.value))}}class cE extends f{constructor(t,e){super(t),this.value=e}_next(t){this.destination.next(this.value)}}function hE(...t){return e=>e.lift.call(Cu(e,...t))}class dE{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new pE(t,this.resultSelector))}}class pE extends f{constructor(t,e,n=Object.create(null)){super(t),this.iterators=[],this.active=0,this.resultSelector="function"==typeof e?e:null,this.values=n}_next(t){const e=this.iterators;l(t)?e.push(new gE(t)):e.push("function"==typeof t[P]?new fE(t[P]()):new mE(this.destination,this,t))}_complete(){const t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(let n=0;n<e;n++){let e=t[n];e.stillUnsubscribed?this.destination.add(e.subscribe(e,n)):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const t=this.iterators,e=t.length,n=this.destination;for(let o=0;o<e;o++){let e=t[o];if("function"==typeof e.hasValue&&!e.hasValue())return}let r=!1;const i=[];for(let o=0;o<e;o++){let e=t[o],s=e.next();if(e.hasCompleted()&&(r=!0),s.done)return void n.complete();i.push(s.value)}this.resultSelector?this._tryresultSelector(i):n.next(i),r&&n.complete()}_tryresultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}class fE{constructor(t){this.iterator=t,this.nextResult=t.next()}hasValue(){return!0}next(){const t=this.nextResult;return this.nextResult=this.iterator.next(),t}hasCompleted(){const t=this.nextResult;return t&&t.done}}class gE{constructor(t){this.array=t,this.index=0,this.length=0,this.length=t.length}[P](){return this}next(t){const e=this.index++;return e<this.length?{value:this.array[e],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class mE extends L{constructor(t,e,n){super(t),this.parent=e,this.observable=n,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[P](){return this}next(){const t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(t,e,n,r,i){this.buffer.push(e),this.parent.checkIterators()}subscribe(t,e){return M(this,this.observable,this,e)}}function yE(t,e=qg){var n;const r=(n=t)instanceof Date&&!isNaN(+n)?+t-e.now():Math.abs(t);return t=>t.lift(new vE(r,e))}class vE{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new bE(t,this.delay,this.scheduler))}}class bE extends f{constructor(t,e,n){super(t),this.delay=e,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,n=e.queue,r=t.scheduler,i=t.destination;for(;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){const e=Math.max(0,n[0].time-r.now());this.schedule(t,e)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(bE.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,n=new _E(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(Pm.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(Pm.createComplete()),this.unsubscribe()}}class _E{constructor(t,e){this.time=t,this.notification=e}}function wE(t,e){return e?n=>new EE(n,e).lift(new CE(t)):e=>e.lift(new CE(t))}class CE{constructor(t){this.delayDurationSelector=t}call(t,e){return e.subscribe(new SE(t,this.delayDurationSelector))}}class SE extends L{constructor(t,e){super(t),this.delayDurationSelector=e,this.completed=!1,this.delayNotifierSubscriptions=[],this.index=0}notifyNext(t,e,n,r,i){this.destination.next(t),this.removeSubscription(i),this.tryComplete()}notifyError(t,e){this._error(t)}notifyComplete(t){const e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()}_next(t){const e=this.index++;try{const r=this.delayDurationSelector(t,e);r&&this.tryDelay(r,t)}catch(n){this.destination.error(n)}}_complete(){this.completed=!0,this.tryComplete(),this.unsubscribe()}removeSubscription(t){t.unsubscribe();const e=this.delayNotifierSubscriptions.indexOf(t);return-1!==e&&this.delayNotifierSubscriptions.splice(e,1),t.outerValue}tryDelay(t,e){const n=M(this,t,e);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))}tryComplete(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()}}class EE extends _{constructor(t,e){super(),this.source=t,this.subscriptionDelay=e}_subscribe(t){this.subscriptionDelay.subscribe(new TE(t,this.source))}}class TE extends f{constructor(t,e){super(),this.parent=t,this.source=e,this.sourceSubscribed=!1}_next(t){this.subscribeToSource()}_error(t){this.unsubscribe(),this.parent.error(t)}_complete(){this.unsubscribe(),this.subscribeToSource()}subscribeToSource(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))}}const IE=1e3,kE=400,xE=600,OE=[440,493.88,523.25,587.33],AE=new window.AudioContext;function PE(){const t=[];for(let e=0;e<100;e++)t.push(Math.floor(1e4*Math.random()%4));return console.log("solution",t),t}class NE{constructor(t=1,e=!1,n=0){this.level=t,this.previousWasLost=e,this.startedAt=n}loose(t){return new NE(1,!0,t+1)}win(t){return new NE(this.level+1,!1,t+1)}}class DE{constructor(){this.solution=PE()}ngOnInit(){this.start$=_.fromEvent(document.querySelector(".play"),"click").pipe(pu(1),lE(new NE)),this.start$.subscribe(t=>console.log("start",t));const t=_.fromEvent(document.querySelectorAll(".pad"),"click").pipe(V(t=>+t.srcElement.getAttribute("data-pad")));this.turn$=this.start$.pipe(hE(t.pipe(Eu((t,e,n)=>(function(t,n,r,i){return null===e?n:e===t[i-n.startedAt]?i-n.startedAt==n.level-1?n.win(i):n:n.loose(i)})(this.solution,t,0,n),new NE),dC(),xu(t=>{t.previousWasLost&&(this.solution=PE())}))),nt()),this.turn$.subscribe(t=>console.log(t)),this.message$=this.start$.pipe(lE("START"),hE(this.turn$.pipe(V(t=>t.previousWasLost?"Error":"Bien!"))),bu(t=>_.interval(IE).pipe(Su(0),function(...t){return function(e){return e.lift.call(function(...t){const e=t[t.length-1];return"function"==typeof e&&t.pop(),G(t,void 0).lift(new dE(e))}(e,...t))}}(":-("===t?_.of(t,"START",null):_.of(t,null)),V(([t,e])=>e)))),this.activePad$=this.turn$.pipe(yE(0),bu(e=>_.merge(t,_.from(this.solution).pipe(pu(e.level),wE(()=>this.message$.pipe(Su(""),gv(IE+1))),ku(t=>_.of(t).pipe(yE(xE)))))),ku(t=>_.of(t,null).pipe(wE(t=>null===t?_.timer(kE):_.of(!0)))),xu(t=>(function(t){if(null!==t){const e=AE.createOscillator();e.type="sine",e.frequency.setValueAtTime(OE[t],AE.currentTime),e.connect(AE.destination),e.start(),setTimeout(()=>e.stop(),200)}})(t)),nt())}}var RE=Cr({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}[_nghost-%COMP%]   .pad[_ngcontent-%COMP%]{cursor:pointer;width:200px;height:200px;margin:8px;border:0;outline:0;transition:opacity .2s ease;opacity:.8}[_nghost-%COMP%]   .pad.active[_ngcontent-%COMP%]{opacity:1}[_nghost-%COMP%]   .pad-0[_ngcontent-%COMP%]{background:#ffc107}[_nghost-%COMP%]   .pad-1[_ngcontent-%COMP%]{background:#f44336}[_nghost-%COMP%]   .pad-2[_ngcontent-%COMP%]{background:#2196f3}[_nghost-%COMP%]   .pad-3[_ngcontent-%COMP%]{background:#4caf50}[_nghost-%COMP%]   .game[_ngcontent-%COMP%]{margin-top:-128px;position:relative;display:none}[_nghost-%COMP%]   .board[_ngcontent-%COMP%]{width:400px;height:400px;position:relative;border-radius:100%;overflow:hidden;border:16px solid #263238;background:#263238;box-shadow:0 6px 30px -6px rgba(94,48,94,1)}[_nghost-%COMP%]   .pads[_ngcontent-%COMP%]{display:flex;flex-direction:column;position:absolute;left:-16px;top:-16px}[_nghost-%COMP%]   .pad-row[_ngcontent-%COMP%]{display:flex;flex-direction:row}[_nghost-%COMP%]   .turn[_ngcontent-%COMP%]{width:100%;height:64px;font-size:32px;margin:64px 0;text-align:center}.btn[_ngcontent-%COMP%]{border-radius:50%;height:200px;width:200px;font-size:30px}[_nghost-%COMP%]   .message[_ngcontent-%COMP%]{background:#eceff1;height:128px;font-size:26px;text-align:center;position:absolute;top:calc(50% - 110px);border-radius:100%;width:128px;left:calc(50% - 50px);display:flex;align-items:center;justify-content:center;border:16px solid #263238}[_nghost-%COMP%]   .game-on[_ngcontent-%COMP%]   .play[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   .game-on[_ngcontent-%COMP%]   .game[_ngcontent-%COMP%]{display:block}.game.animated.fadeInDown[_ngcontent-%COMP%]{margin-top:50px}.resultados[_ngcontent-%COMP%]{width:500px;margin:0 auto;border:3px solid #4398d1;padding:20px;border-radius:10px;background:#fff}"]],data:{}});function ME(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-titulo",[["titulo","Intenta seguir el patron de colores y sonidos marcado por el juego."]],null,null,null,Pf,Af)),Ni(1,114688,null,0,Of,[],{titulo:[0,"titulo"]},null),(t()(),Os(2,0,null,null,40,"div",[],null,null,null,null,null)),Ri(512,null,pl,fl,[Yn,Jn,Pn,Ln]),Ni(4,278528,null,0,ml,[pl],{ngClass:[0,"ngClass"]},null),Di(131072,Pl,[Me]),Bs(6,{"game-on":0}),(t()(),Os(7,0,null,null,1,"button",[["class","btn btn-info text-uppercase mt-5 mb-2 shadow-sm play"]],null,null,null,null,null)),(t()(),qs(-1,null,["Jugar"])),(t()(),Os(9,0,null,null,33,"div",[["class","game animated fadeInDown "]],null,null,null,null,null)),(t()(),Os(10,0,null,null,23,"div",[["class","board"]],null,null,null,null,null)),(t()(),Os(11,0,null,null,22,"div",[["class","pads"]],null,null,null,null,null)),(t()(),Os(12,0,null,null,10,"div",[["class","pad-row"]],null,null,null,null,null)),(t()(),Os(13,0,null,null,4,"button",[["class","pad pad-0"],["data-pad","0"]],null,null,null,null,null)),Ri(512,null,pl,fl,[Yn,Jn,Pn,Ln]),Ni(15,278528,null,0,ml,[pl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Di(131072,Pl,[Me]),Bs(17,{active:0}),(t()(),Os(18,0,null,null,4,"button",[["class","pad pad-1"],["data-pad","1"]],null,null,null,null,null)),Ri(512,null,pl,fl,[Yn,Jn,Pn,Ln]),Ni(20,278528,null,0,ml,[pl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Di(131072,Pl,[Me]),Bs(22,{active:0}),(t()(),Os(23,0,null,null,10,"div",[["class","pad-row"]],null,null,null,null,null)),(t()(),Os(24,0,null,null,4,"button",[["class","pad pad-2"],["data-pad","2"]],null,null,null,null,null)),Ri(512,null,pl,fl,[Yn,Jn,Pn,Ln]),Ni(26,278528,null,0,ml,[pl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Di(131072,Pl,[Me]),Bs(28,{active:0}),(t()(),Os(29,0,null,null,4,"button",[["class","pad pad-3"],["data-pad","3"]],null,null,null,null,null)),Ri(512,null,pl,fl,[Yn,Jn,Pn,Ln]),Ni(31,278528,null,0,ml,[pl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),Di(131072,Pl,[Me]),Bs(33,{active:0}),(t()(),Os(34,0,null,null,3,"div",[["class","message"]],null,null,null,null,null)),(t()(),Os(35,0,null,null,2,"span",[],null,null,null,null,null)),(t()(),qs(36,null,["",""])),Di(131072,Pl,[Me]),(t()(),Os(38,0,null,null,4,"div",[["class","turn"]],null,null,null,null,null)),(t()(),qs(-1,null,["Nivel "])),(t()(),Os(40,0,null,null,2,"strong",[],null,null,null,null,null)),(t()(),qs(41,null,["",""])),Di(131072,Pl,[Me])],function(t,e){var n=e.component;t(e,1,0,"Intenta seguir el patron de colores y sonidos marcado por el juego.");var r=t(e,6,0,br(e,4,0,bi(e,5).transform(n.start$)));t(e,4,0,r);var i=t(e,17,0,0===br(e,15,1,bi(e,16).transform(n.activePad$)));t(e,15,0,"pad pad-0",i);var o=t(e,22,0,1===br(e,20,1,bi(e,21).transform(n.activePad$)));t(e,20,0,"pad pad-1",o);var s=t(e,28,0,2===br(e,26,1,bi(e,27).transform(n.activePad$)));t(e,26,0,"pad pad-2",s);var a=t(e,33,0,3===br(e,31,1,bi(e,32).transform(n.activePad$)));t(e,31,0,"pad pad-3",a)},function(t,e){var n,r=e.component;t(e,36,0,br(e,36,0,bi(e,37).transform(r.message$))),t(e,41,0,(null==(n=br(e,41,0,bi(e,42).transform(r.turn$)))?null:n.level)||1)})}function LE(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-simon",[],null,null,null,ME,RE)),Ni(1,114688,null,0,DE,[],null,null)],function(t,e){t(e,1,0)},null)}var VE=li("app-simon",DE,LE,{},{},[]);_.prototype.switchMap=function(t){return bu(t)(this)};class FE{constructor(){}ngOnInit(){}}var jE=Cr({encapsulation:0,styles:[[""]],data:{}});function UE(t){return Hs(0,[(t()(),Os(0,0,null,null,21,"div",[["class","panel panel-default"]],null,null,null,null,null)),(t()(),Os(1,0,null,null,11,"div",[["class","hero-text"]],null,null,null,null,null)),(t()(),Os(2,0,null,null,1,"h1",[["style","font-size:50px"]],null,null,null,null,null)),(t()(),qs(-1,null,["Sala de Juegos"])),(t()(),Os(4,0,null,null,1,"p",[],null,null,null,null,null)),(t()(),qs(-1,null,["Octavio villegas"])),(t()(),Os(6,0,null,null,2,"a",[["href","https://github.com/octaviovillegas"],["target","_blank"]],null,null,null,null,null)),(t()(),qs(-1,null,["en GitHub "])),(t()(),Os(8,0,null,null,0,"i",[["class","fa fa-github"]],null,null,null,null,null)),(t()(),Os(9,0,null,null,3,"a",[["routerLink","/QuienSoy"],["target","_blank"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==bi(t,10).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r},null,null)),Ni(10,671744,null,0,gp,[pp,nd,nl],{target:[0,"target"],routerLink:[1,"routerLink"]},null),(t()(),qs(-1,null,["Quien Soy? "])),(t()(),Os(12,0,null,null,0,"i",[["class","fa fa-github"]],null,null,null,null,null)),(t()(),Os(13,0,null,null,8,"ul",[["class","nav navbar-nav navbar-right"]],null,null,null,null,null)),(t()(),Os(14,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),Os(15,0,null,null,2,"a",[["href","#"]],null,null,null,null,null)),(t()(),Os(16,0,null,null,0,"span",[["class","glyphicon glyphicon-user"]],null,null,null,null,null)),(t()(),qs(-1,null,["Registrase"])),(t()(),Os(18,0,null,null,3,"li",[],null,null,null,null,null)),(t()(),Os(19,0,null,null,2,"a",[["href","#"]],null,null,null,null,null)),(t()(),Os(20,0,null,null,0,"span",[["class","glyphicon glyphicon-log-in"]],null,null,null,null,null)),(t()(),qs(-1,null,[" Ingresar"]))],function(t,e){t(e,10,0,"_blank","/QuienSoy")},function(t,e){t(e,9,0,bi(e,10).target,bi(e,10).href)})}function BE(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-error",[],null,null,null,UE,jE)),Ni(1,114688,null,0,FE,[],null,null)],function(t,e){t(e,1,0)},null)}var qE=li("app-error",FE,BE,{},{},[]),zE=Cr({encapsulation:2,styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}@media (-ms-high-contrast:active){.mat-snack-bar-container{border:solid 1px}}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],data:{animation:[{type:7,name:"state",definitions:[{type:0,name:"void, hidden",styles:{type:6,styles:{transform:"scale(0.8)",opacity:0},offset:null},options:void 0},{type:0,name:"visible",styles:{type:6,styles:{transform:"scale(1)",opacity:1},offset:null},options:void 0},{type:1,expr:"* => visible",animation:{type:4,styles:null,timings:"150ms cubic-bezier(0, 0, 0.2, 1)"},options:null},{type:1,expr:"* => void, * => hidden",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:"75ms cubic-bezier(0.4, 0.0, 1, 1)"},options:null}],options:{}}]}});function WE(t){return Hs(0,[(t()(),xs(0,null,null,0))],null,null)}function HE(t){return Hs(0,[Rs(402653184,1,{_portalOutlet:0}),(t()(),xs(16777216,null,null,1,null,WE)),Ni(2,212992,[[1,4]],0,oC,[kn,rr],{portal:[0,"portal"]},null)],function(t,e){t(e,2,0,"")},null)}function KE(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"snack-bar-container",[["class","mat-snack-bar-container"]],[[1,"role",0],[40,"@state",0]],[["component","@state.done"]],function(t,e,n){var r=!0;return"component:@state.done"===e&&(r=!1!==bi(t,1).onAnimationEnd(n)&&r),r},HE,zE)),Ni(1,180224,null,0,lS,[Bo,Pn,Me,sS],null,null)],null,function(t,e){t(e,0,0,bi(e,1)._role,bi(e,1)._animationState)})}var GE=li("snack-bar-container",lS,KE,{},{},[]),QE=Cr({encapsulation:2,styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;height:100%;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}"],data:{}});function $E(t){return Hs(0,[(t()(),Os(0,0,null,null,3,"div",[["class","mat-simple-snackbar-action"]],null,null,null,null,null)),(t()(),Os(1,0,null,null,2,"button",[["mat-button",""]],[[1,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,e,n){var r=!0;return"click"===e&&(r=!1!==t.component.action()&&r),r},Yw,$w)),Ni(2,180224,null,0,Hv,[Pn,Ev,[2,Gw]],null,null),(t()(),qs(3,0,["",""]))],null,function(t,e){var n=e.component;t(e,1,0,bi(e,2).disabled||null,"NoopAnimations"===bi(e,2)._animationMode),t(e,3,0,n.data.action)})}function YE(t){return Hs(2,[(t()(),Os(0,0,null,null,1,"span",[],null,null,null,null,null)),(t()(),qs(1,null,["",""])),(t()(),xs(16777216,null,null,1,null,$E)),Ni(3,16384,null,0,_l,[rr,er],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,3,0,e.component.hasAction)},function(t,e){t(e,1,0,e.component.data.message)})}function JE(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"simple-snack-bar",[["class","mat-simple-snackbar"]],null,null,null,YE,QE)),Ni(1,49152,null,0,aS,[iS,oS],null,null)],null,null)}var XE=li("simple-snack-bar",aS,JE,{},{},[]),ZE=Cr({encapsulation:0,styles:[[""]],data:{animation:[{type:7,name:"routeAnimations",definitions:[{type:1,expr:"FilterPage <=> *",animation:[{type:6,styles:{position:"relative"},offset:null},{type:11,selector:":enter, :leave",animation:[{type:6,styles:{position:"absolute",top:0,left:0,width:"100%"},offset:null}],options:{optional:!0}},{type:11,selector:":enter",animation:[{type:6,styles:{left:"-100%"},offset:null}],options:null},{type:11,selector:":leave",animation:{type:9,options:null},options:{optional:!0}},{type:3,steps:[{type:11,selector:":leave",animation:[{type:4,styles:{type:6,styles:{left:"100%"},offset:null},timings:"300ms ease-out"}],options:{optional:!0}},{type:11,selector:":enter",animation:[{type:4,styles:{type:6,styles:{left:"0%"},offset:null},timings:"300ms ease-out"}],options:null}],options:null},{type:11,selector:":enter",animation:{type:9,options:null},options:null}],options:null},{type:1,expr:"* <=> FilterPage",animation:[{type:6,styles:{position:"relative"},offset:null},{type:11,selector:":enter, :leave",animation:[{type:6,styles:{position:"absolute",top:0,left:0,width:"100%"},offset:null}],options:{optional:!0}},{type:11,selector:":enter",animation:[{type:6,styles:{left:"-100%"},offset:null}],options:null},{type:11,selector:":leave",animation:{type:9,options:null},options:{optional:!0}},{type:3,steps:[{type:11,selector:":leave",animation:[{type:4,styles:{type:6,styles:{left:"100%"},offset:null},timings:"200ms ease-out"}],options:{optional:!0}},{type:11,selector:":enter",animation:[{type:4,styles:{type:6,styles:{left:"0%"},offset:null},timings:"300ms ease-out"}],options:null}],options:null},{type:11,selector:":enter",animation:{type:9,options:null},options:null}],options:null},{type:1,expr:"Fade <=> *",animation:[{type:11,selector:":enter, :leave",animation:[{type:6,styles:{position:"absolute",left:0,width:"100%",opacity:0,transform:"scale(0) translateY(100%)"},offset:null}],options:{optional:!0}},{type:11,selector:":enter",animation:[{type:4,styles:{type:6,styles:{opacity:1,transform:"scale(1) translateY(0)"},offset:null},timings:"1999ms ease"}],options:null}],options:null}],options:{}}]}});function tT(t){return Hs(0,[(t()(),Os(0,0,null,null,2,"div",[],[[24,"@routeAnimations",0]],null,null,null,null)),(t()(),Os(1,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),Ni(2,212992,[["outlet",4]],0,bp,[vp,rr,kn,[8,null],Me],null,null)],function(t,e){t(e,2,0)},function(t,e){t(e,0,0,e.component.prepareRoute(bi(e,2)))})}function eT(t){return Hs(0,[(t()(),Os(0,0,null,null,1,"app-root",[],null,null,null,tT,ZE)),Ni(1,49152,null,0,Za,[],null,null)],null,null)}var nT=li("app-root",Za,eT,{},{},[]);class rT{constructor(){}build(){return new XMLHttpRequest}}const iT=function(){var t={Get:0,Post:1,Put:2,Delete:3,Options:4,Head:5,Patch:6};return t[t.Get]="Get",t[t.Post]="Post",t[t.Put]="Put",t[t.Delete]="Delete",t[t.Options]="Options",t[t.Head]="Head",t[t.Patch]="Patch",t}(),oT=function(){var t={Basic:0,Cors:1,Default:2,Error:3,Opaque:4};return t[t.Basic]="Basic",t[t.Cors]="Cors",t[t.Default]="Default",t[t.Error]="Error",t[t.Opaque]="Opaque",t}(),sT=function(){var t={NONE:0,JSON:1,FORM:2,FORM_DATA:3,TEXT:4,BLOB:5,ARRAY_BUFFER:6};return t[t.NONE]="NONE",t[t.JSON]="JSON",t[t.FORM]="FORM",t[t.FORM_DATA]="FORM_DATA",t[t.TEXT]="TEXT",t[t.BLOB]="BLOB",t[t.ARRAY_BUFFER]="ARRAY_BUFFER",t}(),aT=function(){var t={Text:0,Json:1,ArrayBuffer:2,Blob:3};return t[t.Text]="Text",t[t.Json]="Json",t[t.ArrayBuffer]="ArrayBuffer",t[t.Blob]="Blob",t}();class lT{constructor(t){this._headers=new Map,this._normalizedNames=new Map,t&&(t instanceof lT?t.forEach((t,e)=>{t.forEach(t=>this.append(e,t))}):Object.keys(t).forEach(e=>{const n=Array.isArray(t[e])?t[e]:[t[e]];this.delete(e),n.forEach(t=>this.append(e,t))}))}static fromResponseHeaderString(t){const e=new lT;return t.split("\n").forEach(t=>{const n=t.indexOf(":");if(n>0){const r=t.slice(0,n),i=t.slice(n+1).trim();e.set(r,i)}}),e}append(t,e){const n=this.getAll(t);null===n?this.set(t,e):n.push(e)}delete(t){const e=t.toLowerCase();this._normalizedNames.delete(e),this._headers.delete(e)}forEach(t){this._headers.forEach((e,n)=>t(e,this._normalizedNames.get(n),this._headers))}get(t){const e=this.getAll(t);return null===e?null:e.length>0?e[0]:null}has(t){return this._headers.has(t.toLowerCase())}keys(){return Array.from(this._normalizedNames.values())}set(t,e){Array.isArray(e)?e.length&&this._headers.set(t.toLowerCase(),[e.join(",")]):this._headers.set(t.toLowerCase(),[e]),this.mayBeSetNormalizedName(t)}values(){return Array.from(this._headers.values())}toJSON(){const t={};return this._headers.forEach((e,n)=>{const r=[];e.forEach(t=>r.push(...t.split(","))),t[this._normalizedNames.get(n)]=r}),t}getAll(t){return this.has(t)&&this._headers.get(t.toLowerCase())||null}entries(){throw new Error('"entries" method is not implemented on Headers class')}mayBeSetNormalizedName(t){const e=t.toLowerCase();this._normalizedNames.has(e)||this._normalizedNames.set(e,t)}}class uT{constructor(t={}){const{body:e,status:n,headers:r,statusText:i,type:o,url:s}=t;this.body=null!=e?e:null,this.status=null!=n?n:null,this.headers=null!=r?r:null,this.statusText=null!=i?i:null,this.type=null!=o?o:null,this.url=null!=s?s:null}merge(t){return new uT({body:t&&null!=t.body?t.body:this.body,status:t&&null!=t.status?t.status:this.status,headers:t&&null!=t.headers?t.headers:this.headers,statusText:t&&null!=t.statusText?t.statusText:this.statusText,type:t&&null!=t.type?t.type:this.type,url:t&&null!=t.url?t.url:this.url})}}class cT extends uT{constructor(){super({status:200,statusText:"Ok",type:oT.Default,headers:new lT})}}class hT{}function dT(t){if("string"!=typeof t)return t;switch(t.toUpperCase()){case"GET":return iT.Get;case"POST":return iT.Post;case"PUT":return iT.Put;case"DELETE":return iT.Delete;case"OPTIONS":return iT.Options;case"HEAD":return iT.Head;case"PATCH":return iT.Patch}throw new Error(`Invalid request method. The method "${t}" is not supported.`)}const pT=t=>t>=200&&t<300;class fT{encodeKey(t){return gT(t)}encodeValue(t){return gT(t)}}function gT(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class mT{constructor(t="",e=new fT){this.rawParams=t,this.queryEncoder=e,this.paramsMap=function(t=""){const e=new Map;return t.length>0&&t.split("&").forEach(t=>{const n=t.indexOf("="),[r,i]=-1==n?[t,""]:[t.slice(0,n),t.slice(n+1)],o=e.get(r)||[];o.push(i),e.set(r,o)}),e}(t)}clone(){const t=new mT("",this.queryEncoder);return t.appendAll(this),t}has(t){return this.paramsMap.has(t)}get(t){const e=this.paramsMap.get(t);return Array.isArray(e)?e[0]:null}getAll(t){return this.paramsMap.get(t)||[]}set(t,e){if(null==e)return void this.delete(t);const n=this.paramsMap.get(t)||[];n.length=0,n.push(e),this.paramsMap.set(t,n)}setAll(t){t.paramsMap.forEach((t,e)=>{const n=this.paramsMap.get(e)||[];n.length=0,n.push(t[0]),this.paramsMap.set(e,n)})}append(t,e){if(null==e)return;const n=this.paramsMap.get(t)||[];n.push(e),this.paramsMap.set(t,n)}appendAll(t){t.paramsMap.forEach((t,e)=>{const n=this.paramsMap.get(e)||[];for(let r=0;r<t.length;++r)n.push(t[r]);this.paramsMap.set(e,n)})}replaceAll(t){t.paramsMap.forEach((t,e)=>{const n=this.paramsMap.get(e)||[];n.length=0;for(let r=0;r<t.length;++r)n.push(t[r]);this.paramsMap.set(e,n)})}toString(){const t=[];return this.paramsMap.forEach((e,n)=>{e.forEach(e=>t.push(this.queryEncoder.encodeKey(n)+"="+this.queryEncoder.encodeValue(e)))}),t.join("&")}delete(t){this.paramsMap.delete(t)}}class yT{json(){return"string"==typeof this._body?JSON.parse(this._body):this._body instanceof ArrayBuffer?JSON.parse(this.text()):this._body}text(t="legacy"){if(this._body instanceof mT)return this._body.toString();if(this._body instanceof ArrayBuffer)switch(t){case"legacy":return String.fromCharCode.apply(null,new Uint16Array(this._body));case"iso-8859":return String.fromCharCode.apply(null,new Uint8Array(this._body));default:throw new Error(`Invalid value for encodingHint: ${t}`)}return null==this._body?"":"object"==typeof this._body?JSON.stringify(this._body,null,2):this._body.toString()}arrayBuffer(){return this._body instanceof ArrayBuffer?this._body:function(t){const e=new Uint16Array(t.length);for(let n=0,r=t.length;n<r;n++)e[n]=t.charCodeAt(n);return e.buffer}(this.text())}blob(){if(this._body instanceof Blob)return this._body;if(this._body instanceof ArrayBuffer)return new Blob([this._body]);throw new Error("The request body isn't either a blob or an array buffer")}}class vT extends yT{constructor(t){super(),this._body=t.body,this.status=t.status,this.ok=this.status>=200&&this.status<=299,this.statusText=t.statusText,this.headers=t.headers,this.type=t.type,this.url=t.url}toString(){return`Response with status: ${this.status} ${this.statusText} for URL: ${this.url}`}}const bT=/^\)\]\}',?\n/;class _T{constructor(t,e,n){this.request=t,this.response=new _(r=>{const i=e.build();i.open(iT[t.method].toUpperCase(),t.url),null!=t.withCredentials&&(i.withCredentials=t.withCredentials);const o=()=>{let e=1223===i.status?204:i.status,o=null;204!==e&&"string"==typeof(o=void 0===i.response?i.responseText:i.response)&&(o=o.replace(bT,"")),0===e&&(e=o?200:0);const s=lT.fromResponseHeaderString(i.getAllResponseHeaders()),a=function(t){return"responseURL"in t?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||t.url;let l=new uT({body:o,status:e,headers:s,statusText:i.statusText||"OK",url:a});null!=n&&(l=n.merge(l));const u=new vT(l);if(u.ok=pT(e),u.ok)return r.next(u),void r.complete();r.error(u)},s=t=>{let e=new uT({body:t,type:oT.Error,status:i.status,statusText:i.statusText});null!=n&&(e=n.merge(e)),r.error(new vT(e))};if(this.setDetectedContentType(t,i),null==t.headers&&(t.headers=new lT),t.headers.has("Accept")||t.headers.append("Accept","application/json, text/plain, */*"),t.headers.forEach((t,e)=>i.setRequestHeader(e,t.join(","))),null!=t.responseType&&null!=i.responseType)switch(t.responseType){case aT.ArrayBuffer:i.responseType="arraybuffer";break;case aT.Json:i.responseType="json";break;case aT.Text:i.responseType="text";break;case aT.Blob:i.responseType="blob";break;default:throw new Error("The selected responseType is not supported")}return i.addEventListener("load",o),i.addEventListener("error",s),i.send(this.request.getBody()),()=>{i.removeEventListener("load",o),i.removeEventListener("error",s),i.abort()}})}setDetectedContentType(t,e){if(null==t.headers||null==t.headers.get("Content-Type"))switch(t.contentType){case sT.NONE:break;case sT.JSON:e.setRequestHeader("content-type","application/json");break;case sT.FORM:e.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=UTF-8");break;case sT.TEXT:e.setRequestHeader("content-type","text/plain");break;case sT.BLOB:const n=t.blob();n.type&&e.setRequestHeader("content-type",n.type)}}}class wT{constructor(t="XSRF-TOKEN",e="X-XSRF-TOKEN"){this._cookieName=t,this._headerName=e}configureRequest(t){const e=Ru().getCookie(this._cookieName);e&&t.headers.set(this._headerName,e)}}class CT{constructor(t,e,n){this._browserXHR=t,this._baseResponseOptions=e,this._xsrfStrategy=n}createConnection(t){return this._xsrfStrategy.configureRequest(t),new _T(t,this._browserXHR,this._baseResponseOptions)}}class ST{get search(){return this.params}set search(t){this.params=t}constructor(t={}){const{method:e,headers:n,body:r,url:i,search:o,params:s,withCredentials:a,responseType:l}=t;this.method=null!=e?dT(e):null,this.headers=null!=n?n:null,this.body=null!=r?r:null,this.url=null!=i?i:null,this.params=this._mergeSearchParams(s||o),this.withCredentials=null!=a?a:null,this.responseType=null!=l?l:null}merge(t){return new ST({method:t&&null!=t.method?t.method:this.method,headers:t&&null!=t.headers?t.headers:new lT(this.headers),body:t&&null!=t.body?t.body:this.body,url:t&&null!=t.url?t.url:this.url,params:t&&this._mergeSearchParams(t.params||t.search),withCredentials:t&&null!=t.withCredentials?t.withCredentials:this.withCredentials,responseType:t&&null!=t.responseType?t.responseType:this.responseType})}_mergeSearchParams(t){return t?t instanceof mT?t.clone():"string"==typeof t?new mT(t):this._parseParams(t):this.params}_parseParams(t={}){const e=new mT;return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>this._appendParam(n,t,e)):this._appendParam(n,r,e)}),e}_appendParam(t,e,n){"string"!=typeof e&&(e=JSON.stringify(e)),n.append(t,e)}}class ET extends ST{constructor(){super({method:iT.Get,headers:new lT})}}class TT extends yT{constructor(t){super();const e=t.url;this.url=t.url;const n=t.params||t.search;if(n){let t;if((t="object"!=typeof n||n instanceof mT?n.toString():function(t){const e=new mT;return Object.keys(t).forEach(n=>{const r=t[n];r&&Array.isArray(r)?r.forEach(t=>e.append(n,t.toString())):e.append(n,r.toString())}),e}(n).toString()).length>0){let n="?";-1!=this.url.indexOf("?")&&(n="&"==this.url[this.url.length-1]?"":"&"),this.url=e+n+t}}this._body=t.body,this.method=dT(t.method),this.headers=new lT(t.headers),this.contentType=this.detectContentType(),this.withCredentials=t.withCredentials,this.responseType=t.responseType}detectContentType(){switch(this.headers.get("content-type")){case"application/json":return sT.JSON;case"application/x-www-form-urlencoded":return sT.FORM;case"multipart/form-data":return sT.FORM_DATA;case"text/plain":case"text/html":return sT.TEXT;case"application/octet-stream":return this._body instanceof AT?sT.ARRAY_BUFFER:sT.BLOB;default:return this.detectContentTypeFromBody()}}detectContentTypeFromBody(){return null==this._body?sT.NONE:this._body instanceof mT?sT.FORM:this._body instanceof xT?sT.FORM_DATA:this._body instanceof OT?sT.BLOB:this._body instanceof AT?sT.ARRAY_BUFFER:this._body&&"object"==typeof this._body?sT.JSON:sT.TEXT}getBody(){switch(this.contentType){case sT.JSON:case sT.FORM:return this.text();case sT.FORM_DATA:return this._body;case sT.TEXT:return this.text();case sT.BLOB:return this.blob();case sT.ARRAY_BUFFER:return this.arrayBuffer();default:return null}}}const IT=function(){},kT="object"==typeof window?window:IT,xT=kT.FormData||IT,OT=kT.Blob||IT,AT=kT.ArrayBuffer||IT;function PT(t,e){return t.createConnection(e).response}function NT(t,e,n,r){return t.merge(new ST(e?{method:e.method||n,url:e.url||r,search:e.search,params:e.params,headers:e.headers,body:e.body,withCredentials:e.withCredentials,responseType:e.responseType}:{method:n,url:r}))}class DT{constructor(t,e){this._backend=t,this._defaultOptions=e}request(t,e){let n;if("string"==typeof t)n=PT(this._backend,new TT(NT(this._defaultOptions,e,iT.Get,t)));else{if(!(t instanceof TT))throw new Error("First argument must be a url string or Request instance.");n=PT(this._backend,t)}return n}get(t,e){return this.request(new TT(NT(this._defaultOptions,e,iT.Get,t)))}post(t,e,n){return this.request(new TT(NT(this._defaultOptions.merge(new ST({body:e})),n,iT.Post,t)))}put(t,e,n){return this.request(new TT(NT(this._defaultOptions.merge(new ST({body:e})),n,iT.Put,t)))}delete(t,e){return this.request(new TT(NT(this._defaultOptions,e,iT.Delete,t)))}patch(t,e,n){return this.request(new TT(NT(this._defaultOptions.merge(new ST({body:e})),n,iT.Patch,t)))}head(t,e){return this.request(new TT(NT(this._defaultOptions,e,iT.Head,t)))}options(t,e){return this.request(new TT(NT(this._defaultOptions,e,iT.Options,t)))}}function RT(){return new wT}function MT(t,e){return new DT(t,e)}class LT{}var VT=n("wj3C"),FT=n.n(VT);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)},n="undefined"!=typeof window&&window===this?this:"undefined"!=typeof global&&null!=global?global:this;function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e(function(e){e(t)})}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c(function(){e.g()})}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},r.prototype.f=function(t){this.c(function(){throw t})},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.o(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.v(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.o=function(t){var e=this.f();t.Ja(e.resolve,e.reject)},e.prototype.v=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,s=new e(function(t,e){i=t,o=e});return this.Ja(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ja=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e(function(e,n){n(t)})},e.race=function(t){return new e(function(e,n){for(var r=i(t),s=r.next();!s.done;s=r.next())o(s.value).Ja(e,n)})},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e(function(t,e){function i(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,o(r.value).Ja(i(s.length-1),e),r=n.next()}while(!r.done)})},e});var o=o||{},s=this||self;function a(t){return"string"==typeof t}function l(t){return"boolean"==typeof t}var u=/^[\w+\/_-]+[=]{0,2}$/,c=null;function h(){}function d(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function p(t){return null===t}function f(t){return"array"==d(t)}function g(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function m(t){return"function"==d(t)}function y(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),b=0;function _(t,e,n){return t.call.apply(t.bind,arguments)}function w(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function C(t,e,n){return(C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:w).apply(null,arguments)}function S(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var E=Date.now||function(){return+new Date};function T(t,e){function n(){}n.prototype=e.prototype,t.qb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.fd=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function I(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function k(t){if(Error.captureStackTrace)Error.captureStackTrace(this,k);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function x(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");k.call(this,n+t[r])}function O(t,e){throw new x("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function A(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function P(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function N(){this.b=this.a=null}T(k,Error),k.prototype.name="CustomError",T(x,k),x.prototype.name="AssertionError",A.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var D=new A(function(){return new M},function(t){t.reset()});function R(){var t=Bt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function M(){this.next=this.b=this.a=null}function L(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(y(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;O("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}N.prototype.add=function(t,e){var n=D.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},M.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},M.prototype.reset=function(){this.next=this.b=this.a=null};var V=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(a(t))return a(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},F=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i=a(t)?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)},j=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i=a(t)?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},U=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=a(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function B(t,e){return 0<=V(t,e)}function q(t,e){var n;return(n=0<=(e=V(t,e)))&&Array.prototype.splice.call(t,e,1),n}function z(t,e){!function(t,e){for(var n=a(t)?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,function(n,r){e.call(void 0,n,r,t)&&Array.prototype.splice.call(t,r,1)})}function W(t){return Array.prototype.concat.apply([],arguments)}function H(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function K(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function G(t){for(var e in t)return!1;return!0}function Q(t){var e,n={};for(e in t)n[e]=t[e];return n}var $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Y(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<$.length;o++)n=$[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function J(t,e){this.a=t===tt&&e||"",this.b=Z}function X(t){return t instanceof J&&t.constructor===J&&t.b===Z?t.a:(O("expected object of type Const, got '"+t+"'"),"type_error:Const")}J.prototype.qa=!0,J.prototype.pa=function(){return this.a},J.prototype.toString=function(){return"Const{"+this.a+"}"};var Z={},tt={},et=new J(tt,"");function nt(){this.a="",this.b=at}function rt(t){return t instanceof nt&&t.constructor===nt&&t.b===at?t.a:(O("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function it(t,e){var n=X(t);if(!st.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return lt(t=n.replace(ot,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof J?X(t):encodeURIComponent(String(t))}))}nt.prototype.qa=!0,nt.prototype.pa=function(){return this.a.toString()},nt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var ot=/%{(\w+)}/g,st=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^\/\\]|[^:\/\\%]+\/|[^:\/\\%]*[?#]|about:blank#)/i,at={};function lt(t){var e=new nt;return e.a=t,e}var ut=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},ct=/&/g,ht=/</g,dt=/>/g,pt=/"/g,ft=/'/g,gt=/\x00/g,mt=/[\x00&<>"']/;function yt(t,e){return-1!=t.indexOf(e)}function vt(t,e){return t<e?-1:t>e?1:0}function bt(){this.a="",this.b=Et}function _t(t){return t instanceof bt&&t.constructor===bt&&t.b===Et?t.a:(O("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}bt.prototype.qa=!0,bt.prototype.pa=function(){return this.a.toString()},bt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var wt=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i;function Ct(t){return t instanceof bt?t:(t="object"==typeof t&&t.qa?t.pa():String(t),wt.test(t)||(t="about:invalid#zClosurez"),Tt(t))}var St,Et={};function Tt(t){var e=new bt;return e.a=t,e}Tt("about:blank");t:{var It=s.navigator;if(It){var kt=It.userAgent;if(kt){St=kt;break t}}St=""}function xt(t){return yt(St,t)}function Ot(){this.a="",this.b=Pt}function At(t){return t instanceof Ot&&t.constructor===Ot&&t.b===Pt?t.a:(O("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}Ot.prototype.qa=!0,Ot.prototype.pa=function(){return this.a.toString()},Ot.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Pt={};function Nt(t){var e=new Ot;return e.a=t,e}Nt("<!DOCTYPE html>");var Dt,Rt,Mt=Nt("");function Lt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Vt(t){return mt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(ct,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(ht,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(dt,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(pt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(ft,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(gt,"&#0;"))),t}function Ft(t){s.setTimeout(function(){throw t},0)}function jt(t,e){Rt||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);Rt=function(){t.then(qt)}}else Rt=function(){var t=qt;!m(s.setImmediate)||s.Window&&s.Window.prototype&&!xt("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(Dt||(Dt=function(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!xt("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",function(t){var e=lt(X(et));L(t,"HTMLIFrameElement"),t.src=rt(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(At(Mt)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=C(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!xt("Trident")&&!xt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).yb;n.yb=null,t()}},function(t){r.next={yb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){s.setTimeout(t,0)}}()),Dt(t)):s.setImmediate(t)}}(),Ut||(Rt(),Ut=!0),Bt.add(t,e)}Nt("<br>");var Ut=!1,Bt=new N;function qt(){for(var t;t=R();){try{t.a.call(t.b)}catch(e){Ft(e)}P(D,t)}Ut=!1}function zt(t,e){if(this.a=Wt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,function(t){ne(n,Ht,t)},function(t){if(!(t instanceof ue))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}ne(n,Kt,t)})}catch(r){ne(this,Kt,r)}}var Wt=0,Ht=2,Kt=3;function Gt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Gt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Qt=new A(function(){return new Gt},function(t){t.reset()});function $t(t,e,n){var r=Qt.get();return r.g=t,r.b=e,r.f=n,r}function Yt(t){if(t instanceof zt)return t;var e=new zt(h);return ne(e,Ht,t),e}function Jt(t){return new zt(function(e,n){n(t)})}function Xt(t,e,n){re(t,e,n,null)||jt(S(e,t))}function Zt(t){return new zt(function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Gb:!0,value:o}:{Gb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Xt(t[o],S(i,o,!0),S(i,o,!1));else e(r)})}function te(t,e){t.b||t.a!=Ht&&t.a!=Kt||ie(t),t.f?t.f.next=e:t.b=e,t.f=e}function ee(t,e,n,r){var i=$t(null,null,null);return i.a=new zt(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(s){o(s)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof ue?o(e):t(i)}catch(s){o(s)}}:o}),i.a.c=t,te(t,i),i.a}function ne(t,e,n){t.a==Wt&&(t===n&&(e=Kt,n=new TypeError("Promise cannot resolve to itself")),t.a=1,re(n,t.Oc,t.Pc,t)||(t.i=n,t.a=e,t.c=null,ie(t),e!=Kt||n instanceof ue||function(t,e){t.g=!0,jt(function(){t.g&&le.call(null,e)})}(t,n)))}function re(t,e,n,r){if(t instanceof zt)return te(t,$t(e||h,n||null,r)),!0;if(I(t))return t.then(e,n,r),!0;if(y(t))try{var i=t.then;if(m(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,function(t){s||(s=!0,n.call(i,t))},o)}catch(a){o(a)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function ie(t){t.h||(t.h=!0,jt(t.Zb,t))}function oe(t){var e=null;return t.b&&(t.b=(e=t.b).next,e.next=null),t.b||(t.f=null),e}function se(t,e,n,r){if(n==Kt&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,ae(e,n,r);else try{e.c?e.g.call(e.f):ae(e,n,r)}catch(i){le.call(null,i)}P(Qt,e)}function ae(t,e,n){e==Ht?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}zt.prototype.then=function(t,e,n){return ee(this,m(t)?t:null,m(e)?e:null,n)},zt.prototype.$goog_Thenable=!0,(t=zt.prototype).ka=function(t,e){return(t=$t(t,t,e)).c=!0,te(this,t),this},t.s=function(t,e){return ee(this,null,t,e)},t.cancel=function(t){this.a==Wt&&jt(function(){!function t(e,n){if(e.a==Wt)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==Wt&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):oe(r),se(r,o,Kt,n)))}e.c=null}else ne(e,Kt,n)}(this,new ue(t))},this)},t.Oc=function(t){this.a=Wt,ne(this,Ht,t)},t.Pc=function(t){this.a=Wt,ne(this,Kt,t)},t.Zb=function(){for(var t;t=oe(this);)se(this,t,this.a,this.i);this.h=!1};var le=Ft;function ue(t){k.call(this,t)}function ce(){0!=he&&(de[this[v]||(this[v]=++b)]=this),this.ta=this.ta,this.la=this.la}T(ue,k),ue.prototype.name="cancel";var he=0,de={};function pe(t){if(!t.ta&&(t.ta=!0,t.xa(),0!=he)){var e=t[v]||(t[v]=++b);if(0!=he&&t.la&&0<t.la.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete de[e]}}function fe(t){return fe[" "](t),t}ce.prototype.ta=!1,ce.prototype.xa=function(){if(this.la)for(;this.la.length;)this.la.shift()()},fe[" "]=h;var ge,me,ye=xt("Opera"),ve=xt("Trident")||xt("MSIE"),be=xt("Edge"),_e=be||ve,we=xt("Gecko")&&!(yt(St.toLowerCase(),"webkit")&&!xt("Edge"))&&!(xt("Trident")||xt("MSIE"))&&!xt("Edge"),Ce=yt(St.toLowerCase(),"webkit")&&!xt("Edge");function Se(){var t=s.document;return t?t.documentMode:void 0}t:{var Ee="",Te=(me=St,we?/rv:([^\);]+)(\)|;)/.exec(me):be?/Edge\/([\d\.]+)/.exec(me):ve?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(me):Ce?/WebKit\/(\S+)/.exec(me):ye?/(?:Version)[ \/]?(\S+)/.exec(me):void 0);if(Te&&(Ee=Te?Te[1]:""),ve){var Ie=Se();if(null!=Ie&&Ie>parseFloat(Ee)){ge=String(Ie);break t}}ge=Ee}var ke,xe={};function Oe(t){return function(t,e){var n=xe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=ut(String(ge)).split("."),r=ut(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=vt(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||vt(0==s[2].length,0==a[2].length)||vt(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}ke=s.document&&ve?Se():void 0;var Ae=Object.freeze||function(t){return t},Pe=!ve||9<=Number(ke),Ne=ve&&!Oe("9"),De=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",h,e),s.removeEventListener("test",h,e)}catch(n){}return t}();function Re(t,e){this.type=t,this.b=this.target=e,this.Mb=!0}function Me(t,e){if(Re.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(we){t:{try{fe(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=a(t.pointerType)?t.pointerType:Le[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Re.prototype.preventDefault=function(){this.Mb=!1},T(Me,Re);var Le=Ae({2:"touch",3:"pen",4:"mouse"});Me.prototype.preventDefault=function(){Me.qb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Ne)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Me.prototype.f=function(){return this.a};var Ve="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function je(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Na=i,this.key=++Fe,this.ra=this.Ia=!1}function Ue(t){t.ra=!0,t.listener=null,t.proxy=null,t.src=null,t.Na=null}function Be(t){this.src=t,this.a={},this.b=0}function qe(t,e){var n=e.type;n in t.a&&q(t.a[n],e)&&(Ue(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function ze(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ra&&o.listener==e&&o.capture==!!n&&o.Na==r)return i}return-1}Be.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=ze(t,e,r,i);return-1<s?(e=t[s],n||(e.Ia=!1)):((e=new je(e,this.src,o,!!r,i)).Ia=n,t.push(e)),e};var We="closure_lm_"+(1e6*Math.random()|0),He={};function Ke(t,e,n,r,i){if(r&&r.once)Qe(t,e,n,r,i);else if(f(e))for(var o=0;o<e.length;o++)Ke(t,e[o],n,r,i);else n=rn(n),t&&t[Ve]?sn(t,e,n,y(r)?!!r.capture:!!r,i):Ge(t,e,n,!1,r,i)}function Ge(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=y(i)?!!i.capture:!!i,a=en(t);if(a||(t[We]=a=new Be(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=tn,e=Pe?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)De||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Je(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function Qe(t,e,n,r,i){if(f(e))for(var o=0;o<e.length;o++)Qe(t,e[o],n,r,i);else n=rn(n),t&&t[Ve]?an(t,e,n,y(r)?!!r.capture:!!r,i):Ge(t,e,n,!0,r,i)}function $e(t,e,n,r,i){if(f(e))for(var o=0;o<e.length;o++)$e(t,e[o],n,r,i);else r=y(r)?!!r.capture:!!r,n=rn(n),t&&t[Ve]?(t=t.u,(e=String(e).toString())in t.a&&-1<(n=ze(o=t.a[e],n,r,i))&&(Ue(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=en(t))&&(e=t.a[e.toString()],t=-1,e&&(t=ze(e,n,r,i)),(n=-1<t?e[t]:null)&&Ye(n))}function Ye(t){if("number"!=typeof t&&t&&!t.ra){var e=t.src;if(e&&e[Ve])qe(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Je(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=en(e))?(qe(n,t),0==n.b&&(n.src=null,e[We]=null)):Ue(t)}}}function Je(t){return t in He?He[t]:He[t]="on"+t}function Xe(t,e,n,r){var i=!0;if((t=en(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ra&&(o=Ze(o,r),i=i&&!1!==o)}return i}function Ze(t,e){var n=t.listener,r=t.Na||t.src;return t.Ia&&Ye(t),n.call(r,e)}function tn(t,e){if(t.ra)return!0;if(!Pe){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Me(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=Xe(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=Xe(r[i],t,!1,e),n=n&&o}return n}return Ze(t,new Me(e,this))}function en(t){return(t=t[We])instanceof Be?t:null}var nn="__closure_events_fn_"+(1e9*Math.random()>>>0);function rn(t){return m(t)?t:(t[nn]||(t[nn]=function(e){return t.handleEvent(e)}),t[nn])}function on(){ce.call(this),this.u=new Be(this),this.Sb=this,this.Wa=null}function sn(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function an(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function ln(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ra&&s.capture==n){var a=s.listener,l=s.Na||s.src;s.Ia&&qe(t.u,s),i=!1!==a.call(l,r)&&i}}return i&&0!=r.Mb}function un(t,e,n){if(m(t))n&&(t=C(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=C(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function cn(t){var e=null;return new zt(function(n,r){-1==(e=un(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).s(function(t){throw s.clearTimeout(e),t})}function hn(t){if(t.U&&"function"==typeof t.U)return t.U();if(a(t))return t.split("");if(g(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function dn(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.U||"function"!=typeof t.U){if(g(t)||a(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function pn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof pn)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function fn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];gn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)gn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function gn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}T(on,ce),on.prototype[Ve]=!0,on.prototype.addEventListener=function(t,e,n,r){Ke(this,t,e,n,r)},on.prototype.removeEventListener=function(t,e,n,r){$e(this,t,e,n,r)},on.prototype.dispatchEvent=function(t){var e,n=this.Wa;if(n)for(e=[];n;n=n.Wa)e.push(n);n=this.Sb;var r=t.type||t;if(a(t))t=new Re(t,n);else if(t instanceof Re)t.target=t.target||n;else{var i=t;Y(t=new Re(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=ln(s,r,!0,t)&&i}if(i=ln(s=t.b=n,r,!0,t)&&i,i=ln(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=ln(s=t.b=e[o],r,!1,t)&&i;return i},on.prototype.xa=function(){if(on.qb.xa.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Ue(n[r]);delete e.a[t],e.b--}}this.Wa=null},(t=pn.prototype).U=function(){fn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.X=function(){return fn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return gn(this.b,t)?this.b[t]:e},t.set=function(t,e){gn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var mn=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function yn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof yn?(this.h=void 0!==e?e:t.h,vn(this,t.f),this.i=t.i,this.b=t.b,bn(this,t.l),this.c=t.c,_n(this,jn(t.a)),this.g=t.g):t&&(n=String(t).match(mn))?(this.h=!!e,vn(this,n[1]||"",!0),this.i=Tn(n[2]||""),this.b=Tn(n[3]||"",!0),bn(this,n[4]),this.c=Tn(n[5]||"",!0),_n(this,n[6]||"",!0),this.g=Tn(n[7]||"")):(this.h=!!e,this.a=new Dn(null,this.h))}function vn(t,e,n){t.f=n?Tn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function bn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function _n(t,e,n){e instanceof Dn?(t.a=e,function(t,e){e&&!t.f&&(Rn(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Ln(this,e),Fn(this,n,t))},t)),t.f=e}(t.a,t.h)):(n||(e=In(e,Pn)),t.a=new Dn(e,t.h))}function wn(t,e,n){t.a.set(e,n)}function Cn(t,e){return t.a.get(e)}function Sn(t){return t instanceof yn?new yn(t):new yn(t,void 0)}function En(t,e){var n=new yn(null,void 0);return vn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Tn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function In(t,e,n){return a(t)?(t=encodeURI(t).replace(e,kn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function kn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}yn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(In(e,xn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(In(e,xn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(In(n,"/"==n.charAt(0)?An:On,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",In(n,Nn)),t.join("")},yn.prototype.resolve=function(t){var e=new yn(this),n=!!t.f;n?vn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)bn(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(yt(i,"./")||yt(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?_n(e,jn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var xn=/[#\/\?@]/g,On=/[#\?:]/g,An=/[#\?]/g,Pn=/[#\?@]/g,Nn=/#/g;function Dn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Rn(t){t.a||(t.a=new pn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Mn(t){var e=dn(t);if(void 0===e)throw Error("Keys are undefined");var n=new Dn(null,void 0);t=hn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];f(o)?Fn(n,i,o):n.add(i,o)}return n}function Ln(t,e){Rn(t),e=Un(t,e),gn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,gn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&fn(t)))}function Vn(t,e){return Rn(t),e=Un(t,e),gn(t.a.b,e)}function Fn(t,e,n){Ln(t,e),0<n.length&&(t.c=null,t.a.set(Un(t,e),H(n)),t.b+=n.length)}function jn(t){var e=new Dn;return e.c=t.c,t.a&&(e.a=new pn(t.a),e.b=t.b),e}function Un(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(t=Dn.prototype).add=function(t,e){Rn(this),this.c=null,t=Un(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){Rn(this),this.a.forEach(function(n,r){F(n,function(n){t.call(e,n,r,this)},this)},this)},t.X=function(){Rn(this);for(var t=this.a.U(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.U=function(t){Rn(this);var e=[];if(a(t))Vn(this,t)&&(e=W(e,this.a.get(Un(this,t))));else{t=this.a.U();for(var n=0;n<t.length;n++)e=W(e,t[n])}return e},t.set=function(t,e){return Rn(this),this.c=null,Vn(this,t=Un(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.U(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.U(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Bn=!ve||9<=Number(ke);function qn(t){var e=document;return a(t)?e.getElementById(t):t}function zn(t,e){K(e,function(e,n){e&&"object"==typeof e&&e.qa&&(e=e.pa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Wn.hasOwnProperty(n)?t.setAttribute(Wn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}var Wn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Hn(t){if(t&&"number"==typeof t.length){if(y(t))return"function"==typeof t.item||"string"==typeof t.item;if(m(t))return"function"==typeof t.item}return!1}function Kn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(f(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(s=n[i])&&(r.push(o),Yn(i,r),r.push(":"),t(e,s,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Yn(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Gn,t,e),e.join("")}function Gn(){}var Qn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},$n=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Yn(t,e){e.push('"',t.replace($n,function(t){var e=Qn[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Qn[t]=e),e}),'"')}function Jn(){var t=mr();return ve&&!!ke&&11==ke||/Edge\/\d+/.test(t)}function Xn(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function Zn(t,e){e=e||s.window;var n="about:blank";t&&(n=_t(Ct(t)).toString()),e.location.href=n}function tr(t){return!!((t=(t||mr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function er(t){t=t||s.window;try{t.close()}catch(e){}}function nr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=mr().toLowerCase(),r&&(e.target=r,yt(n,"crios/")&&(e.target="_blank")),pr(mr())==hr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof bt?n:Ct(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((xt("iPhone")&&!xt("iPod")&&!xt("iPad")||xt("iPad")||xt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(L(s=r.document.createElement("A"),"HTMLAnchorElement"),e instanceof bt||e instanceof bt||(e="object"==typeof e&&e.qa?e.pa():String(e),wt.test(e)||(e="about:invalid#zClosurez"),e=Tt(e)),s.href=_t(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=r.open("",n,s),t=_t(e).toString(),s&&(_e&&yt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t=Nt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Vt(t)+'">'),s.document.write(At(t)),s.document.close())):(s=r.open(_t(e).toString(),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(a){}return s}var rr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ir=/^[^@]+@[^@]+$/;function or(){var t=null;return new zt(function(e){"complete"==s.document.readyState?e():(t=function(){e()},Qe(window,"load",t))}).s(function(e){throw $e(window,"load",t),e})}function sr(t){return t=t||mr(),!("file:"!==wr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function ar(){var t=s.window;try{return!(!t||t==t.top)}catch(e){return!1}}function lr(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function ur(){return FT.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":FT.a.INTERNAL.hasOwnProperty("node")?"Node":lr()?"Worker":"Browser"}function cr(){var t=ur();return"ReactNative"===t||"Node"===t}var hr="Firefox",dr="Chrome";function pr(t){var e=t.toLowerCase();return yt(e,"opera/")||yt(e,"opr/")||yt(e,"opios/")?"Opera":yt(e,"iemobile")?"IEMobile":yt(e,"msie")||yt(e,"trident/")?"IE":yt(e,"edge/")?"Edge":yt(e,"firefox/")?hr:yt(e,"silk/")?"Silk":yt(e,"blackberry")?"Blackberry":yt(e,"webos")?"Webos":!yt(e,"safari/")||yt(e,"chrome/")||yt(e,"crios/")||yt(e,"android")?!yt(e,"chrome/")&&!yt(e,"crios/")||yt(e,"edge/")?yt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":dr:"Safari"}var fr={Vc:"FirebaseCore-web",Xc:"FirebaseUI-web"};function gr(t,e){e=e||[];var n,r=[],i={};for(n in fr)i[fr[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=ur())?r=pr(i=mr()):"Worker"===r&&(r=pr(i=mr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function mr(){return s.navigator&&s.navigator.userAgent||""}function yr(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function vr(){try{var t=s.localStorage,e=Ir();if(t)return t.setItem(e,"1"),t.removeItem(e),!Jn()||!!s.indexedDB}catch(n){return lr()&&!!s.indexedDB}return!1}function br(){return(_r()||"chrome-extension:"===wr()||sr())&&!cr()&&vr()&&!lr()}function _r(){return"http:"===wr()||"https:"===wr()}function wr(){return s.location&&s.location.protocol||null}function Cr(t){return!tr(t=t||mr())&&pr(t)!=hr}function Sr(t){return void 0===t?null:Kn(t)}function Er(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!=t[e]&&(n[e]=t[e]);return n}function Tr(t){if(null!==t)return JSON.parse(t)}function Ir(t){return t||Math.floor(1e9*Math.random()).toString()}function kr(t){return"Safari"!=pr(t=t||mr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function xr(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Or(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=mr(),e=ur(),this.b=tr(t)||"ReactNative"===e}function Ar(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Pr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Nr(){return!(!yr("fireauth.oauthhelper",s)&&!yr("fireauth.iframe",s))}Or.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!_r()&&"chrome-extension:"!==wr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Dr,Rr={};function Mr(t){Rr[t]||(Rr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Lr={};Object.defineProperty(Lr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Lr,"abcd",{configurable:!0,enumerable:!0,value:2}),Dr=2==Lr.abcd}catch(me){Dr=!1}function Vr(t,e,n){Dr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Fr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Vr(t,n,e[n])}function jr(t){var e={};return Fr(e,t),e}function Ur(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Vr(e,n,Ur(t[n]));return e}function Br(t){var e={},n=t[zr],r=t[Wr];if(!(t=t[Hr])||t!=qr&&!n)throw Error("Invalid provider user info!");e[Gr]=r||null,e[Kr]=n||null,Vr(this,$r,t),Vr(this,Qr,Ur(e))}var qr="EMAIL_SIGNIN",zr="email",Wr="newEmail",Hr="requestType",Kr="email",Gr="fromEmail",Qr="data",$r="operation";function Yr(t,e){this.code=Xr+t,this.message=e||Zr[t]||""}function Jr(t){var e=t&&t.code;return e?new Yr(e.substring(Xr.length),t.message):null}T(Yr,Error),Yr.prototype.A=function(){return{code:this.code,message:this.message}},Yr.prototype.toJSON=function(){return this.A()};var Xr="auth/",Zr={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function ti(t){var e=Cn(t=Sn(t),ei)||null,n=Cn(t,ni)||null,r=Cn(t,oi)||null;if(r=r&&ai[r]||null,!e||!n||!r)throw new Yr("argument-error",ei+", "+ni+"and "+oi+" are required in a valid action code URL.");Fr(this,{apiKey:e,operation:r,code:n,continueUrl:Cn(t,ri)||null,languageCode:Cn(t,ii)||null,tenantId:Cn(t,si)||null})}var ei="apiKey",ni="oobCode",ri="continueUrl",ii="languageCode",oi="mode",si="tenantId",ai={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",signIn:qr,verifyEmail:"VERIFY_EMAIL"};function li(t){try{return new ti(t)}catch(e){return null}}function ui(t){var e=t[fi];if(void 0===e)throw new Yr("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new Yr("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[ci];if(n&&"object"==typeof n){e=n[yi];var r=n[gi];if(n=n[mi],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new Yr("argument-error",gi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Yr("argument-error",mi+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new Yr("argument-error",yi+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Yr("missing-android-pkg-name")}}else if(void 0!==n)throw new Yr("argument-error",ci+" property must be a non null object when specified.");if(this.f=null,(e=t[pi])&&"object"==typeof e){if("string"==typeof(e=e[vi])&&e.length)this.f=e;else if(void 0!==e)throw new Yr("argument-error",vi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new Yr("argument-error",pi+" property must be a non null object when specified.");if(void 0!==(e=t[di])&&"boolean"!=typeof e)throw new Yr("argument-error",di+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[hi])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new Yr("argument-error",hi+" property must be a non empty string when specified.");this.i=t||null}var ci="android",hi="dynamicLinkDomain",di="handleCodeInApp",pi="iOS",fi="url",gi="installApp",mi="minimumVersion",yi="packageName",vi="bundleId";function bi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var _i=null,wi=null;function Ci(t){this.f=t.sub,E(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.c=t.firebase&&t.firebase.tenant||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function Si(t){return(t=Ei(t))&&t.sub&&t.iss&&t.aud&&t.exp?new Ci(t):null}function Ei(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(function(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=wi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!_i){_i={},wi={};for(var t=0;65>t;t++)_i[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),wi[_i[t]]=t,62<=t&&(wi["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,function(t){e+=String.fromCharCode(t)}),e}(t))}catch(r){}return null}Ci.prototype.R=function(){return this.c},Ci.prototype.g=function(){return this.b};var Ti,Ii={ad:{bb:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},cd:{bb:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},dd:{bb:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function ki(t){for(var e in Ii)if(Ii[e].id===t)return{firebaseEndpoint:(t=Ii[e]).bb,secureTokenEndpoint:t.ib};return null}Ti=ki("__EID__")?"__EID__":void 0;var xi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Oi=["client_id","response_type","scope","redirect_uri","state"],Ai={Wc:{Oa:"locale",Da:500,Ca:600,Pa:"facebook.com",hb:Oi},Yc:{Oa:null,Da:500,Ca:620,Pa:"github.com",hb:Oi},Zc:{Oa:"hl",Da:515,Ca:680,Pa:"google.com",hb:Oi},ed:{Oa:"lang",Da:485,Ca:705,Pa:"twitter.com",hb:xi}};function Pi(t){for(var e in Ai)if(Ai[e].Pa==t)return Ai[e];return null}function Ni(t){var e={};e["facebook.com"]=Vi,e["google.com"]=ji,e["github.com"]=Fi,e["twitter.com"]=Ui;var n=t&&t[Ri];try{if(n)return e[n]?new e[n](t):new Li(t);if(void 0!==t[Di])return new Mi(t)}catch(r){}return null}var Di="idToken",Ri="providerId";function Mi(t){var e=t[Ri];if(!e&&t[Di]){var n=Si(t[Di]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Vr(this,"providerId",e),Vr(this,"isNewUser",n)}function Li(t){Mi.call(this,t),Vr(this,"profile",Ur((t=Tr(t.rawUserInfo||"{}"))||{}))}function Vi(t){if(Li.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Fi(t){if(Li.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Vr(this,"username",this.profile&&this.profile.login||null)}function ji(t){if(Li.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ui(t){if(Li.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Vr(this,"username",t.screenName||null)}function Bi(t){var e=Sn(t),n=Cn(e,"link"),r=Cn(Sn(n),"link");return e=Cn(e,"deep_link_id"),Cn(Sn(e),"link")||e||r||n||t}function qi(){}function zi(t,e){return t.then(function(t){if(t[Os]){var n=Si(t[Os]);if(!n||e!=n.f)throw new Yr("user-mismatch");return t}throw new Yr("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==Xr+"user-not-found"?new Yr("user-mismatch"):t})}function Wi(t,e){if(!e)throw new Yr("internal-error","failed to construct a credential");this.a=e,Vr(this,"providerId",t),Vr(this,"signInMethod",t)}function Hi(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function Ki(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new Wi(t.providerId,t.pendingToken)}catch(e){}return null}function Gi(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Vr(this,"idToken",e.idToken),e.accessToken&&Vr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Vr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new Yr("internal-error","failed to construct a credential");Vr(this,"accessToken",e.oauthToken),Vr(this,"secret",e.oauthTokenSecret)}Vr(this,"providerId",t),Vr(this,"signInMethod",n)}function Qi(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Mn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function $i(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new Gi(t.providerId,e,t.signInMethod)}catch(n){}}return null}function Yi(t,e){this.Fc=e||[],Fr(this,{providerId:t,isOAuthProvider:!0}),this.zb={},this.cb=(Pi(t)||{}).Oa||null,this.ab=null}function Ji(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new Yr("argument-error",'SAML provider IDs must be prefixed with "saml."');Yi.call(this,t,[])}function Xi(t){Yi.call(this,t,Oi),this.a=[]}function Zi(){Xi.call(this,"facebook.com")}function to(t){if(!t)throw new Yr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new Zi).credential({accessToken:e})}function eo(){Xi.call(this,"github.com")}function no(t){if(!t)throw new Yr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new eo).credential({accessToken:e})}function ro(){Xi.call(this,"google.com"),this.wa("profile")}function io(t,e){var n=t;return y(t)&&(n=t.idToken,e=t.accessToken),(new ro).credential({idToken:n,accessToken:e})}function oo(){Yi.call(this,"twitter.com",xi)}function so(t,e){var n=t;if(y(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new Yr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new Gi("twitter.com",n,"twitter.com")}function ao(t,e,n){this.a=t,this.c=e,Vr(this,"providerId","password"),Vr(this,"signInMethod",n===uo.EMAIL_LINK_SIGN_IN_METHOD?uo.EMAIL_LINK_SIGN_IN_METHOD:uo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function lo(t){return t&&t.email&&t.password?new ao(t.email,t.password,t.signInMethod):null}function uo(){Fr(this,{providerId:"password",isOAuthProvider:!1})}function co(t,e){if(!(e=ho(e)))throw new Yr("argument-error","Invalid email link!");return new ao(t,e.code,uo.EMAIL_LINK_SIGN_IN_METHOD)}function ho(t){return(t=li(t=Bi(t)))&&t.operation===qr?t:null}function po(t){if(!(t.Ua&&t.Ta||t.Fa&&t.ba))throw new Yr("internal-error");this.a=t,Vr(this,"providerId","phone"),Vr(this,"signInMethod","phone")}function fo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return F(["verificationId","verificationCode","temporaryProof","phoneNumber"],function(n){t[n]&&(e[n]=t[n])}),new po(e)}return null}function go(t){return t.a.Fa&&t.a.ba?{temporaryProof:t.a.Fa,phoneNumber:t.a.ba}:{sessionInfo:t.a.Ua,code:t.a.Ta}}function mo(t){try{this.a=t||FT.a.auth()}catch(e){throw new Yr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Fr(this,{providerId:"phone",isOAuthProvider:!1})}function yo(t,e){if(!t)throw new Yr("missing-verification-id");if(!e)throw new Yr("missing-verification-code");return new po({Ua:t,Ta:e})}function vo(t){if(t.temporaryProof&&t.phoneNumber)return new po({Fa:t.temporaryProof,ba:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return io(o,n);case"facebook.com":return to(n);case"github.com":return no(n);case"twitter.com":return so(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new Wi(e,s):new Gi(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Xi(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(a){return null}}function bo(t){if(!t.isOAuthProvider)throw new Yr("invalid-oauth-provider")}function _o(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new Yr("invalid-auth-event");if(this.g&&this.a)throw new Yr("invalid-auth-event");if(this.g&&!this.f)throw new Yr("invalid-auth-event")}function wo(t){return(t=t||{}).type?new _o(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Jr(t.error),t.postBody,t.tenantId):null}function Co(){this.b=null,this.a=[]}T(Li,Mi),T(Vi,Li),T(Fi,Li),T(ji,Li),T(Ui,Li),Wi.prototype.na=function(t){return Gs(t,Hi(this))},Wi.prototype.b=function(t,e){var n=Hi(this);return n.idToken=e,Qs(t,n)},Wi.prototype.f=function(t,e){return zi($s(t,Hi(this)),e)},Wi.prototype.A=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},Gi.prototype.na=function(t){return Gs(t,Qi(this))},Gi.prototype.b=function(t,e){var n=Qi(this);return n.idToken=e,Qs(t,n)},Gi.prototype.f=function(t,e){return zi($s(t,Qi(this)),e)},Gi.prototype.A=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},Yi.prototype.Ea=function(t){return this.zb=Q(t),this},T(Ji,Yi),T(Xi,Yi),Xi.prototype.wa=function(t){return B(this.a,t)||this.a.push(t),this},Xi.prototype.Hb=function(){return H(this.a)},Xi.prototype.credential=function(t,e){var n;if(!(n=y(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new Yr("argument-error","credential failed: must provide the ID token and/or the access token.");return new Gi(this.providerId,n,this.providerId)},T(Zi,Xi),Vr(Zi,"PROVIDER_ID","facebook.com"),Vr(Zi,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),T(eo,Xi),Vr(eo,"PROVIDER_ID","github.com"),Vr(eo,"GITHUB_SIGN_IN_METHOD","github.com"),T(ro,Xi),Vr(ro,"PROVIDER_ID","google.com"),Vr(ro,"GOOGLE_SIGN_IN_METHOD","google.com"),T(oo,Yi),Vr(oo,"PROVIDER_ID","twitter.com"),Vr(oo,"TWITTER_SIGN_IN_METHOD","twitter.com"),ao.prototype.na=function(t){return this.signInMethod==uo.EMAIL_LINK_SIGN_IN_METHOD?Ea(t,ra,{email:this.a,oobCode:this.c}):Ea(t,_a,{email:this.a,password:this.c})},ao.prototype.b=function(t,e){return this.signInMethod==uo.EMAIL_LINK_SIGN_IN_METHOD?Ea(t,ia,{idToken:e,email:this.a,oobCode:this.c}):Ea(t,fa,{idToken:e,email:this.a,password:this.c})},ao.prototype.f=function(t,e){return zi(this.na(t),e)},ao.prototype.A=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},Fr(uo,{PROVIDER_ID:"password"}),Fr(uo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Fr(uo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),po.prototype.na=function(t){return t.Va(go(this))},po.prototype.b=function(t,e){var n=go(this);return n.idToken=e,Ea(t,Ca,n)},po.prototype.f=function(t,e){var n=go(this);return n.operation="REAUTH",zi(t=Ea(t,Sa,n),e)},po.prototype.A=function(){var t={providerId:"phone"};return this.a.Ua&&(t.verificationId=this.a.Ua),this.a.Ta&&(t.verificationCode=this.a.Ta),this.a.Fa&&(t.temporaryProof=this.a.Fa),this.a.ba&&(t.phoneNumber=this.a.ba),t},mo.prototype.Va=function(t,e){var n=this.a.b;return Yt(e.verify()).then(function(r){if(!a(r))throw new Yr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return function(t,e){return Ea(n,da,e)}(0,{phoneNumber:t,recaptchaToken:r}).then(function(t){return"function"==typeof e.reset&&e.reset(),t},function(t){throw"function"==typeof e.reset&&e.reset(),t});default:throw new Yr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Fr(mo,{PROVIDER_ID:"phone"}),Fr(mo,{PHONE_SIGN_IN_METHOD:"phone"}),_o.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},_o.prototype.R=function(){return this.h},_o.prototype.A=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.A()}};var So,Eo=null;function To(t){var e="unauthorized-domain",n=void 0,r=Sn(t);t=r.b,"chrome-extension"==(r=r.f)?n=Lt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Lt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",Yr.call(this,e,n)}function Io(t,e,n){Yr.call(this,t,n),(t=e||{}).Ab&&Vr(this,"email",t.Ab),t.ba&&Vr(this,"phoneNumber",t.ba),t.credential&&Vr(this,"credential",t.credential),t.Qb&&Vr(this,"tenantId",t.Qb)}function ko(t){if(t.code){var e=t.code||"";0==e.indexOf(Xr)&&(e=e.substring(Xr.length));var n={credential:vo(t),Qb:t.tenantId};if(t.email)n.Ab=t.email;else if(t.phoneNumber)n.ba=t.phoneNumber;else if(!n.credential)return new Yr(e,t.message||void 0);return new Io(e,n,t.message)}return null}function xo(){}function Oo(){}function Ao(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Po(){}function No(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=C(this.fc,this),this.a.onerror=C(this.Ib,this),this.a.onprogress=C(this.gc,this),this.a.ontimeout=C(this.kc,this)}function Do(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Ro(t,e,n){this.reset(t,e,n,void 0,void 0)}function Mo(t){this.f=t,this.b=this.c=this.a=null}function Lo(t,e){this.name=t,this.value=e}T(To,Yr),T(Io,Yr),Io.prototype.A=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.A();return e&&Y(t,e),t},Io.prototype.toJSON=function(){return this.A()},xo.prototype.c=null,T(Oo,xo),Oo.prototype.a=function(){var t=Ao(this);return t?new ActiveXObject(t):new XMLHttpRequest},Oo.prototype.b=function(){var t={};return Ao(this)&&(t[0]=!0,t[1]=!0),t},So=new Oo,T(Po,xo),Po.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new No;throw Error("Unsupported browser")},Po.prototype.b=function(){return{}},(t=No.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.fc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Do(this,4)},t.Ib=function(){this.status=500,this.response=this.responseText="",Do(this,4)},t.kc=function(){this.Ib()},t.gc=function(){this.status=200,Do(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Ro.prototype.a=null,Ro.prototype.reset=function(t,e,n,r,i){r||E(),delete this.a},Lo.prototype.toString=function(){return this.name};var Vo=new Lo("SEVERE",1e3),Fo=new Lo("WARNING",900),jo=new Lo("CONFIG",700),Uo=new Lo("FINE",500);Mo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(O("Root logger has no level set."),null)}(this).value)for(m(e)&&(e=e()),t=new Ro(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var Bo={},qo=null;function zo(t){var e;if(qo||(qo=new Mo(""),Bo[""]=qo,qo.c=jo),!(e=Bo[t])){e=new Mo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=zo(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,Bo[t]=e}return e}function Wo(t,e){t&&t.log(Uo,e,void 0)}function Ho(t){this.f=t}function Ko(t){on.call(this),this.o=t,this.readyState=Go,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=zo("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}T(Ho,xo),Ho.prototype.a=function(){return new Ko(this.f)},Ho.prototype.b=function(t){return function(){return t}}({}),T(Ko,on);var Go=0;function Qo(t){t.c.read().then(t.ec.bind(t)).catch(t.Ma.bind(t))}function $o(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,Yo(t)}function Yo(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Jo(t){on.call(this),this.headers=new pn,this.B=t||null,this.c=!1,this.w=this.a=null,this.h=this.O=this.l="",this.f=this.J=this.i=this.I=!1,this.g=0,this.o=null,this.m=Xo,this.v=this.P=!1}(t=Ko.prototype).open=function(t,e){if(this.readyState!=Go)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,Yo(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.o.fetch(new Request(this.g,e)).then(this.jc.bind(this),this.Ma.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,$o(this,!1)),this.readyState=Go},t.jc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,Yo(this)),this.a&&(this.readyState=3,Yo(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.hc.bind(this),this.Ma.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,Qo(this)):t.text().then(this.ic.bind(this),this.Ma.bind(this)))))},t.ec=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?$o(this,!0):Yo(this),3==this.readyState&&Qo(this)}},t.ic=function(t){this.a&&(this.response=this.responseText=t,$o(this,!0))},t.hc=function(t){this.a&&(this.response=t,$o(this,!0))},t.Ma=function(t){var e=this.h;e&&e.log(Fo,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&$o(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Fo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Fo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},T(Jo,on);var Xo="";Jo.prototype.b=zo("goog.net.XhrIo");var Zo=/^https?$/i,ts=["POST","PUT"];function es(t){return"content-type"==t.toLowerCase()}function ns(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,rs(t),os(t)}function rs(t){t.I||(t.I=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function is(t){if(t.c&&void 0!==o)if(t.w[1]&&4==as(t)&&2==ls(t))Wo(t.b,us(t,"Local request error detected and ignored"));else if(t.i&&4==as(t))un(t.Lb,0,t);else if(t.dispatchEvent("readystatechange"),4==as(t)){Wo(t.b,us(t,"Request complete")),t.c=!1;try{var e,n=ls(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.l).match(mn)[1]||null;if(!a&&s.self&&s.self.location){var l=s.self.location.protocol;a=l.substr(0,l.length-1)}i=!Zo.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var u=2<as(t)?t.a.statusText:""}catch(c){Wo(t.b,"Can not get status: "+c.message),u=""}t.h=u+" ["+ls(t)+"]",rs(t)}}finally{os(t)}}}function os(t,e){if(t.a){ss(t);var n=t.a,r=t.w[0]?h:null;t.a=null,t.w=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(Vo,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function ss(t){t.a&&t.v&&(t.a.ontimeout=null),t.o&&(s.clearTimeout(t.o),t.o=null)}function as(t){return t.a?t.a.readyState:0}function ls(t){try{return 2<as(t)?t.a.status:-1}catch(e){return-1}}function us(t,e){return e+" ["+t.O+" "+t.l+" "+ls(t)+"]"}function cs(t){var e=ws;this.g=[],this.v=e,this.o=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function hs(t,e,n){t.a=!0,t.c=n,t.f=!e,gs(t)}function ds(t){if(t.a){if(!t.u)throw new ms(t);t.u=!1}}function ps(t,e,n,r){t.g.push([e,n,r]),t.a&&gs(t)}function fs(t){return U(t.g,function(t){return m(t[1])})}function gs(t){if(t.h&&t.a&&fs(t)){var e=t.h,n=bs[e];n&&(s.clearTimeout(n.a),delete bs[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var l=o.call(i||t.o,e);void 0!==l&&(t.f=t.f&&(l==e||l instanceof Error),t.c=e=l),(I(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(u){e=u,t.f=!0,fs(t)||(n=!0)}}t.c=e,r&&(l=C(t.m,t,!0),r=C(t.m,t,!1),e instanceof cs?(ps(e,l,r),e.w=!0):e.then(l,r)),n&&(e=new vs(e),bs[e.a]=e,t.h=e.a)}function ms(){k.call(this)}function ys(){k.call(this)}function vs(t){this.a=s.setTimeout(C(this.c,this),0),this.b=t}(t=Jo.prototype).Ga=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Wo(this.b,us(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(Wo(this.b,us(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),os(this))},t.xa=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),os(this,!0)),Jo.qb.xa.call(this)},t.Lb=function(){this.ta||(this.J||this.i||this.f?is(this):this.yc())},t.yc=function(){is(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Xo:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Vo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return Wo(this.b,"Can not get response: "+e.message),null}},cs.prototype.cancel=function(t){if(this.a)this.c instanceof cs&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.v?this.v.call(this.o,this):this.u=!0,this.a||(t=new ys(this),ds(this),hs(this,!1,t))}},cs.prototype.m=function(t,e){this.i=!1,hs(this,t,e)},cs.prototype.then=function(t,e,n){var r,i,o=new zt(function(t,e){r=t,i=e});return ps(this,r,function(t){t instanceof ys?o.cancel():i(t)}),o.then(t,e,n)},cs.prototype.$goog_Thenable=!0,T(ms,k),ms.prototype.message="Deferred has already fired",ms.prototype.name="AlreadyCalledError",T(ys,k),ys.prototype.message="Deferred was canceled",ys.prototype.name="CanceledError",vs.prototype.c=function(){throw delete bs[this.a],this.b};var bs={};function _s(t){var e={},n=e.document||document,r=rt(t).toString(),i=document.createElement("SCRIPT"),o={Nb:i,Ga:void 0},a=new cs(o),l=null,h=null!=e.timeout?e.timeout:5e3;return 0<h&&(l=window.setTimeout(function(){Cs(i,!0);var t=new Ts(Es,"Timeout reached for loading script "+r);ds(a),hs(a,!1,t)},h),o.Ga=l),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Cs(i,e.gd||!1,l),ds(a),hs(a,!0,null))},i.onerror=function(){Cs(i,!0,l);var t=new Ts(Ss,"Error while loading script "+r);ds(a),hs(a,!1,t)},Y(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),zn(i,o),function(t,e){L(t,"HTMLScriptElement"),t.src=rt(e),null===c&&(c=(e=(e=s.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&u.test(e)?e:""),(e=c)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function ws(){if(this&&this.Nb){var t=this.Nb;t&&"SCRIPT"==t.tagName&&Cs(t,!0,this.Ga)}}function Cs(t,e,n){null!=n&&s.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var Ss=0,Es=1;function Ts(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),k.call(this,n),this.code=t}function Is(t){this.f=t}function ks(t,e,n){if(this.c=t,this.l=(t=e||{}).secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.u=t.secureTokenTimeout||As,this.g=Q(t.secureTokenHeaders||Ps),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.firebaseTimeout||Ns,this.a=Q(t.firebaseHeaders||Ds),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==ur(),!(n=s.XMLHttpRequest||n&&FT.a.INTERNAL.node&&FT.a.INTERNAL.node.XMLHttpRequest)&&!lr())throw new Yr("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,this.f=lr()?new Ho(self):cr()?new Is(n):new Po,this.b=null}T(Ts,k),T(Is,xo),Is.prototype.a=function(){return new this.f},Is.prototype.b=function(){return{}};var xs,Os="idToken",As=new Or(3e4,6e4),Ps={"Content-Type":"application/x-www-form-urlencoded"},Ns=new Or(3e4,6e4),Ds={"Content-Type":"application/json"};function Rs(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Ms(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Ls(t,e,n,r,i,o,a){(function(){var t=mr();return!((t=pr(t)!=dr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t||ve&&ke&&!(9<ke))})()||lr()?t=C(t.o,t):(xs||(xs=new zt(function(t,e){!function(t,e){((window.gapi||{}).client||{}).request?t():(s[Fs]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){ps(_s(it(Vs,{onload:Fs})),null,e,void 0)}(0,function(){e(Error("CORS_UNSUPPORTED"))}))}(t,e)})),t=C(t.m,t)),t(e,n,r,i,o,a)}ks.prototype.R=function(){return this.b},ks.prototype.o=function(t,e,n,r,i,o){if(lr()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new Yr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var l=new Jo(this.f);if(o){l.g=Math.max(0,o);var u=setTimeout(function(){l.dispatchEvent("timeout")},o)}sn(l,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return Wo(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)}),an(l,"ready",function(){u&&clearTimeout(u),pe(this)}),an(l,"timeout",function(){u&&clearTimeout(u),pe(this),e&&e(null)}),function(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.O=n,t.I=!1,t.c=!0,t.a=t.B?t.B.a():So.a(),t.w=function(t){return t.c||(t.c=t.b())}(t.B?t.B:So),t.a.onreadystatechange=C(t.Lb,t);try{Wo(t.b,us(t,"Opening Xhr")),t.J=!0,t.a.open(n,String(e),!0),t.J=!1}catch(l){return Wo(t.b,us(t,"Error opening Xhr: "+l.message)),void ns(t,l)}e=r||"";var o=new pn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(g(t)||a(t))F(t,e,void 0);else for(var n=dn(t),r=hn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,function(t,e){o.set(e,t)}),i=function(t){t:{for(var e=es,n=t.length,r=a(t)?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:a(t)?t.charAt(e):t[e]}(o.X()),r=s.FormData&&e instanceof s.FormData,!B(ts,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.P&&(t.a.withCredentials=t.P);try{ss(t),0<t.g&&(t.v=function(t){return ve&&Oe(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),Wo(t.b,us(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=C(t.Ga,t)):t.o=un(t.Ga,t.g,t)),Wo(t.b,us(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(l){Wo(t.b,us(t,"Send error: "+l.message)),ns(t,l)}}(l,t,n,r,i)};var Vs=new J(tt,"https://apis.google.com/js/client.js?onload=%{onload}"),Fs="__fcb"+Math.floor(1e6*Math.random()).toString();function js(t){if(!a(t=t.email)||!ir.test(t))throw new Yr("invalid-email")}function Us(t){"email"in t&&js(t)}function Bs(t){if(!t[Os])throw new Yr("internal-error")}function qs(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new Yr("internal-error")}else{if(!t.sessionInfo)throw new Yr("missing-verification-id");if(!t.code)throw new Yr("missing-verification-code")}}ks.prototype.m=function(t,e,n,r,i){var o=this;xs.then(function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})}).s(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},ks.prototype.ob=function(){return Ea(this,ga,{})},ks.prototype.rb=function(t,e){return Ea(this,pa,{idToken:t,email:e})},ks.prototype.sb=function(t,e){return Ea(this,fa,{idToken:t,password:e})};var zs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Ws(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new Yr("internal-error")}function Hs(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&Vn(t=new Dn(t.postBody),"nonce")&&(e.nonce=t.get("nonce"))),e}function Ks(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=ko(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=ko(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=ko(t)):t.errorMessage&&(e=Ta(t.errorMessage)),e)throw e;if(!t[Os])throw new Yr("internal-error")}function Gs(t,e){return e.returnIdpCredential=!0,Ea(t,ma,e)}function Qs(t,e){return e.returnIdpCredential=!0,Ea(t,va,e)}function $s(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Ea(t,ya,e)}function Ys(t){if(!t.oobCode)throw new Yr("invalid-action-code")}(t=ks.prototype).tb=function(t,e){var n={idToken:t},r=[];return K(zs,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),Ea(this,pa,n)},t.kb=function(t,e){return Y(t={requestType:"PASSWORD_RESET",email:t},e),Ea(this,la,t)},t.lb=function(t,e){return Y(t={requestType:"EMAIL_SIGNIN",email:t},e),Ea(this,sa,t)},t.jb=function(t,e){return Y(t={requestType:"VERIFY_EMAIL",idToken:t},e),Ea(this,aa,t)},t.Va=function(t){return Ea(this,wa,t)},t.$a=function(t,e){return Ea(this,ha,{oobCode:t,newPassword:e})},t.Ka=function(t){return Ea(this,Xs,{oobCode:t})},t.Xa=function(t){return Ea(this,Js,{oobCode:t})};var Js={endpoint:"setAccountInfo",D:Ys,fa:"email",F:!0},Xs={endpoint:"resetPassword",D:Ys,K:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new Yr("internal-error")},F:!0},Zs={endpoint:"signupNewUser",D:function(t){if(js(t),!t.password)throw new Yr("weak-password")},K:Bs,T:!0,F:!0},ta={endpoint:"createAuthUri",F:!0},ea={endpoint:"deleteAccount",V:["idToken"]},na={endpoint:"setAccountInfo",V:["idToken","deleteProvider"],D:function(t){if(!f(t.deleteProvider))throw new Yr("internal-error")}},ra={endpoint:"emailLinkSignin",V:["email","oobCode"],D:js,K:Bs,T:!0,F:!0},ia={endpoint:"emailLinkSignin",V:["idToken","email","oobCode"],D:js,K:Bs,T:!0},oa={endpoint:"getAccountInfo"},sa={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new Yr("internal-error");js(t)},fa:"email",F:!0},aa={endpoint:"getOobConfirmationCode",V:["idToken","requestType"],D:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new Yr("internal-error")},fa:"email",F:!0},la={endpoint:"getOobConfirmationCode",V:["requestType"],D:function(t){if("PASSWORD_RESET"!=t.requestType)throw new Yr("internal-error");js(t)},fa:"email",F:!0},ua={wb:!0,endpoint:"getProjectConfig",Kb:"GET"},ca={wb:!0,endpoint:"getRecaptchaParam",Kb:"GET",K:function(t){if(!t.recaptchaSiteKey)throw new Yr("internal-error")}},ha={endpoint:"resetPassword",D:Ys,fa:"email",F:!0},da={endpoint:"sendVerificationCode",V:["phoneNumber","recaptchaToken"],fa:"sessionInfo",F:!0},pa={endpoint:"setAccountInfo",V:["idToken"],D:Us,T:!0},fa={endpoint:"setAccountInfo",V:["idToken"],D:function(t){if(Us(t),!t.password)throw new Yr("weak-password")},K:Bs,T:!0},ga={endpoint:"signupNewUser",K:Bs,T:!0,F:!0},ma={endpoint:"verifyAssertion",D:Ws,Qa:Hs,K:Ks,T:!0,F:!0},ya={endpoint:"verifyAssertion",D:Ws,Qa:Hs,K:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new Yr("user-not-found");if(t.errorMessage)throw Ta(t.errorMessage);if(!t[Os])throw new Yr("internal-error")},T:!0,F:!0},va={endpoint:"verifyAssertion",D:function(t){if(Ws(t),!t.idToken)throw new Yr("internal-error")},Qa:Hs,K:Ks,T:!0},ba={endpoint:"verifyCustomToken",D:function(t){if(!t.token)throw new Yr("invalid-custom-token")},K:Bs,T:!0,F:!0},_a={endpoint:"verifyPassword",D:function(t){if(js(t),!t.password)throw new Yr("wrong-password")},K:Bs,T:!0,F:!0},wa={endpoint:"verifyPhoneNumber",D:qs,K:Bs,F:!0},Ca={endpoint:"verifyPhoneNumber",D:function(t){if(!t.idToken)throw new Yr("internal-error");qs(t)},K:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",ko(t);Bs(t)}},Sa={Yb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",D:qs,K:Bs,F:!0};function Ea(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.V))return Jt(new Yr("internal-error"));var r,i=e.Kb||"POST";return Yt(n).then(e.D).then(function(){return e.T&&(n.returnSecureToken=!0),e.F&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),function(t,e,n,r,i,o){var s=Sn(t.h+e);wn(s,"key",t.c),o&&wn(s,"cb",E().toString());var a="GET"==n;if(a)for(var l in r)r.hasOwnProperty(l)&&wn(s,l,r[l]);return new zt(function(e,o){Ls(t,s.toString(),function(t){t?t.error?o(Ia(t,i||{})):e(t):o(new Yr("network-request-failed"))},n,a?void 0:Kn(Er(r)),t.a,t.i.get())})}(t,e.endpoint,i,n,e.Yb,e.wb||!1)}).then(function(t){return r=t,e.Qa?e.Qa(n,r):r}).then(e.K).then(function(){if(!e.fa)return r;if(!(e.fa in r))throw new Yr("internal-error");return r[e.fa]})}function Ta(t){return Ia({error:{errors:[{message:t}],code:400,message:t}})}function Ia(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Yr(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",Y(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new Yr(r[i],e);return!e&&t&&(e=Sr(t)),new Yr("internal-error",e)}function ka(t){this.b=t,this.a=null,this.fb=function(t){return(Pa||(Pa=new zt(function(t,e){function n(){xr(),yr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){xr(),e(Error("Network Error"))},timeout:Oa.get()})}if(yr("gapi.iframes.Iframe"))t();else if(yr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){yr("gapi.load")?n():e(Error("Network Error"))},Yt(_s(r=it(xa,{onload:r}))).s(function(){e(Error("Network Error"))})}}).s(function(t){throw Pa=null,t}))).then(function(){return new zt(function(e,n){yr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:yr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},Aa.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}var xa=new J(tt,"https://apis.google.com/js/api.js?onload=%{onload}"),Oa=new Or(3e4,6e4),Aa=new Or(5e3,15e3),Pa=null;function Na(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=En(this.i,"/__/auth/iframe"),wn(this.a,"apiKey",this.g),wn(this.a,"appName",this.h),this.b=null,this.c=[]}function Da(t,e,n,r,i){this.o=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function Ra(t){try{return FT.a.app(t).auth().Aa()}catch(e){return[]}}function Ma(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.o=this.v=null,this.g=[],this.l=this.a=null}function La(t){var e=Xn();return function(t){return Ea(t,ua,{}).then(function(t){return t.authorizedDomains||[]})}(t).then(function(t){t:{var n=Sn(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Sn(o).b==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:rr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new To(Xn())})}function Va(t){return t.l?t.l:(t.l=or().then(function(){if(!t.o){var e=t.c,n=t.h,r=Ra(t.b),i=new Na(t.u,t.f,t.b);i.f=e,i.b=n,i.c=H(r||[]),t.o=i.toString()}t.i=new ka(t.o),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.fb.then(function(){t.a.register("authEvent",e,yr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(t.i,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=wo(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Yt(n)}return n.status="ERROR",Yt(n)})}(t)}),t.l)}function Fa(t){return t.m||(t.v=t.c?gr(t.c,Ra(t.b)):null,t.m=new ks(t.f,ki(t.h),t.v)),t.m}function ja(t,e,n,r,i,o,s,a,l,u,c){return(t=new Da(t,e,n,r,i)).l=o,t.g=s,t.i=a,t.b=Q(l||null),t.f=u,t.nb(c).toString()}function Ua(t){if(this.a=t||FT.a.INTERNAL.reactNative&&FT.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Yr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Ba(t){this.b=t,this.a={},this.f=C(this.c,this)}Na.prototype.toString=function(){return this.f?wn(this.a,"v",this.f):Ln(this.a.a,"v"),this.b?wn(this.a,"eid",this.b):Ln(this.a.a,"eid"),this.c.length?wn(this.a,"fw",this.c.join(",")):Ln(this.a.a,"fw"),this.a.toString()},Da.prototype.nb=function(t){return this.h=t,this},Da.prototype.toString=function(){var t=En(this.o,"/__/auth/handler");if(wn(t,"apiKey",this.m),wn(t,"appName",this.c),wn(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=FT.a.app(this.c).auth().ha()}catch(a){n=null}for(var r in e.ab=n,wn(t,"providerId",this.a.providerId),n=Er((e=this.a).zb))n[r]=n[r].toString();r=e.Fc,n=Q(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}e.cb&&e.ab&&!n[e.cb]&&(n[e.cb]=e.ab),G(n)||wn(t,"customParameters",Sr(n))}if("function"==typeof this.a.Hb&&(e=this.a.Hb()).length&&wn(t,"scopes",e.join(",")),this.l?wn(t,"redirectUrl",this.l):Ln(t.a,"redirectUrl"),this.g?wn(t,"eventId",this.g):Ln(t.a,"eventId"),this.i?wn(t,"v",this.i):Ln(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Cn(t,s)&&wn(t,s,this.b[s]);return this.h?wn(t,"tid",this.h):Ln(t.a,"tid"),this.f?wn(t,"eid",this.f):Ln(t.a,"eid"),(s=Ra(this.c)).length&&wn(t,"fw",s.join(",")),t.toString()},(t=Ma.prototype).Fb=function(t,e,n){var r=new Yr("popup-closed-by-user"),i=new Yr("web-storage-unsupported"),o=this,s=!1;return this.ia().then(function(){(function(t){var e={type:"webStorageSupport"};return Va(t).then(function(){return function(t,e){return t.fb.then(function(){return new zt(function(n){t.a.send(e.type,e,n,yr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(t.i,e)}).then(function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(t&&er(t),e(i),s=!0)})}).s(function(){}).then(function(){if(!s)return function(t){return new zt(function(e){return function n(){cn(2e3).then(function(){if(t&&!t.closed)return n();e()})}()})}(t)}).then(function(){if(!s)return cn(n).then(function(){e(r)})})},t.Ob=function(){var t=mr();return!Cr(t)&&!kr(t)},t.Jb=function(){return!1},t.Db=function(t,e,n,r,i,o,s,a){if(!t)return Jt(new Yr("popup-blocked"));if(s&&!Cr())return this.ia().s(function(e){er(t),i(e)}),r(),Yt();this.a||(this.a=La(Fa(this)));var l=this;return this.a.then(function(){var e=l.ia().s(function(e){throw er(t),i(e),e});return r(),e}).then(function(){bo(n),s||Zn(ja(l.u,l.f,l.b,e,n,null,o,l.c,void 0,l.h,a),t)}).s(function(t){throw"auth/network-request-failed"==t.code&&(l.a=null),t})},t.Eb=function(t,e,n,r){this.a||(this.a=La(Fa(this)));var i=this;return this.a.then(function(){bo(e),Zn(ja(i.u,i.f,i.b,t,e,Xn(),n,i.c,void 0,i.h,r))}).s(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},t.ia=function(){var t=this;return Va(this).then(function(){return t.i.fb}).s(function(){throw t.a=null,new Yr("network-request-failed")})},t.Rb=function(){return!0},t.ya=function(t){this.g.push(t)},t.La=function(t){z(this.g,function(e){return e==t})},(t=Ua.prototype).get=function(t){return Yt(this.a.getItem(t)).then(function(t){return t&&Tr(t)})},t.set=function(t,e){return Yt(this.a.setItem(t,Sr(e)))},t.S=function(t){return Yt(this.a.removeItem(t))},t.$=function(){},t.ea=function(){};var qa,za=[];function Wa(t,e,n){G(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Ha(t){this.a=t}function Ka(t){this.c=t,this.b=!1,this.a=[]}function Ga(t,e,n,r){var i,o,s,a,l=n||{},u=null;if(t.b)return Jt(Error("connection_unavailable"));var c=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new zt(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout(function(){r(Error("unsupported_event"))},c),t.a.push(u={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}}),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:l},[h.port2])):r(Error("connection_unavailable"))}).then(function(e){return Qa(t,u),e}).s(function(e){throw Qa(t,u),e})}function Qa(t,e){if(e){var n=e.messageChannel;n&&(n.port1.removeEventListener("message",e.onMessage),n.port1.close()),z(t.a,function(t){return t==e})}}function $a(){if(!Ja())throw new Yr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=s.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var t=this;lr()&&self?(this.l=function(){var t=lr()?self:null;if(F(za,function(n){n.b==t&&(e=n)}),!e){var e=new Ba(t);za.push(e)}return e}(),Wa(this.l,"keyChanged",function(e,n){return nl(t).then(function(e){return 0<e.length&&F(t.a,function(t){t(e)}),{keyProcessed:B(e,n.key)}})}),Wa(this.l,"ping",function(){return Yt(["keyChanged"])})):function(){var t=s.navigator;return t&&t.serviceWorker?Yt().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).s(function(){return null}):Yt(null)}().then(function(e){(t.h=e)&&(t.g=new Ka(new Ha(e)),Ga(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&B(e[0].value,"keyChanged")&&(t.o=!0)}).s(function(){}))})}function Ya(t){return t.m||(t.m=function t(e){return new zt(function(n,r){var i=e.u.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}r(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){r(e)}},i.onsuccess=function(i){(i=i.target.result).objectStoreNames.contains("firebaseLocalStorage")?n(i):function(t){return new zt(function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}(e).then(function(){return t(e)}).then(function(t){n(t)}).s(function(t){r(t)})}})}(t)),t.m}function Ja(){try{return!!s.indexedDB}catch(me){return!1}}function Xa(t){return t.objectStore("firebaseLocalStorage")}function Za(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function tl(t){return new zt(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function el(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Ga(t.g,"keyChanged",{key:e},t.o).then(function(){}).s(function(){}):Yt()}function nl(t){return Ya(t).then(function(t){var e=Xa(Za(t,!1));return e.getAll?tl(e.getAll()):new zt(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r})}function rl(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function il(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Yt().then(function(){if(Ja()){var t=Ir(),r="__sak"+t;return qa||(qa=new $a),(n=qa).set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.S(r)}).then(function(){return n}).s(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.$(function(t){F(e.a,function(e){e(t)})}),t})}function ol(){this.a={},this.type="inMemory"}function sl(){if(!function(){var t="Node"==ur();if(!(t=al()||t&&FT.a.INTERNAL.node&&FT.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==ur())throw new Yr("internal-error","The LocalStorage compatibility library was not found.");throw new Yr("web-storage-unsupported")}this.a=al()||FT.a.INTERNAL.node.localStorage,this.type="localStorage"}function al(){try{var t=s.localStorage,e=Ir();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function ll(){this.type="nullStorage"}function ul(){if(!function(){var t="Node"==ur();if(!(t=cl()||t&&FT.a.INTERNAL.node&&FT.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==ur())throw new Yr("internal-error","The SessionStorage compatibility library was not found.");throw new Yr("web-storage-unsupported")}this.a=cl()||FT.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function cl(){try{var t=s.sessionStorage,e=Ir();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function hl(){var t={};t.Browser=fl,t.Node=gl,t.ReactNative=ml,t.Worker=yl,this.a=t[ur()]}Ba.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];F(r,function(e){i.push(Yt().then(function(){return e(t.origin,t.data.data)}))}),Zt(i).then(function(r){var i=[];F(r,function(t){i.push({fulfilled:t.Gb,value:t.value,reason:t.reason?t.reason.message:void 0})}),F(i,function(t){for(var e in t)void 0===t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},Ha.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Ka.prototype.close=function(){for(;0<this.a.length;)Qa(this,this.a[0]);this.b=!0},(t=$a.prototype).set=function(t,e){var n,r=!1,i=this;return Ya(this).then(function(e){return tl((e=Xa(Za(n=e,!0))).get(t))}).then(function(o){var s=Xa(Za(n,!0));return o?(o.value=e,tl(s.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,tl(s.add(o)))}).then(function(){return i.c[t]=e,el(i,t)}).ka(function(){r&&i.b--})},t.get=function(t){return Ya(this).then(function(e){return tl(Xa(Za(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.S=function(t){var e=!1,n=this;return Ya(this).then(function(r){return e=!0,n.b++,tl(Xa(Za(r,!0)).delete(t))}).then(function(){return delete n.c[t],el(n,t)}).ka(function(){e&&n.b--})},t.$=function(t){0==this.a.length&&function(t){rl(t),function e(){t.f=setTimeout(function(){t.i=nl(t).then(function(e){0<e.length&&F(t.a,function(t){t(e)})}).then(function(){e()}).s(function(t){"STOP_EVENT"!=t.message&&e()})},800)}()}(this),this.a.push(t)},t.ea=function(t){z(this.a,function(e){return e==t}),0==this.a.length&&rl(this)},(t=il.prototype).get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.S=function(t){return this.b.then(function(e){return e.S(t)})},t.$=function(t){this.a.push(t)},t.ea=function(t){z(this.a,function(e){return e==t})},(t=ol.prototype).get=function(t){return Yt(this.a[t])},t.set=function(t,e){return this.a[t]=e,Yt()},t.S=function(t){return delete this.a[t],Yt()},t.$=function(){},t.ea=function(){},(t=sl.prototype).get=function(t){var e=this;return Yt().then(function(){return Tr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Yt().then(function(){var r=Sr(e);null===r?n.S(t):n.a.setItem(t,r)})},t.S=function(t){var e=this;return Yt().then(function(){e.a.removeItem(t)})},t.$=function(t){s.window&&Ke(s.window,"storage",t)},t.ea=function(t){s.window&&$e(s.window,"storage",t)},(t=ll.prototype).get=function(){return Yt(null)},t.set=function(){return Yt()},t.S=function(){return Yt()},t.$=function(){},t.ea=function(){},(t=ul.prototype).get=function(t){var e=this;return Yt().then(function(){return Tr(e.a.getItem(t))})},t.set=function(t,e){var n=this;return Yt().then(function(){var r=Sr(e);null===r?n.S(t):n.a.setItem(t,r)})},t.S=function(t){var e=this;return Yt().then(function(){e.a.removeItem(t)})},t.$=function(){},t.ea=function(){};var dl,pl,fl={C:sl,Sa:ul},gl={C:sl,Sa:ul},ml={C:Ua,Sa:ll},yl={C:sl,Sa:ll},vl={$c:"local",NONE:"none",bd:"session"};function bl(){var t=!(kr(mr())||!ar()),e=Cr(),n=vr();this.m=t,this.h=e,this.l=n,this.a={},dl||(dl=new hl),t=dl;try{this.g=!Jn()&&Nr()||!s.indexedDB?new t.a.C:new il(lr()?new ol:new t.a.C)}catch(r){this.g=new ol,this.h=!0}try{this.i=new t.a.Sa}catch(r){this.i=new ol}this.u=new ol,this.f=C(this.Pb,this),this.b={}}function _l(){return pl||(pl=new bl),pl}function wl(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Cl(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Sl(t,e,n){return n=Cl(e,n),"local"==e.C&&(t.b[n]=null),wl(t,e.C).S(n)}function El(t){t.c&&(clearInterval(t.c),t.c=null)}function Tl(t){this.a=t,this.b=_l()}(t=bl.prototype).get=function(t,e){return wl(this,t.C).get(Cl(t,e))},t.set=function(t,e,n){var r=Cl(t,n),i=this,o=wl(this,t.C);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.C&&(i.b[r]=e)})},t.addListener=function(t,e,n){t=Cl(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),G(this.a)&&(wl(this,"local").$(this.f),this.h||(Jn()||!Nr())&&s.indexedDB||!this.l||function(t){El(t),t.c=setInterval(function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Me({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Pb(n))}},1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Cl(t,e),this.a[t]&&(z(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),G(this.a)&&(wl(this,"local").ea(this.f),El(this))},t.Pb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.Za(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?wl(this,"local").ea(this.f):El(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.Za(e))},ve&&ke&&10==ke&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else F(t,C(this.Za,this))},t.Za=function(t){this.a[t]&&F(this.a[t],function(t){t()})};var Il,kl={name:"authEvent",C:"local"};function xl(){this.a=_l()}function Ol(t,e){this.b=Al,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0!==Il||(Il=s.Int32Array?new Int32Array(Vl):Vl),this.reset()}T(Ol,function(){this.b=-1});for(var Al=64,Pl=Al-1,Nl=[],Dl=0;Dl<Pl;Dl++)Nl[Dl]=0;var Rl=W(128,Nl);function Ml(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){var o=(0|n[e-16])+(((i=0|n[e-15])>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+(((r=0|n[e-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],l=0|t.a[3],u=0|t.a[4],c=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((u>>>6|u<<26)^(u>>>11|u<<21)^(u>>>25|u<<7))|0)+((s=(s=u&c^~u&h)+(0|Il[e])|0)+(0|n[e])|0)|0,o=h,h=c,c=u,u=l+s|0,l=a,a=i,i=r,r=s+d|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+l|0,t.a[4]=t.a[4]+u|0,t.a[5]=t.a[5]+c|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function Ll(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if(a(e))for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(Ml(t),i=0);else{if(!g(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(Ml(t),i=0)}}t.c=i,t.g+=n}Ol.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):H(this.h)};var Vl=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Fl(){Ol.call(this,8,jl)}T(Fl,Ol);var jl=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ul(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.o=i||null,this.h=e+":"+n,this.v=new xl,this.g=new Tl(this.h),this.f=null,this.b=[],this.a=this.c=null}function Bl(t){return new Yr("invalid-cordova-configuration",t)}function ql(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function zl(t){return t.f||(t.f=t.ia().then(function(){return new zt(function(e){t.ya(function n(r){return e(r),t.La(n),!1}),function(t){function e(e){r=!0,i&&i.cancel(),Wl(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=Bi(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Tr(Cn(o=Sn(i),"firebaseError")||null))?Jr(o):null)?new _o(r.c,r.b,null,null,o,null,r.R()):new _o(r.c,r.b,i,r.f,null,null,r.R())),i=o||n}ql(t,i)})}var n=new _o("unknown",null,null,null,new Yr("no-auth-event")),r=!1,i=cn(500).then(function(){return Wl(t).then(function(){r||ql(t,n)})}),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(yr("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(n){console.error(n)}},Eo||(Eo=new Co),function(t){var e=Eo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=yr("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)})})),t.f}function Wl(t){var e=null;return function(t){return t.b.get(kl,t.a).then(function(t){return wo(t)})}(t.g).then(function(n){return e=n,Sl((n=t.g).b,kl,n.a)}).then(function(){return e})}function Hl(t){this.a=t,this.b=_l()}(t=Ul.prototype).ia=function(){return this.Ba?this.Ba:this.Ba=(sr(void 0)?or().then(function(){return new zt(function(t,e){var n=s.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):Jt(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof yr("universalLinks.subscribe",s))throw Bl("cordova-universal-links-plugin-fix is not installed");if(void 0===yr("BuildInfo.packageName",s))throw Bl("cordova-plugin-buildinfo is not installed");if("function"!=typeof yr("cordova.plugins.browsertab.openUrl",s))throw Bl("cordova-plugin-browsertab is not installed");if("function"!=typeof yr("cordova.InAppBrowser.open",s))throw Bl("cordova-plugin-inappbrowser is not installed")},function(){throw new Yr("cordova-not-ready")})},t.Fb=function(t,e){return e(new Yr("operation-not-supported-in-this-environment")),Yt()},t.Db=function(){return Jt(new Yr("operation-not-supported-in-this-environment"))},t.Rb=function(){return!1},t.Ob=function(){return!0},t.Jb=function(){return!0},t.Eb=function(t,e,n,r){if(this.c)return Jt(new Yr("redirect-operation-pending"));var i=this,o=s.document,a=null,l=null,u=null,c=null;return this.c=Yt().then(function(){return bo(e),zl(i)}).then(function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new _o(e,r,null,o,new Yr("no-auth-event"),null,i),l=yr("BuildInfo.packageName",s);if("string"!=typeof l)throw new Yr("invalid-cordova-configuration");var u=yr("BuildInfo.displayName",s),c={};if(mr().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=l;else{if(!mr().toLowerCase().match(/android/))return Jt(new Yr("operation-not-supported-in-this-environment"));c.apn=l}u&&(c.appDisplayName=u),o=function(t){var e=new Fl;Ll(e,t),t=[];var n=8*e.g;Ll(e,Rl,56>e.c?56-e.c:e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(Ml(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return j(t,function(t){return 1<(t=t.toString(16)).length?t:"0"+t}).join("")}(t)}(o),c.sessionId=o;var h=ja(t.u,t.i,t.l,e,n,null,r,t.m,c,t.o,i);return t.ia().then(function(){var e=t.h;return t.v.a.set(kl,a.A(),e)}).then(function(){var e=yr("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new Yr("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!=typeof(n=yr("cordova.plugins.browsertab.openUrl",s)))throw new Yr("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=yr("cordova.InAppBrowser.open",s)))throw new Yr("invalid-cordova-configuration");e=mr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}})})}(i,t,e,n,r)}).then(function(){return new zt(function(t,e){l=function(){var e=yr("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.ya(l),c=function(){Ar()&&u()},o.addEventListener("resume",u=function(){a||(a=cn(2e3).then(function(){e(new Yr("redirect-cancelled-by-user"))}))},!1),mr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)}).s(function(t){return Wl(i).then(function(){throw t})})}).ka(function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),l&&i.La(l),i.c=null})},t.ya=function(t){this.b.push(t),zl(this).s(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new _o("unknown",null,null,null,new Yr("no-auth-event")),t(e))})},t.La=function(t){z(this.b,function(e){return e==t})};var Kl={name:"pendingRedirect",C:"session"};function Gl(t){return Sl(t.b,Kl,t.a)}function Ql(t,e,n){this.i={},this.v=0,this.B=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=C(this.o,this),this.b=new lu,this.w=new pu,this.g=new Hl(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.w,this.c.linkViaPopup=this.w,this.c.reauthViaPopup=this.w,this.a=$l(this.B,this.u,this.m,Ti)}function $l(t,e,n,r){var i=FT.a.SDK_VERSION||null;return sr()?new Ul(t,e,n,i,r):new Ma(t,e,n,i,r)}function Yl(t){t.f||(t.f=!0,t.a.ya(t.l));var e=t.a;return t.a.ia().s(function(n){throw t.a==e&&t.reset(),n})}function Jl(t){t.a.Ob()&&Yl(t).s(function(e){var n=new _o("unknown",null,null,null,new Yr("operation-not-supported-in-this-environment"));ru(e)&&t.o(n)}),t.a.Jb()||uu(t.b)}function Xl(t,e){B(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Kl,t.a).then(function(t){return"pending"==t})}(t.g).then(function(e){e?Gl(t.g).then(function(){Yl(t).s(function(e){var n=new _o("unknown",null,null,null,new Yr("operation-not-supported-in-this-environment"));ru(e)&&t.o(n)})}):Jl(t)}).s(function(){Jl(t)})}function Zl(t,e){z(t.h,function(t){return t==e})}Ql.prototype.reset=function(){this.f=!1,this.a.La(this.l),this.a=$l(this.B,this.u,this.m),this.i={}},Ql.prototype.o=function(t){if(!t)throw new Yr("invalid-auth-event");if(6e5<=E()-this.v&&(this.i={},this.v=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.xb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.v=E())),e=!0;break}}return uu(this.b),e};var tu=new Or(2e3,1e4),eu=new Or(3e4,6e4);function nu(t,e,n,r,i,o,s){return t.a.Db(e,n,r,function(){t.f||(t.f=!0,t.a.ya(t.l))},function(){t.reset()},i,o,s)}function ru(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function iu(t,e,n,r,i){var o;return function(t){return t.b.set(Kl,"pending",t.a)}(t.g).then(function(){return t.a.Eb(e,n,r,i).s(function(e){if(ru(e))throw new Yr("operation-not-supported-in-this-environment");return o=e,Gl(t.g).then(function(){throw o})}).then(function(){return t.a.Rb()?new zt(function(){}):Gl(t.g).then(function(){return t.oa()}).then(function(){}).s(function(){})})})}function ou(t,e,n,r,i){return t.a.Fb(r,function(t){e.ja(n,null,t,i)},tu.get())}Ql.prototype.oa=function(){return this.b.oa()};var su={};function au(t,e,n){var r=e+":"+n;return su[r]||(su[r]=new Ql(t,e,n)),su[r]}function lu(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function uu(t){t.g||(t.g=!0,du(t,!1,null,null))}function cu(t){t.g&&!t.i&&du(t,!1,null,null)}function hu(t,e){if(t.b=function(){return Yt(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function du(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Jt(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):hu(t,n):hu(t,{user:null}),t.f=[],t.c=[]}function pu(){}function fu(){this.vb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.vb},set:function(t){this.vb=t},enumerable:!1})}function gu(t,e){this.a=e,Vr(this,"verificationId",t)}function mu(t,e,n,r){return new mo(t).Va(e,n).then(function(t){return new gu(t,r)})}function yu(t){var e=Ei(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new Yr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Fr(this,{token:t,expirationTime:Pr(1e3*e.exp),authTime:Pr(1e3*e.auth_time),issuedAtTime:Pr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}function vu(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function bu(t){this.f=t,this.b=this.a=null,this.c=0}function _u(t,e){var n=e[Os],r=e.refreshToken;e=wu(e.expiresIn),t.b=n,t.c=e,t.a=r}function wu(t){return E()+1e3*parseInt(t,10)}function Cu(t,e){this.a=t||null,this.b=e||null,Fr(this,{lastSignInTime:Pr(e||null),creationTime:Pr(t||null)})}function Su(t,e,n,r,i,o){Fr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function Eu(t,e){for(var n in Re.call(this,t),e)this[n]=e[n]}function Tu(t,e,n){this.I=[],this.l=t.apiKey,this.m=t.appName,this.o=t.authDomain||null,t=FT.a.SDK_VERSION?gr(FT.a.SDK_VERSION):null,this.a=new ks(this.l,ki(Ti),t),this.b=new bu(this.a),Nu(this,e[Os]),_u(this.b,e),Vr(this,"refreshToken",this.b.a),Mu(this,n||{}),on.call(this),this.J=!1,this.o&&br()&&(this.i=au(this.o,this.l,this.m)),this.O=[],this.h=null,this.w=function(t){return new vu(function(){return t.G(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.b.c-E()-3e5;return 0<e?e:0})}(this),this.W=C(this.Ha,this);var r=this;this.ga=null,this.va=function(t){r.sa(t.g)},this.Z=null,this.P=[],this.ua=function(t){ku(r,t.c)},this.Y=null}function Iu(t,e){t.Z&&$e(t.Z,"languageCodeChanged",t.va),(t.Z=e)&&Ke(e,"languageCodeChanged",t.va)}function ku(t,e){t.P=e,Ms(t.a,FT.a.SDK_VERSION?gr(FT.a.SDK_VERSION,t.P):null)}function xu(t,e){t.Y&&$e(t.Y,"frameworkChanged",t.ua),(t.Y=e)&&Ke(e,"frameworkChanged",t.ua)}function Ou(t){try{return FT.a.app(t.m).auth()}catch(e){throw new Yr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Au(t){t.B||t.w.b||(t.w.start(),$e(t,"tokenChanged",t.W),Ke(t,"tokenChanged",t.W))}function Pu(t){$e(t,"tokenChanged",t.W),t.w.stop()}function Nu(t,e){t.ma=e,Vr(t,"_lat",e)}function Du(t){for(var e=[],n=0;n<t.O.length;n++)e.push(t.O[n](t));return Zt(e).then(function(){return t})}function Ru(t){t.i&&!t.J&&(t.J=!0,Xl(t.i,t))}function Mu(t,e){Fr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new Cu(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Lu(){}function Vu(t){return Yt().then(function(){if(t.B)throw new Yr("app-deleted")})}function Fu(t){return j(t.providerData,function(t){return t.providerId})}function ju(t,e){e&&(Uu(t,e.providerId),t.providerData.push(e))}function Uu(t,e){z(t.providerData,function(t){return t.providerId==e})}function Bu(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Vr(t,e,n)}function qu(t,e){t!=e&&(Fr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),Vr(t,"metadata",e.metadata?function(t){return new Cu(t.a,t.b)}(e.metadata):new Cu),F(e.providerData,function(e){ju(t,e)}),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Vr(t,"refreshToken",t.b.a))}function zu(t){return t.G().then(function(e){var n=t.isAnonymous;return function(t,e){return Ea(t.a,oa,{idToken:e}).then(C(t.zc,t))}(t,e).then(function(){return n||Bu(t,"isAnonymous",!1),e})})}function Wu(t,e){e[Os]&&t.ma!=e[Os]&&(_u(t.b,e),t.dispatchEvent(new Eu("tokenChanged")),Nu(t,e[Os]),Bu(t,"refreshToken",t.b.a))}function Hu(t,e){return zu(t).then(function(){if(B(Fu(t),e))return Du(t).then(function(){throw new Yr("provider-already-linked")})})}function Ku(t,e,n){return jr({user:t,credential:vo(e),additionalUserInfo:e=Ni(e),operationType:n})}function Gu(t,e){return Wu(t,e),t.reload().then(function(){return t})}function Qu(t,e,n,r,i){if(!br())return Jt(new Yr("operation-not-supported-in-this-environment"));if(t.h&&!i)return Jt(t.h);var o=Pi(n.providerId),s=Ir(t.uid+":::"),a=null;(!Cr()||ar())&&t.o&&n.isOAuthProvider&&(a=ja(t.o,t.l,t.m,e,n,null,s,FT.a.SDK_VERSION||null,null,null,t.tenantId));var l=nr(a,o&&o.Da,o&&o.Ca);return r=r().then(function(){if(Yu(t),!i)return t.G().then(function(){})}).then(function(){return nu(t.i,l,e,n,s,!!a,t.tenantId)}).then(function(){return new zt(function(n,r){t.ja(e,null,new Yr("cancelled-popup-request"),t.g||null),t.f=n,t.v=r,t.g=s,t.c=ou(t.i,t,e,l,s)})}).then(function(t){return l&&er(l),t?jr(t):null}).s(function(t){throw l&&er(l),t}),Ju(t,r,i)}function $u(t,e,n,r,i){if(!br())return Jt(new Yr("operation-not-supported-in-this-environment"));if(t.h&&!i)return Jt(t.h);var o=null,s=Ir(t.uid+":::");return r=r().then(function(){if(Yu(t),!i)return t.G().then(function(){})}).then(function(){return t.ca=s,Du(t)}).then(function(e){return t.da&&(e=(e=t.da).b.set(tc,t.A(),e.a)),e}).then(function(){return iu(t.i,e,n,s,t.tenantId)}).s(function(e){if(o=e,t.da)return ec(t.da);throw o}).then(function(){if(o)throw o}),Ju(t,r,i)}function Yu(t){if(!t.i||!t.J){if(t.i&&!t.J)throw new Yr("internal-error");throw new Yr("auth-domain-config-required")}}function Ju(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Jt(t.h)):e.s(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new Eu("userInvalidated")),t.h=e),e})}(t,e,n);return t.I.push(r),r.ka(function(){q(t.I,r)}),r}function Xu(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[Os]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-E())/1e3;var r=new Tu(e,n,t);return t.providerData&&F(t.providerData,function(t){t&&ju(r,jr(t))}),t.redirectEventId&&(r.ca=t.redirectEventId),r}function Zu(t){this.a=t,this.b=_l()}lu.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},lu.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(du(this,!0,null,t.a),Yt()):e.za(n,r)?function(t,e,n){n=n.za(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.R(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then(function(e){du(t,a,e,null)}).s(function(e){du(t,a,null,e)})}(this,t,e):Jt(new Yr("invalid-auth-event")):(du(this,!1,null,null),Yt())}else Jt(new Yr("invalid-auth-event"))},lu.prototype.oa=function(){var t=this;return new zt(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new Yr("timeout");t.a&&t.a.cancel(),t.a=cn(eu.get()).then(function(){t.b||(t.g=!0,du(t,!0,null,e))})}(t))})},pu.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.ja(t.c,null,t.a,t.b),Yt()):e.za(n,r)?function(t,e){var n=t.b,r=t.c;e.za(r,n)(t.g,t.f,t.R(),t.i).then(function(t){e.ja(r,t,null,n)}).s(function(t){e.ja(r,null,t,n)})}(t,e):Jt(new Yr("invalid-auth-event"))}else Jt(new Yr("invalid-auth-event"))},gu.prototype.confirm=function(t){return t=yo(this.verificationId,t),this.a(t)},vu.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=cn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then(function(){return function(){var t=s.document,e=null;return Ar()||!t?Yt():new zt(function(n){e=function(){Ar()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).s(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}()}).then(function(){return e.h()}).then(function(){t(e,!0)}).s(function(n){e.i(n)&&t(e,!1)})}(this,!0)},vu.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},bu.prototype.A=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},bu.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Jt(new Yr("user-token-expired")):t||!this.b||E()>this.c-3e4?this.a?function(t,e){return function(t,e){return new zt(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Ls(t,t.l+"?key="+encodeURIComponent(t.c),function(t){t?t.error?r(Ia(t)):t.access_token&&t.refresh_token?n(t):r(new Yr("internal-error")):r(new Yr("network-request-failed"))},"POST",Mn(e).toString(),t.g,t.u.get()):r(new Yr("internal-error"))})}(t.f,e).then(function(e){return t.b=e.access_token,t.c=wu(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).s(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}(this,{grant_type:"refresh_token",refresh_token:this.a}):Yt(null):Yt({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Cu.prototype.A=function(){return{lastLoginAt:this.b,createdAt:this.a}},T(Eu,Re),T(Tu,on),Tu.prototype.sa=function(t){this.ga=t,Rs(this.a,t)},Tu.prototype.ha=function(){return this.ga},Tu.prototype.Aa=function(){return H(this.P)},Tu.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},Vr(Tu.prototype,"providerId","firebase"),(t=Tu.prototype).reload=function(){var t=this;return Ju(this,Vu(this).then(function(){return zu(t).then(function(){return Du(t)}).then(Lu)}))},t.dc=function(t){return this.G(t).then(function(t){return new yu(t)})},t.G=function(t){var e=this;return Ju(this,Vu(this).then(function(){return e.b.getToken(t)}).then(function(t){if(!t)throw new Yr("internal-error");return t.accessToken!=e.ma&&(Nu(e,t.accessToken),e.dispatchEvent(new Eu("tokenChanged"))),Bu(e,"refreshToken",t.refreshToken),t.accessToken}))},t.zc=function(t){if(!(t=t.users)||!t.length)throw new Yr("internal-error");Mu(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?j(t,function(t){return new Su(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}(t),n=0;n<e.length;n++)ju(this,e[n]);Bu(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length))},t.Ac=function(t){return Mr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.gb(t)},t.gb=function(t){var e=this,n=null;return Ju(this,t.f(this.a,this.uid).then(function(t){return Wu(e,t),n=Ku(e,t,"reauthenticate"),e.h=null,e.reload()}).then(function(){return n}),!0)},t.rc=function(t){return Mr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.eb(t)},t.eb=function(t){var e=this,n=null;return Ju(this,Hu(this,t.providerId).then(function(){return e.G()}).then(function(n){return t.b(e.a,n)}).then(function(t){return n=Ku(e,t,"link"),Gu(e,t)}).then(function(){return n}))},t.sc=function(t,e){var n=this;return Ju(this,Hu(this,"phone").then(function(){return mu(Ou(n),t,e,C(n.eb,n))}))},t.Bc=function(t,e){var n=this;return Ju(this,Yt().then(function(){return mu(Ou(n),t,e,C(n.gb,n))}),!0)},t.rb=function(t){var e=this;return Ju(this,this.G().then(function(n){return e.a.rb(n,t)}).then(function(t){return Wu(e,t),e.reload()}))},t.Sc=function(t){var e=this;return Ju(this,this.G().then(function(n){return t.b(e.a,n)}).then(function(t){return Wu(e,t),e.reload()}))},t.sb=function(t){var e=this;return Ju(this,this.G().then(function(n){return e.a.sb(n,t)}).then(function(t){return Wu(e,t),e.reload()}))},t.tb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Vu(this);var e=this;return Ju(this,this.G().then(function(n){return e.a.tb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return Wu(e,t),Bu(e,"displayName",t.displayName||null),Bu(e,"photoURL",t.photoUrl||null),F(e.providerData,function(t){"password"===t.providerId&&(Vr(t,"displayName",e.displayName),Vr(t,"photoURL",e.photoURL))}),Du(e)}).then(Lu))},t.Qc=function(t){var e=this;return Ju(this,zu(this).then(function(n){return B(Fu(e),t)?function(t,e,n){return Ea(t,na,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then(function(t){var n={};return F(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),F(Fu(e),function(t){n[t]||Uu(e,t)}),n[mo.PROVIDER_ID]||Vr(e,"phoneNumber",null),Du(e)}):Du(e).then(function(){throw new Yr("no-such-provider")})}))},t.delete=function(){var t=this;return Ju(this,this.G().then(function(e){return Ea(t.a,ea,{idToken:e})}).then(function(){t.dispatchEvent(new Eu("userDeleted"))})).then(function(){for(var e=0;e<t.I.length;e++)t.I[e].cancel("app-deleted");Iu(t,null),xu(t,null),t.I=[],t.B=!0,Pu(t),Vr(t,"refreshToken",null),t.i&&Zl(t.i,t)})},t.xb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ca||null)==e||"reauthViaRedirect"==t&&(this.ca||null)==e)},t.ja=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.za=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?C(this.Bb,this):"reauthViaPopup"==t&&e==(this.g||null)?C(this.Cb,this):"linkViaRedirect"==t&&(this.ca||null)==e?C(this.Bb,this):"reauthViaRedirect"==t&&(this.ca||null)==e?C(this.Cb,this):null},t.tc=function(t){var e=this;return Qu(this,"linkViaPopup",t,function(){return Hu(e,t.providerId).then(function(){return Du(e)})},!1)},t.Cc=function(t){return Qu(this,"reauthViaPopup",t,function(){return Yt()},!0)},t.uc=function(t){var e=this;return $u(this,"linkViaRedirect",t,function(){return Hu(e,t.providerId)},!1)},t.Dc=function(t){return $u(this,"reauthViaRedirect",t,function(){return Yt()},!0)},t.Bb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ju(this,this.G().then(function(n){return Qs(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})}).then(function(t){return o=Ku(i,t,"link"),Gu(i,t)}).then(function(){return o}))},t.Cb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ju(this,Yt().then(function(){return zi($s(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)}).then(function(t){return o=Ku(i,t,"reauthenticate"),Wu(i,t),i.h=null,i.reload()}).then(function(){return o}),!0)},t.jb=function(t){var e=this,n=null;return Ju(this,this.G().then(function(e){return n=e,void 0===t||G(t)?{}:bi(new ui(t))}).then(function(t){return e.a.jb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.toJSON=function(){return this.A()},t.A=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.A(),redirectEventId:this.ca||null};return this.metadata&&Y(t,this.metadata.A()),F(this.providerData,function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))}),t};var tc={name:"redirectUser",C:"session"};function ec(t){return Sl(t.b,tc,t.a)}function nc(t){this.a=t,this.b=_l(),this.c=null,this.f=function(t){var e=oc("local"),n=oc("session"),r=oc("none");return function(t,e,n){var r=Cl(e,n),i=wl(t,e.C);return t.get(e,n).then(function(o){var a=null;try{a=Tr(s.localStorage.getItem(r))}catch(l){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)})}(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(ic,t.a).then(function(t){return t?oc(t):e})})})}).then(function(e){return t.c=e,rc(t,e.C)}).s(function(){t.c||(t.c=e)})}(this),this.b.addListener(oc("local"),this.a,C(this.g,this))}function rc(t,e){var n,r=[];for(n in vl)vl[n]!==e&&r.push(Sl(t.b,oc(vl[n]),t.a));return r.push(Sl(t.b,ic,t.a)),function(t){return new zt(function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Xt(t[a],S(o,a),s);else e(i)})}(r)}nc.prototype.g=function(){var t=this,e=oc("local");uc(this,function(){return Yt().then(function(){return t.c&&"local"!=t.c.C?t.b.get(e,t.a):null}).then(function(n){if(n)return rc(t,"local").then(function(){t.c=e})})})};var ic={name:"persistence",C:"session"};function oc(t){return{name:"authUser",C:t}}function sc(t,e){return uc(t,function(){return t.b.set(t.c,e.A(),t.a)})}function ac(t){return uc(t,function(){return Sl(t.b,t.c,t.a)})}function lc(t,e){return uc(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),Xu(t||{})})})}function uc(t,e){return t.f=t.f.then(e,e),t.f}function cc(t){if(this.l=!1,Vr(this,"settings",new fu),Vr(this,"app",t),!vc(this).options||!vc(this).options.apiKey)throw new Yr("invalid-api-key");t=FT.a.SDK_VERSION?gr(FT.a.SDK_VERSION):null,this.b=new ks(vc(this).options&&vc(this).options.apiKey,ki(Ti),t),this.O=[],this.m=[],this.J=[],this.Ub=FT.a.INTERNAL.createSubscribe(C(this.oc,this)),this.W=void 0,this.Vb=FT.a.INTERNAL.createSubscribe(C(this.pc,this)),mc(this,null),this.h=new nc(vc(this).options.apiKey+":"+vc(this).name),this.w=new Zu(vc(this).options.apiKey+":"+vc(this).name),this.Y=Cc(this,function(t){var e=vc(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(tc,t.a).then(function(t){return t&&e&&(t.authDomain=e),Xu(t||{})})}(t.w,vc(t).options.authDomain).then(function(e){return(t.B=e)&&(e.da=t.w),ec(t.w)});return Cc(t,e)}(t).then(function(){return lc(t.h,e)}).then(function(e){return e?(e.da=t.w,t.B&&(t.B.ca||null)==(e.ca||null)?e:e.reload().then(function(){return sc(t.h,e).then(function(){return e})}).s(function(n){return"auth/network-request-failed"==n.code?e:ac(t.h)})):null}).then(function(e){mc(t,e||null)});return Cc(t,n)}(this)),this.i=Cc(this,function(t){return t.Y.then(function(){return fc(t)}).s(function(){}).then(function(){if(!t.l)return t.ma()}).s(function(){}).then(function(){if(!t.l){t.ga=!0;var e=t.h;e.b.addListener(oc("local"),e.a,t.ma)}})}(this)),this.ga=!1,this.ma=C(this.Nc,this),this.ub=C(this.aa,this),this.ua=C(this.bc,this),this.va=C(this.mc,this),this.Ha=C(this.nc,this),this.a=null,function(t){var e=vc(t).options.authDomain,n=vc(t).options.apiKey;e&&br()&&(t.Tb=t.Y.then(function(){if(!t.l){if(t.a=au(e,n,vc(t).name),Xl(t.a,t),bc(t)&&Ru(bc(t)),t.B){Ru(t.B);var r=t.B;r.sa(t.ha()),Iu(r,t),ku(r=t.B,t.I),xu(r,t),t.B=null}return t.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=C(this.delete,this),this.INTERNAL.logFramework=C(this.vc,this),this.o=0,on.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ha()},set:function(t){this.sa(t)},enumerable:!1}),t.Z=null,Object.defineProperty(t,"ti",{get:function(){return this.R()},set:function(t){this.nb(t)},enumerable:!1}),t.P=null}(this),this.I=[]}function hc(t){Re.call(this,"languageCodeChanged"),this.g=t}function dc(t){Re.call(this,"frameworkChanged"),this.c=t}function pc(t){return t.Tb||Jt(new Yr("auth-domain-config-required"))}function fc(t){if(!br())return Jt(new Yr("operation-not-supported-in-this-environment"));var e=pc(t).then(function(){return t.a.oa()}).then(function(t){return t?jr(t):null});return Cc(t,e)}function gc(t,e){var n={};return n.apiKey=vc(t).options.apiKey,n.authDomain=vc(t).options.authDomain,n.appName=vc(t).name,t.Y.then(function(){return function(t,e,n,r){var i=new Tu(t,e);return n&&(i.da=n),r&&ku(i,r),i.reload().then(function(){return i})}(n,e,t.w,t.Aa())}).then(function(e){return bc(t)&&e.uid==bc(t).uid?(qu(bc(t),e),t.aa(e)):(mc(t,e),Ru(e),t.aa(e))}).then(function(){wc(t)})}function mc(t,e){bc(t)&&(function(t,e){z(t.O,function(t){return t==e})}(bc(t),t.ub),$e(bc(t),"tokenChanged",t.ua),$e(bc(t),"userDeleted",t.va),$e(bc(t),"userInvalidated",t.Ha),Pu(bc(t))),e&&(e.O.push(t.ub),Ke(e,"tokenChanged",t.ua),Ke(e,"userDeleted",t.va),Ke(e,"userInvalidated",t.Ha),0<t.o&&Au(e)),Vr(t,"currentUser",e),e&&(e.sa(t.ha()),Iu(e,t),ku(e,t.I),xu(e,t))}function yc(t,e){var n=null,r=null;return Cc(t,e.then(function(e){return n=vo(e),r=Ni(e),gc(t,e)}).then(function(){return jr({user:bc(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function vc(t){return t.app}function bc(t){return t.currentUser}function _c(t){return bc(t)&&bc(t)._lat||null}function wc(t){if(t.ga){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](_c(t));if(t.W!==t.getUid()&&t.J.length)for(t.W=t.getUid(),e=0;e<t.J.length;e++)t.J[e]&&t.J[e](_c(t))}}function Cc(t,e){return t.O.push(e),e.ka(function(){q(t.O,e)}),e}function Sc(){}function Ec(){this.a={},this.b=1e12}nc.prototype.mb=function(t){var e=null,n=this;return function(t){var e=new Yr("invalid-persistence-type"),n=new Yr("unsupported-persistence-type");t:{for(r in vl)if(vl[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(ur()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!vr()&&"none"!==t)throw n}}(t),uc(this,function(){return t!=n.c.C?n.b.get(n.c,n.a).then(function(r){return e=r,rc(n,t)}).then(function(){if(n.c=oc(t),e)return n.b.set(n.c,e,n.a)}):Yt()})},T(cc,on),T(hc,Re),T(dc,Re),(t=cc.prototype).mb=function(t){return Cc(this,t=this.h.mb(t))},t.sa=function(t){this.Z===t||this.l||(this.Z=t,Rs(this.b,this.Z),this.dispatchEvent(new hc(this.ha())))},t.ha=function(){return this.Z},t.Tc=function(){var t=s.navigator;this.sa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.vc=function(t){this.I.push(t),Ms(this.b,FT.a.SDK_VERSION?gr(FT.a.SDK_VERSION,this.I):null),this.dispatchEvent(new dc(this.I))},t.Aa=function(){return H(this.I)},t.nb=function(t){this.P===t||this.l||(this.P=t,this.b.b=this.P)},t.R=function(){return this.P},t.toJSON=function(){return{apiKey:vc(this).options.apiKey,authDomain:vc(this).options.authDomain,appName:vc(this).name,currentUser:bc(this)&&bc(this).A()}},t.xb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.ja=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.za=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?C(this.ac,this):null},t.ac=function(t,e,n,r){var i=this;t={requestUri:t,postBody:r,sessionId:e,tenantId:n},this.c&&(this.c.cancel(),this.c=null);var o=null,s=null,a=Gs(i.b,t).then(function(t){return o=vo(t),s=Ni(t),t});return Cc(this,t=i.Y.then(function(){return a}).then(function(t){return gc(i,t)}).then(function(){return jr({user:bc(i),credential:o,additionalUserInfo:s,operationType:"signIn"})}))},t.Lc=function(t){if(!br())return Jt(new Yr("operation-not-supported-in-this-environment"));var e=this,n=Pi(t.providerId),r=Ir(),i=null;(!Cr()||ar())&&vc(this).options.authDomain&&t.isOAuthProvider&&(i=ja(vc(this).options.authDomain,vc(this).options.apiKey,vc(this).name,"signInViaPopup",t,null,r,FT.a.SDK_VERSION||null,null,null,this.R()));var o=nr(i,n&&n.Da,n&&n.Ca);return Cc(this,n=pc(this).then(function(n){return nu(n,o,"signInViaPopup",t,r,!!i,e.R())}).then(function(){return new zt(function(t,n){e.ja("signInViaPopup",null,new Yr("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=r,e.c=ou(e.a,e,"signInViaPopup",o,r)})}).then(function(t){return o&&er(o),t?jr(t):null}).s(function(t){throw o&&er(o),t}))},t.Mc=function(t){if(!br())return Jt(new Yr("operation-not-supported-in-this-environment"));var e=this;return Cc(this,pc(this).then(function(){return function(t){return uc(t,function(){return t.b.set(ic,t.c.C,t.a)})}(e.h)}).then(function(){return iu(e.a,"signInViaRedirect",t,void 0,e.R())}))},t.oa=function(){var t=this;return fc(this).then(function(e){return t.a&&cu(t.a.b),e}).s(function(e){throw t.a&&cu(t.a.b),e})},t.Rc=function(t){if(!t)return Jt(new Yr("null-user"));if(this.P!=t.tenantId)return Jt(new Yr("tenant-id-mismatch"));var e=this,n={};n.apiKey=vc(this).options.apiKey,n.authDomain=vc(this).options.authDomain,n.appName=vc(this).name;var r=function(t,e,n,r){e=e||{apiKey:t.l,authDomain:t.o,appName:t.m};var i=t.b,o={};return o[Os]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-E())/1e3,e=new Tu(e,o),n&&(e.da=n),r&&ku(e,r),qu(e,t),e}(t,n,e.w,e.Aa());return Cc(this,this.i.then(function(){if(vc(e).options.apiKey!=t.l)return r.reload()}).then(function(){return bc(e)&&t.uid==bc(e).uid?(qu(bc(e),t),e.aa(t)):(mc(e,r),Ru(r),e.aa(r))}).then(function(){wc(e)}))},t.pb=function(){var t=this;return Cc(this,this.i.then(function(){return t.a&&cu(t.a.b),bc(t)?(mc(t,null),ac(t.h).then(function(){wc(t)})):Yt()}))},t.Nc=function(){var t=this;return lc(this.h,vc(this).options.authDomain).then(function(e){if(!t.l){var n;if(n=bc(t)&&e){n=bc(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return qu(bc(t),e),bc(t).G();(bc(t)||e)&&(mc(t,e),e&&(Ru(e),e.da=t.w),t.a&&Xl(t.a,t),wc(t))}})},t.aa=function(t){return sc(this.h,t)},t.bc=function(){wc(this),this.aa(bc(this))},t.mc=function(){this.pb()},t.nc=function(){this.pb()},t.oc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(bc(e))})},t.pc=function(t){var e=this;!function(t,e){t.J.push(e),Cc(t,t.i.then(function(){!t.l&&B(t.J,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(_c(t)))}))}(this,function(){t.next(bc(e))})},t.xc=function(t,e,n){var r=this;return this.ga&&Promise.resolve().then(function(){m(t)?t(bc(r)):m(t.next)&&t.next(bc(r))}),this.Ub(t,e,n)},t.wc=function(t,e,n){var r=this;return this.ga&&Promise.resolve().then(function(){r.W=r.getUid(),m(t)?t(bc(r)):m(t.next)&&t.next(bc(r))}),this.Vb(t,e,n)},t.cc=function(t){var e=this;return Cc(this,this.i.then(function(){return bc(e)?bc(e).G(t).then(function(t){return{accessToken:t}}):null}))},t.Hc=function(t){var e=this;return this.i.then(function(){return yc(e,Ea(e.b,ba,{token:t}))}).then(function(t){var n=t.user;return Bu(n,"isAnonymous",!1),e.aa(n),t})},t.Ic=function(t,e){var n=this;return this.i.then(function(){return yc(n,Ea(n.b,_a,{email:t,password:e}))})},t.Xb=function(t,e){var n=this;return this.i.then(function(){return yc(n,Ea(n.b,Zs,{email:t,password:e}))})},t.Ra=function(t){var e=this;return this.i.then(function(){return yc(e,t.na(e.b))})},t.Gc=function(t){return Mr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ra(t)},t.ob=function(){var t=this;return this.i.then(function(){var e=bc(t);if(e&&e.isAnonymous){var n=jr({providerId:null,isNewUser:!1});return jr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return yc(t,t.b.ob()).then(function(e){var n=e.user;return Bu(n,"isAnonymous",!0),t.aa(n),e})})},t.getUid=function(){return bc(this)&&bc(this).uid||null},t.Wb=function(t){this.addAuthTokenListener(t),this.o++,0<this.o&&bc(this)&&Au(bc(this))},t.Ec=function(t){var e=this;F(this.m,function(n){n==t&&e.o--}),0>this.o&&(this.o=0),0==this.o&&bc(this)&&Pu(bc(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),Cc(this,this.i.then(function(){e.l||B(e.m,t)&&t(_c(e))}))},t.removeAuthTokenListener=function(t){z(this.m,function(e){return e==t})},t.delete=function(){this.l=!0;for(var t=0;t<this.O.length;t++)this.O[t].cancel("app-deleted");return this.O=[],this.h&&(t=this.h).b.removeListener(oc("local"),t.a,this.ma),this.a&&(Zl(this.a,this),cu(this.a.b)),Promise.resolve()},t.$b=function(t){return Cc(this,function(t,e){return Ea(t,ta,{identifier:e,continueUri:_r()?Xn():"http://localhost"}).then(function(t){return t.signinMethods||[]})}(this.b,t))},t.qc=function(t){return!!ho(t)},t.lb=function(t,e){var n=this;return Cc(this,Yt().then(function(){var t=new ui(e);if(!t.c)throw new Yr("argument-error",di+" must be true when sending sign in link to email");return bi(t)}).then(function(e){return n.b.lb(t,e)}).then(function(){}))},t.Uc=function(t){return this.Ka(t).then(function(t){return t.data.email})},t.$a=function(t,e){return Cc(this,this.b.$a(t,e).then(function(){}))},t.Ka=function(t){return Cc(this,this.b.Ka(t).then(function(t){return new Br(t)}))},t.Xa=function(t){return Cc(this,this.b.Xa(t).then(function(){}))},t.kb=function(t,e){var n=this;return Cc(this,Yt().then(function(){return void 0===e||G(e)?{}:bi(new ui(e))}).then(function(e){return n.b.kb(t,e)}).then(function(){}))},t.Kc=function(t,e){return Cc(this,mu(this,t,e,C(this.Ra,this)))},t.Jc=function(t,e){var n=this;return Cc(this,Yt().then(function(){var r=e||Xn(),i=co(t,r);if(!(r=ho(r)))throw new Yr("argument-error","Invalid email link!");if(r.tenantId!==n.R())throw new Yr("tenant-id-mismatch");return n.Ra(i)}))},Sc.prototype.render=function(){},Sc.prototype.reset=function(){},Sc.prototype.getResponse=function(){},Sc.prototype.execute=function(){};var Tc=null;function Ic(t,e){return(e=kc(e))&&t.a[e]||null}function kc(t){return(t=void 0===t?1e12:t)?t.toString():null}function xc(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=qn(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():Ke(this.f,"click",this.i)}function Oc(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Ac(){}Ec.prototype.render=function(t,e){return this.a[this.b.toString()]=new xc(t,e),this.b++},Ec.prototype.reset=function(t){var e=Ic(this,t);t=kc(t),e&&t&&(e.delete(),delete this.a[t])},Ec.prototype.getResponse=function(t){return(t=Ic(this,t))?t.getResponse():null},Ec.prototype.execute=function(t){(t=Ic(this,t))&&t.execute()},xc.prototype.getResponse=function(){return Oc(this),this.b},xc.prototype.execute=function(){Oc(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()},6e4)},500))},xc.prototype.delete=function(){Oc(this),this.g=!0,clearTimeout(this.a),this.a=null,$e(this.f,"click",this.i)},Ac.prototype.g=function(){return Tc||(Tc=new Ec),Yt(Tc)},Ac.prototype.c=function(){};var Pc=null;function Nc(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Dc=new J(tt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Rc=new Or(3e4,6e4);Nc.prototype.g=function(t){var e=this;return new zt(function(n,r){var i=setTimeout(function(){r(new Yr("network-request-failed"))},Rc.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new Yr("internal-error"));delete s[e.a]},Yt(_s(it(Dc,{onload:e.a,hl:t||""}))).s(function(){clearTimeout(i),r(new Yr("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(i),n(s.grecaptcha))})},Nc.prototype.c=function(){this.b--};var Mc=null;function Lc(t,e,n,r,i,o,a){if(Vr(this,"type","recaptcha"),this.c=this.f=null,this.B=!1,this.u=e,this.g=null,a?(Pc||(Pc=new Ac),a=Pc):(Mc||(Mc=new Nc),a=Mc),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[jc])throw new Yr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Uc],!s.document)throw new Yr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!qn(e)||!this.i&&qn(e).hasChildNodes())throw new Yr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new ks(t,o||null,i||null),this.v=r||function(){return null};var l=this;this.l=[];var u=this.a[Vc];this.a[Vc]=function(t){if(Bc(l,t),"function"==typeof u)u(t);else if("string"==typeof u){var e=yr(u,s);"function"==typeof e&&e(t)}};var c=this.a[Fc];this.a[Fc]=function(){if(Bc(l,null),"function"==typeof c)c();else if("string"==typeof c){var t=yr(c,s);"function"==typeof t&&t()}}}var Vc="callback",Fc="expired-callback",jc="sitekey",Uc="size";function Bc(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function qc(t,e){return t.h.push(e),e.ka(function(){q(t.h,e)}),e}function zc(t){if(t.B)throw new Yr("internal-error","RecaptchaVerifier instance has been destroyed.")}function Wc(t,e,n){var r=!1;try{this.b=n||FT.a.app()}catch(s){throw new Yr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Yr("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Aa()}catch(s){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}o=FT.a.SDK_VERSION?gr(FT.a.SDK_VERSION,o):null,Lc.call(this,n,t,e,function(){try{var t=i.b.auth().ha()}catch(e){t=null}return t},o,ki(Ti),r)}function Hc(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new Yr("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].N(n[i])&&!o){if(e=e[i],0>i||i>=Kc.length)throw new Yr("internal-error","Argument validator received an unsupported number of arguments.");n=Kc[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.M+".";break t}r=null}}if(r)throw new Yr("argument-error",t+" failed: "+r)}(t=Lc.prototype).Ba=function(){var t=this;return this.f?this.f:this.f=qc(this,Yt().then(function(){if(_r()&&!lr())return or();throw new Yr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.m.g(t.v())}).then(function(e){return t.g=e,Ea(t.o,ca,{})}).then(function(e){t.a[jc]=e.recaptchaSiteKey}).s(function(e){throw t.f=null,e}))},t.render=function(){zc(this);var t=this;return qc(this,this.Ba().then(function(){if(null===t.c){var e=t.u;if(!t.i){var n=qn(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!Bn&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Vt(s.name),'"'),s.type){o.push(' type="',Vt(s.type),'"');var l={};Y(l,s),delete l.type,s=l}o.push(">"),o=o.join("")}return o=i.createElement(o),s&&(a(s)?o.className=s:f(s)?o.className=s.join(" "):zn(o,s)),2<r.length&&function(t,e,n){function r(n){n&&e.appendChild(a(n)?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!g(o)||y(o)&&0<o.nodeType?r(o):F(Hn(o)?H(o):o,r)}}(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){zc(this);var t=this;return qc(this,this.render().then(function(e){return new zt(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){z(t.l,function(t){return t==e})}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){zc(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){zc(this),this.B=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=qn(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},T(Wc,Lc);var Kc="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Gc(t,e){return{name:t||"",M:"a valid string",optional:!!e,N:a}}function Qc(t,e){return{name:t||"",M:"a boolean",optional:!!e,N:l}}function $c(t,e){return{name:t||"",M:"a valid object",optional:!!e,N:y}}function Yc(t,e){return{name:t||"",M:"a function",optional:!!e,N:m}}function Jc(t,e){return{name:t||"",M:"null",optional:!!e,N:p}}function Xc(t){return{name:t?t+"Credential":"credential",M:t?"a valid "+t+" credential":"a valid credential",optional:!1,N:function(e){return!!e&&!(!e.na||t&&e.providerId!==t)}}}function Zc(){return{name:"applicationVerifier",M:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,N:function(t){return!!(t&&a(t.type)&&m(t.verify))}}}function th(t,e,n,r){return{name:n||"",M:t.M+" or "+e.M,optional:!!r,N:function(n){return t.N(n)||e.N(n)}}}function eh(t,e){for(var n in e){var r=e[n].name;t[r]=ih(r,t[n],e[n].j)}}function nh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:S(function(t){return this[t]},n),set:S(function(t,e,n,r){Hc(t,[n],[r],!0),this[e]=r},r,n,e[n].Ya),enumerable:!0})}}function rh(t,e,n,r){t[e]=ih(e,n,r)}function ih(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Hc(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}eh(cc.prototype,{Xa:{name:"applyActionCode",j:[Gc("code")]},Ka:{name:"checkActionCode",j:[Gc("code")]},$a:{name:"confirmPasswordReset",j:[Gc("code"),Gc("newPassword")]},Xb:{name:"createUserWithEmailAndPassword",j:[Gc("email"),Gc("password")]},$b:{name:"fetchSignInMethodsForEmail",j:[Gc("email")]},oa:{name:"getRedirectResult",j:[]},qc:{name:"isSignInWithEmailLink",j:[Gc("emailLink")]},wc:{name:"onAuthStateChanged",j:[th($c(),Yc(),"nextOrObserver"),Yc("opt_error",!0),Yc("opt_completed",!0)]},xc:{name:"onIdTokenChanged",j:[th($c(),Yc(),"nextOrObserver"),Yc("opt_error",!0),Yc("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[Gc("email"),th($c("opt_actionCodeSettings",!0),Jc(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[Gc("email"),$c("actionCodeSettings")]},mb:{name:"setPersistence",j:[Gc("persistence")]},Gc:{name:"signInAndRetrieveDataWithCredential",j:[Xc()]},ob:{name:"signInAnonymously",j:[]},Ra:{name:"signInWithCredential",j:[Xc()]},Hc:{name:"signInWithCustomToken",j:[Gc("token")]},Ic:{name:"signInWithEmailAndPassword",j:[Gc("email"),Gc("password")]},Jc:{name:"signInWithEmailLink",j:[Gc("email"),Gc("emailLink",!0)]},Kc:{name:"signInWithPhoneNumber",j:[Gc("phoneNumber"),Zc()]},Lc:{name:"signInWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"signInWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Rc:{name:"updateCurrentUser",j:[th({name:"user",M:"an instance of Firebase User",optional:!1,N:function(t){return!!(t&&t instanceof Tu)}},Jc(),"user")]},pb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Gc(null,!0)]},Tc:{name:"useDeviceLanguage",j:[]},Uc:{name:"verifyPasswordResetCode",j:[Gc("code")]}}),nh(cc.prototype,{lc:{name:"languageCode",Ya:th(Gc(),Jc(),"languageCode")},ti:{name:"tenantId",Ya:th(Gc(),Jc(),"tenantId")}}),(cc.Persistence=vl).LOCAL="local",cc.Persistence.SESSION="session",cc.Persistence.NONE="none",eh(Tu.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[Qc("opt_forceRefresh",!0)]},G:{name:"getIdToken",j:[Qc("opt_forceRefresh",!0)]},rc:{name:"linkAndRetrieveDataWithCredential",j:[Xc()]},eb:{name:"linkWithCredential",j:[Xc()]},sc:{name:"linkWithPhoneNumber",j:[Gc("phoneNumber"),Zc()]},tc:{name:"linkWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},uc:{name:"linkWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Xc()]},gb:{name:"reauthenticateWithCredential",j:[Xc()]},Bc:{name:"reauthenticateWithPhoneNumber",j:[Gc("phoneNumber"),Zc()]},Cc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",M:"a valid Auth provider",optional:!1,N:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[th($c("opt_actionCodeSettings",!0),Jc(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Gc(null,!0)]},Qc:{name:"unlink",j:[Gc("provider")]},rb:{name:"updateEmail",j:[Gc("email")]},sb:{name:"updatePassword",j:[Gc("password")]},Sc:{name:"updatePhoneNumber",j:[Xc("phone")]},tb:{name:"updateProfile",j:[$c("profile")]}}),eh(Ec.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),eh(Sc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),eh(zt.prototype,{ka:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),nh(fu.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",Ya:Qc("appVerificationDisabledForTesting")}}),eh(gu.prototype,{confirm:{name:"confirm",j:[Gc("verificationCode")]}}),rh(qi,"fromJSON",function(t){t=a(t)?JSON.parse(t):t;for(var e,n=[$i,lo,fo,Ki],r=0;r<n.length;r++)if(e=n[r](t))return e;return null},[th(Gc(),$c(),"json")]),rh(uo,"credential",function(t,e){return new ao(t,e)},[Gc("email"),Gc("password")]),eh(ao.prototype,{A:{name:"toJSON",j:[Gc(null,!0)]}}),eh(Zi.prototype,{wa:{name:"addScope",j:[Gc("scope")]},Ea:{name:"setCustomParameters",j:[$c("customOAuthParameters")]}}),rh(Zi,"credential",to,[th(Gc(),$c(),"token")]),rh(uo,"credentialWithLink",co,[Gc("email"),Gc("emailLink")]),eh(eo.prototype,{wa:{name:"addScope",j:[Gc("scope")]},Ea:{name:"setCustomParameters",j:[$c("customOAuthParameters")]}}),rh(eo,"credential",no,[th(Gc(),$c(),"token")]),eh(ro.prototype,{wa:{name:"addScope",j:[Gc("scope")]},Ea:{name:"setCustomParameters",j:[$c("customOAuthParameters")]}}),rh(ro,"credential",io,[th(Gc(),th($c(),Jc()),"idToken"),th(Gc(),Jc(),"accessToken",!0)]),eh(oo.prototype,{Ea:{name:"setCustomParameters",j:[$c("customOAuthParameters")]}}),rh(oo,"credential",so,[th(Gc(),$c(),"token"),Gc("secret",!0)]),eh(Xi.prototype,{wa:{name:"addScope",j:[Gc("scope")]},credential:{name:"credential",j:[th(Gc(),th($c(),Jc()),"optionsOrIdToken"),th(Gc(),Jc(),"accessToken",!0)]},Ea:{name:"setCustomParameters",j:[$c("customOAuthParameters")]}}),eh(Gi.prototype,{A:{name:"toJSON",j:[Gc(null,!0)]}}),eh(Wi.prototype,{A:{name:"toJSON",j:[Gc(null,!0)]}}),rh(mo,"credential",yo,[Gc("verificationId"),Gc("verificationCode")]),eh(mo.prototype,{Va:{name:"verifyPhoneNumber",j:[Gc("phoneNumber"),Zc()]}}),eh(po.prototype,{A:{name:"toJSON",j:[Gc(null,!0)]}}),eh(Yr.prototype,{toJSON:{name:"toJSON",j:[Gc(null,!0)]}}),eh(Io.prototype,{toJSON:{name:"toJSON",j:[Gc(null,!0)]}}),eh(To.prototype,{toJSON:{name:"toJSON",j:[Gc(null,!0)]}}),eh(Wc.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),rh(ti,"parseLink",li,[Gc("link")]),function(){if(void 0===FT.a||!FT.a.INTERNAL||!FT.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:qr,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:cc,AuthCredential:qi,Error:Yr};rh(t,"EmailAuthProvider",uo,[]),rh(t,"FacebookAuthProvider",Zi,[]),rh(t,"GithubAuthProvider",eo,[]),rh(t,"GoogleAuthProvider",ro,[]),rh(t,"TwitterAuthProvider",oo,[]),rh(t,"OAuthProvider",Xi,[Gc("providerId")]),rh(t,"SAMLAuthProvider",Ji,[Gc("providerId")]),rh(t,"PhoneAuthProvider",mo,[{name:"auth",M:"an instance of Firebase Auth",optional:!0,N:function(t){return!!(t&&t instanceof cc)}}]),rh(t,"RecaptchaVerifier",Wc,[th(Gc(),{name:"",M:"an HTML element",optional:!1,N:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),$c("recaptchaParameters",!0),{name:"app",M:"an instance of Firebase App",optional:!0,N:function(t){return!!(t&&t instanceof FT.a.app.App)}}]),rh(t,"ActionCodeURL",ti,[]),FT.a.INTERNAL.registerService("auth",function(t,e){return e({INTERNAL:{getUid:C((t=new cc(t)).getUid,t),getToken:C(t.cc,t),addAuthTokenListener:C(t.Wb,t),removeAuthTokenListener:C(t.Ec,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(n){}}),FT.a.INTERNAL.extendNamespace({User:Tu})}()}).apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});let jT=class{};var UT;n("6Joi");let BT=UT=class{static enablePersistence(t){return{ngModule:UT,providers:[{provide:yf,useValue:!0},{provide:vf,useValue:t}]}}};var qT,zT,WT=function(){function t(){}return t.prototype.getNativeWindow=function(){return window},t}(),HT=function(){function t(){}return t.prototype.getNativeDocument=function(){return document},t}(),KT=[WT,HT],GT=(qT=function(t,e){return(qT=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}qT(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),QT=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},$T=function(t,e){return function(n,r){e(n,r,t)}};!function(t){t[t.HTTP=1]="HTTP",t[t.HTTPS=2]="HTTPS",t[t.AUTO=3]="AUTO"}(zT||(zT={}));var YT=new xt("angular-google-maps LAZY_MAPS_API_CONFIG"),JT=function(t){function e(e,n,r){void 0===e&&(e=null);var i=t.call(this)||this;return i._SCRIPT_ID="agmGoogleMapsApiScript",i.callbackName="agmLazyMapsAPILoader",i._config=e||{},i._windowRef=n,i._documentRef=r,i}return GT(e,t),e.prototype.load=function(){var t=this._windowRef.getNativeWindow();if(t.google&&t.google.maps)return Promise.resolve();if(this._scriptLoadingPromise)return this._scriptLoadingPromise;var e=this._documentRef.getNativeDocument().getElementById(this._SCRIPT_ID);if(e)return this._assignScriptLoadingPromise(e),this._scriptLoadingPromise;var n=this._documentRef.getNativeDocument().createElement("script");return n.type="text/javascript",n.async=!0,n.defer=!0,n.id=this._SCRIPT_ID,n.src=this._getScriptSrc(this.callbackName),this._assignScriptLoadingPromise(n),this._documentRef.getNativeDocument().body.appendChild(n),this._scriptLoadingPromise},e.prototype._assignScriptLoadingPromise=function(t){var e=this;this._scriptLoadingPromise=new Promise(function(n,r){e._windowRef.getNativeWindow()[e.callbackName]=function(){n()},t.onerror=function(t){r(t)}})},e.prototype._getScriptSrc=function(t){var e;switch(this._config&&this._config.protocol||zT.HTTPS){case zT.AUTO:e="";break;case zT.HTTP:e="http:";break;case zT.HTTPS:e="https:"}var n={v:this._config.apiVersion||"quarterly",callback:t,key:this._config.apiKey,client:this._config.clientId,channel:this._config.channel,libraries:this._config.libraries,region:this._config.region,language:this._config.language};return e+"//"+(this._config.hostAndPath||"maps.googleapis.com/maps/api/js")+"?"+Object.keys(n).filter(function(t){return null!=n[t]}).filter(function(t){return!Array.isArray(n[t])||Array.isArray(n[t])&&n[t].length>0}).map(function(t){var e=n[t];return Array.isArray(e)?{key:t,value:e.join(",")}:{key:t,value:n[t]}}).map(function(t){return t.key+"="+t.value}).join("&")},function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}([$e(),$T(0,ht()),$T(0,ct(YT)),QT("design:paramtypes",[Object,WT,HT])],e)}(tm);class XT{constructor(t){this.miHttp=t,this.api="http://localhost:8080/jugadoresarchivo/apirestjugadores/"}traerJugadores(t){return this.miHttp.httpGetO(this.api+t).toPromise().then(t=>(console.log("Archivo jugadores"),t),t=>{console.log(t)})}}class ZT{constructor(t){this.miHttp=t}traertodos(t,e){return this.miHttp.traerJugadores(t).then(t=>{let n;return console.info("jugadores service",t),this.filtrado=t,n="ganadores"==e,this.filtrado=this.filtrado.filter(t=>t.gano===n||"todos"==e),this.filtrado}).catch(t=>(console.log("error"),this.filtrado))}}const tI={animation:"FilterPage"},eI={animation:"Home"},nI={animation:"Home"},rI={animation:"FilterPage"},iI={animation:"FilterPage"},oI={animation:"Home"},sI={animation:"FilterPage"},aI={animation:"FilterPage"};class lI{}class uI{}var cI=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},hI=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},dI=function(){function t(t){this._manager=t,this.clickable=!0,this.draggable=!1,this.editable=!1,this.radius=0,this.strokePosition="CENTER",this.strokeWeight=0,this.visible=!0,this.centerChange=new ro,this.circleClick=new ro,this.circleDblClick=new ro,this.drag=new ro,this.dragEnd=new ro,this.dragStart=new ro,this.mouseDown=new ro,this.mouseMove=new ro,this.mouseOut=new ro,this.mouseOver=new ro,this.mouseUp=new ro,this.radiusChange=new ro,this.rightClick=new ro,this._circleAddedToManager=!1,this._eventSubscriptions=[]}var e;return e=t,t.prototype.ngOnInit=function(){this._manager.addCircle(this),this._circleAddedToManager=!0,this._registerEventListeners()},t.prototype.ngOnChanges=function(t){this._circleAddedToManager&&((t.latitude||t.longitude)&&this._manager.setCenter(this),t.editable&&this._manager.setEditable(this),t.draggable&&this._manager.setDraggable(this),t.visible&&this._manager.setVisible(this),t.radius&&this._manager.setRadius(this),this._updateCircleOptionsChanges(t))},t.prototype._updateCircleOptionsChanges=function(t){var n={},r=Object.keys(t).filter(function(t){return-1!==e._mapOptions.indexOf(t)});r.forEach(function(e){n[e]=t[e].currentValue}),r.length>0&&this._manager.setOptions(this,n)},t.prototype._registerEventListeners=function(){var t=this,e=new Map;e.set("center_changed",this.centerChange),e.set("click",this.circleClick),e.set("dblclick",this.circleDblClick),e.set("drag",this.drag),e.set("dragend",this.dragEnd),e.set("dragstart",this.dragStart),e.set("mousedown",this.mouseDown),e.set("mousemove",this.mouseMove),e.set("mouseout",this.mouseOut),e.set("mouseover",this.mouseOver),e.set("mouseup",this.mouseUp),e.set("radius_changed",this.radiusChange),e.set("rightclick",this.rightClick),e.forEach(function(e,n){t._eventSubscriptions.push(t._manager.createEventObservable(n,t).subscribe(function(r){switch(n){case"radius_changed":t._manager.getRadius(t).then(function(t){return e.emit(t)});break;case"center_changed":t._manager.getCenter(t).then(function(t){return e.emit({lat:t.lat(),lng:t.lng()})});break;default:e.emit({coords:{lat:r.latLng.lat(),lng:r.latLng.lng()}})}}))})},t.prototype.ngOnDestroy=function(){this._eventSubscriptions.forEach(function(t){t.unsubscribe()}),this._eventSubscriptions=null,this._manager.removeCircle(this)},t.prototype.getBounds=function(){return this._manager.getBounds(this)},t.prototype.getCenter=function(){return this._manager.getCenter(this)},t._mapOptions=["fillColor","fillOpacity","strokeColor","strokeOpacity","strokePosition","strokeWeight","visible","zIndex","clickable"],cI([lo(),hI("design:type",Number)],t.prototype,"latitude",void 0),cI([lo(),hI("design:type",Number)],t.prototype,"longitude",void 0),cI([lo(),hI("design:type",Boolean)],t.prototype,"clickable",void 0),cI([lo("circleDraggable"),hI("design:type",Boolean)],t.prototype,"draggable",void 0),cI([lo(),hI("design:type",Boolean)],t.prototype,"editable",void 0),cI([lo(),hI("design:type",String)],t.prototype,"fillColor",void 0),cI([lo(),hI("design:type",Number)],t.prototype,"fillOpacity",void 0),cI([lo(),hI("design:type",Number)],t.prototype,"radius",void 0),cI([lo(),hI("design:type",String)],t.prototype,"strokeColor",void 0),cI([lo(),hI("design:type",Number)],t.prototype,"strokeOpacity",void 0),cI([lo(),hI("design:type",String)],t.prototype,"strokePosition",void 0),cI([lo(),hI("design:type",Number)],t.prototype,"strokeWeight",void 0),cI([lo(),hI("design:type",Boolean)],t.prototype,"visible",void 0),cI([lo(),hI("design:type",Number)],t.prototype,"zIndex",void 0),cI([uo(),hI("design:type",ro)],t.prototype,"centerChange",void 0),cI([uo(),hI("design:type",ro)],t.prototype,"circleClick",void 0),cI([uo(),hI("design:type",ro)],t.prototype,"circleDblClick",void 0),cI([uo(),hI("design:type",ro)],t.prototype,"drag",void 0),cI([uo(),hI("design:type",ro)],t.prototype,"dragEnd",void 0),cI([uo(),hI("design:type",ro)],t.prototype,"dragStart",void 0),cI([uo(),hI("design:type",ro)],t.prototype,"mouseDown",void 0),cI([uo(),hI("design:type",ro)],t.prototype,"mouseMove",void 0),cI([uo(),hI("design:type",ro)],t.prototype,"mouseOut",void 0),cI([uo(),hI("design:type",ro)],t.prototype,"mouseOver",void 0),cI([uo(),hI("design:type",ro)],t.prototype,"mouseUp",void 0),cI([uo(),hI("design:type",ro)],t.prototype,"radiusChange",void 0),cI([uo(),hI("design:type",ro)],t.prototype,"rightClick",void 0),e=cI([so({selector:"agm-circle"}),hI("design:paramtypes",[cm])],t)}(),pI=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},fI=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},gI=function(){function t(t){this._manager=t,this.clickable=!0,this.draggable=!1,this.editable=!1,this.strokePosition="CENTER",this.strokeWeight=0,this.visible=!0,this.boundsChange=new ro,this.rectangleClick=new ro,this.rectangleDblClick=new ro,this.drag=new ro,this.dragEnd=new ro,this.dragStart=new ro,this.mouseDown=new ro,this.mouseMove=new ro,this.mouseOut=new ro,this.mouseOver=new ro,this.mouseUp=new ro,this.rightClick=new ro,this._rectangleAddedToManager=!1,this._eventSubscriptions=[]}var e;return e=t,t.prototype.ngOnInit=function(){this._manager.addRectangle(this),this._rectangleAddedToManager=!0,this._registerEventListeners()},t.prototype.ngOnChanges=function(t){this._rectangleAddedToManager&&((t.north||t.east||t.south||t.west)&&this._manager.setBounds(this),t.editable&&this._manager.setEditable(this),t.draggable&&this._manager.setDraggable(this),t.visible&&this._manager.setVisible(this),this._updateRectangleOptionsChanges(t))},t.prototype._updateRectangleOptionsChanges=function(t){var n={},r=Object.keys(t).filter(function(t){return-1!==e._mapOptions.indexOf(t)});r.forEach(function(e){n[e]=t[e].currentValue}),r.length>0&&this._manager.setOptions(this,n)},t.prototype._registerEventListeners=function(){var t=this,e=new Map;e.set("bounds_changed",this.boundsChange),e.set("click",this.rectangleClick),e.set("dblclick",this.rectangleDblClick),e.set("drag",this.drag),e.set("dragend",this.dragEnd),e.set("dragStart",this.dragStart),e.set("mousedown",this.mouseDown),e.set("mousemove",this.mouseMove),e.set("mouseout",this.mouseOut),e.set("mouseover",this.mouseOver),e.set("mouseup",this.mouseUp),e.set("rightclick",this.rightClick),e.forEach(function(e,n){t._eventSubscriptions.push(t._manager.createEventObservable(n,t).subscribe(function(r){switch(n){case"bounds_changed":t._manager.getBounds(t).then(function(t){return e.emit({north:t.getNorthEast().lat(),east:t.getNorthEast().lng(),south:t.getSouthWest().lat(),west:t.getSouthWest().lng()})});break;default:e.emit({coords:{lat:r.latLng.lat(),lng:r.latLng.lng()}})}}))})},t.prototype.ngOnDestroy=function(){this._eventSubscriptions.forEach(function(t){t.unsubscribe()}),this._eventSubscriptions=null,this._manager.removeRectangle(this)},t.prototype.getBounds=function(){return this._manager.getBounds(this)},t._mapOptions=["fillColor","fillOpacity","strokeColor","strokeOpacity","strokePosition","strokeWeight","visible","zIndex","clickable"],pI([lo(),fI("design:type",Number)],t.prototype,"north",void 0),pI([lo(),fI("design:type",Number)],t.prototype,"east",void 0),pI([lo(),fI("design:type",Number)],t.prototype,"south",void 0),pI([lo(),fI("design:type",Number)],t.prototype,"west",void 0),pI([lo(),fI("design:type",Boolean)],t.prototype,"clickable",void 0),pI([lo("rectangleDraggable"),fI("design:type",Boolean)],t.prototype,"draggable",void 0),pI([lo(),fI("design:type",Boolean)],t.prototype,"editable",void 0),pI([lo(),fI("design:type",String)],t.prototype,"fillColor",void 0),pI([lo(),fI("design:type",Number)],t.prototype,"fillOpacity",void 0),pI([lo(),fI("design:type",String)],t.prototype,"strokeColor",void 0),pI([lo(),fI("design:type",Number)],t.prototype,"strokeOpacity",void 0),pI([lo(),fI("design:type",String)],t.prototype,"strokePosition",void 0),pI([lo(),fI("design:type",Number)],t.prototype,"strokeWeight",void 0),pI([lo(),fI("design:type",Boolean)],t.prototype,"visible",void 0),pI([lo(),fI("design:type",Number)],t.prototype,"zIndex",void 0),pI([uo(),fI("design:type",ro)],t.prototype,"boundsChange",void 0),pI([uo(),fI("design:type",ro)],t.prototype,"rectangleClick",void 0),pI([uo(),fI("design:type",ro)],t.prototype,"rectangleDblClick",void 0),pI([uo(),fI("design:type",ro)],t.prototype,"drag",void 0),pI([uo(),fI("design:type",ro)],t.prototype,"dragEnd",void 0),pI([uo(),fI("design:type",ro)],t.prototype,"dragStart",void 0),pI([uo(),fI("design:type",ro)],t.prototype,"mouseDown",void 0),pI([uo(),fI("design:type",ro)],t.prototype,"mouseMove",void 0),pI([uo(),fI("design:type",ro)],t.prototype,"mouseOut",void 0),pI([uo(),fI("design:type",ro)],t.prototype,"mouseOver",void 0),pI([uo(),fI("design:type",ro)],t.prototype,"mouseUp",void 0),pI([uo(),fI("design:type",ro)],t.prototype,"rightClick",void 0),e=pI([so({selector:"agm-rectangle"}),fI("design:paramtypes",[dm])],t)}(),mI=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},yI=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},vI=function(){function t(t){this._polygonManager=t,this.clickable=!0,this.draggable=!1,this.editable=!1,this.geodesic=!1,this.paths=[],this.polyClick=new ro,this.polyDblClick=new ro,this.polyDrag=new ro,this.polyDragEnd=new ro,this.polyDragStart=new ro,this.polyMouseDown=new ro,this.polyMouseMove=new ro,this.polyMouseOut=new ro,this.polyMouseOver=new ro,this.polyMouseUp=new ro,this.polyRightClick=new ro,this.polyPathsChange=new ro,this._polygonAddedToManager=!1,this._subscriptions=[]}var e;return e=t,t.prototype.ngAfterContentInit=function(){this._polygonAddedToManager||this._init()},t.prototype.ngOnChanges=function(t){this._polygonAddedToManager?this._polygonManager.setPolygonOptions(this,this._updatePolygonOptions(t)):this._init()},t.prototype._init=function(){this._polygonManager.addPolygon(this),this._polygonAddedToManager=!0,this._addEventListeners()},t.prototype._addEventListeners=function(){var t=this;[{name:"click",handler:function(e){return t.polyClick.emit(e)}},{name:"dblclick",handler:function(e){return t.polyDblClick.emit(e)}},{name:"drag",handler:function(e){return t.polyDrag.emit(e)}},{name:"dragend",handler:function(e){return t.polyDragEnd.emit(e)}},{name:"dragstart",handler:function(e){return t.polyDragStart.emit(e)}},{name:"mousedown",handler:function(e){return t.polyMouseDown.emit(e)}},{name:"mousemove",handler:function(e){return t.polyMouseMove.emit(e)}},{name:"mouseout",handler:function(e){return t.polyMouseOut.emit(e)}},{name:"mouseover",handler:function(e){return t.polyMouseOver.emit(e)}},{name:"mouseup",handler:function(e){return t.polyMouseUp.emit(e)}},{name:"rightclick",handler:function(e){return t.polyRightClick.emit(e)}}].forEach(function(e){var n=t._polygonManager.createEventObservable(e.name,t).subscribe(e.handler);t._subscriptions.push(n)}),this._polygonManager.createPathEventObservable(this).then(function(e){var n=e.subscribe(function(e){return t.polyPathsChange.emit(e)});t._subscriptions.push(n)})},t.prototype._updatePolygonOptions=function(t){return Object.keys(t).filter(function(t){return-1!==e._polygonOptionsAttributes.indexOf(t)}).reduce(function(e,n){return e[n]=t[n].currentValue,e},{})},t.prototype.id=function(){return this._id},t.prototype.ngOnDestroy=function(){this._polygonManager.deletePolygon(this),this._subscriptions.forEach(function(t){return t.unsubscribe()})},t.prototype.getPath=function(){return this._polygonManager.getPath(this)},t.prototype.getPaths=function(){return this._polygonManager.getPaths(this)},t._polygonOptionsAttributes=["clickable","draggable","editable","fillColor","fillOpacity","geodesic","icon","map","paths","strokeColor","strokeOpacity","strokeWeight","visible","zIndex","draggable","editable","visible"],mI([lo(),yI("design:type",Boolean)],t.prototype,"clickable",void 0),mI([lo("polyDraggable"),yI("design:type",Boolean)],t.prototype,"draggable",void 0),mI([lo(),yI("design:type",Boolean)],t.prototype,"editable",void 0),mI([lo(),yI("design:type",String)],t.prototype,"fillColor",void 0),mI([lo(),yI("design:type",Number)],t.prototype,"fillOpacity",void 0),mI([lo(),yI("design:type",Boolean)],t.prototype,"geodesic",void 0),mI([lo(),yI("design:type",Array)],t.prototype,"paths",void 0),mI([lo(),yI("design:type",String)],t.prototype,"strokeColor",void 0),mI([lo(),yI("design:type",Number)],t.prototype,"strokeOpacity",void 0),mI([lo(),yI("design:type",Number)],t.prototype,"strokeWeight",void 0),mI([lo(),yI("design:type",Boolean)],t.prototype,"visible",void 0),mI([lo(),yI("design:type",Number)],t.prototype,"zIndex",void 0),mI([uo(),yI("design:type",ro)],t.prototype,"polyClick",void 0),mI([uo(),yI("design:type",ro)],t.prototype,"polyDblClick",void 0),mI([uo(),yI("design:type",ro)],t.prototype,"polyDrag",void 0),mI([uo(),yI("design:type",ro)],t.prototype,"polyDragEnd",void 0),mI([uo(),yI("design:type",ro)],t.prototype,"polyDragStart",void 0),mI([uo(),yI("design:type",ro)],t.prototype,"polyMouseDown",void 0),mI([uo(),yI("design:type",ro)],t.prototype,"polyMouseMove",void 0),mI([uo(),yI("design:type",ro)],t.prototype,"polyMouseOut",void 0),mI([uo(),yI("design:type",ro)],t.prototype,"polyMouseOver",void 0),mI([uo(),yI("design:type",ro)],t.prototype,"polyMouseUp",void 0),mI([uo(),yI("design:type",ro)],t.prototype,"polyRightClick",void 0),mI([uo(),yI("design:type",Object)],t.prototype,"polyPathsChange",void 0),e=mI([so({selector:"agm-polygon"}),yI("design:paramtypes",[Cm])],t)}(),bI=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},_I=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},wI=function(){function t(){this.positionChanged=new ro}return t.prototype.ngOnChanges=function(t){(t.latitude||t.longitude)&&this.positionChanged.emit({lat:t.latitude?t.latitude.currentValue:this.latitude,lng:t.longitude?t.longitude.currentValue:this.longitude})},bI([lo(),_I("design:type",Number)],t.prototype,"latitude",void 0),bI([lo(),_I("design:type",Number)],t.prototype,"longitude",void 0),bI([uo(),_I("design:type",ro)],t.prototype,"positionChanged",void 0),bI([so({selector:"agm-polyline-point"}),_I("design:paramtypes",[])],t)}(),CI=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},SI=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},EI=function(){function t(){}return t.prototype.ngOnInit=function(){if(null==this.path)throw new Error("Icon Sequence path is required")},CI([lo(),SI("design:type",Boolean)],t.prototype,"fixedRotation",void 0),CI([lo(),SI("design:type",String)],t.prototype,"offset",void 0),CI([lo(),SI("design:type",String)],t.prototype,"repeat",void 0),CI([lo(),SI("design:type",Number)],t.prototype,"anchorX",void 0),CI([lo(),SI("design:type",Number)],t.prototype,"anchorY",void 0),CI([lo(),SI("design:type",String)],t.prototype,"fillColor",void 0),CI([lo(),SI("design:type",Number)],t.prototype,"fillOpacity",void 0),CI([lo(),SI("design:type",String)],t.prototype,"path",void 0),CI([lo(),SI("design:type",Number)],t.prototype,"rotation",void 0),CI([lo(),SI("design:type",Number)],t.prototype,"scale",void 0),CI([lo(),SI("design:type",String)],t.prototype,"strokeColor",void 0),CI([lo(),SI("design:type",Number)],t.prototype,"strokeOpacity",void 0),CI([lo(),SI("design:type",Number)],t.prototype,"strokeWeight",void 0),CI([so({selector:"agm-polyline agm-icon-sequence"})],t)}(),TI=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},II=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},kI=0,xI=function(){function t(t){this._polylineManager=t,this.clickable=!0,this.draggable=!1,this.editable=!1,this.geodesic=!1,this.visible=!0,this.lineClick=new ro,this.lineDblClick=new ro,this.lineDrag=new ro,this.lineDragEnd=new ro,this.lineDragStart=new ro,this.lineMouseDown=new ro,this.lineMouseMove=new ro,this.lineMouseOut=new ro,this.lineMouseOver=new ro,this.lineMouseUp=new ro,this.lineRightClick=new ro,this.polyPathChange=new ro,this._polylineAddedToManager=!1,this._subscriptions=[],this._id=(kI++).toString()}var e;return e=t,t.prototype.ngAfterContentInit=function(){var t=this;this.points.length&&this.points.forEach(function(e){var n=e.positionChanged.subscribe(function(){t._polylineManager.updatePolylinePoints(t)});t._subscriptions.push(n)}),this._polylineAddedToManager||this._init();var e=this.points.changes.subscribe(function(){return t._polylineManager.updatePolylinePoints(t)});this._subscriptions.push(e),this._polylineManager.updatePolylinePoints(this);var n=this.iconSequences.changes.subscribe(function(){return t._polylineManager.updateIconSequences(t)});this._subscriptions.push(n)},t.prototype.ngOnChanges=function(t){if(this._polylineAddedToManager){var n={};Object.keys(t).filter(function(t){return-1!==e._polylineOptionsAttributes.indexOf(t)}).forEach(function(e){return n[e]=t[e].currentValue}),this._polylineManager.setPolylineOptions(this,n)}else this._init()},t.prototype.getPath=function(){return this._polylineManager.getPath(this)},t.prototype._init=function(){this._polylineManager.addPolyline(this),this._polylineAddedToManager=!0,this._addEventListeners()},t.prototype._addEventListeners=function(){var t=this;[{name:"click",handler:function(e){return t.lineClick.emit(e)}},{name:"dblclick",handler:function(e){return t.lineDblClick.emit(e)}},{name:"drag",handler:function(e){return t.lineDrag.emit(e)}},{name:"dragend",handler:function(e){return t.lineDragEnd.emit(e)}},{name:"dragstart",handler:function(e){return t.lineDragStart.emit(e)}},{name:"mousedown",handler:function(e){return t.lineMouseDown.emit(e)}},{name:"mousemove",handler:function(e){return t.lineMouseMove.emit(e)}},{name:"mouseout",handler:function(e){return t.lineMouseOut.emit(e)}},{name:"mouseover",handler:function(e){return t.lineMouseOver.emit(e)}},{name:"mouseup",handler:function(e){return t.lineMouseUp.emit(e)}},{name:"rightclick",handler:function(e){return t.lineRightClick.emit(e)}}].forEach(function(e){var n=t._polylineManager.createEventObservable(e.name,t).subscribe(e.handler);t._subscriptions.push(n)}),this._polylineManager.createPathEventObservable(this).then(function(e){var n=e.subscribe(function(e){return t.polyPathChange.emit(e)});t._subscriptions.push(n)})},t.prototype._getPoints=function(){return this.points?this.points.toArray():[]},t.prototype._getIcons=function(){return this.iconSequences?this.iconSequences.toArray():[]},t.prototype.id=function(){return this._id},t.prototype.ngOnDestroy=function(){this._polylineManager.deletePolyline(this),this._subscriptions.forEach(function(t){return t.unsubscribe()})},t._polylineOptionsAttributes=["draggable","editable","visible","geodesic","strokeColor","strokeOpacity","strokeWeight","zIndex"],TI([lo(),II("design:type",Boolean)],t.prototype,"clickable",void 0),TI([lo("polylineDraggable"),II("design:type",Boolean)],t.prototype,"draggable",void 0),TI([lo(),II("design:type",Boolean)],t.prototype,"editable",void 0),TI([lo(),II("design:type",Boolean)],t.prototype,"geodesic",void 0),TI([lo(),II("design:type",String)],t.prototype,"strokeColor",void 0),TI([lo(),II("design:type",Number)],t.prototype,"strokeOpacity",void 0),TI([lo(),II("design:type",Number)],t.prototype,"strokeWeight",void 0),TI([lo(),II("design:type",Boolean)],t.prototype,"visible",void 0),TI([lo(),II("design:type",Number)],t.prototype,"zIndex",void 0),TI([uo(),II("design:type",ro)],t.prototype,"lineClick",void 0),TI([uo(),II("design:type",ro)],t.prototype,"lineDblClick",void 0),TI([uo(),II("design:type",ro)],t.prototype,"lineDrag",void 0),TI([uo(),II("design:type",ro)],t.prototype,"lineDragEnd",void 0),TI([uo(),II("design:type",ro)],t.prototype,"lineDragStart",void 0),TI([uo(),II("design:type",ro)],t.prototype,"lineMouseDown",void 0),TI([uo(),II("design:type",ro)],t.prototype,"lineMouseMove",void 0),TI([uo(),II("design:type",ro)],t.prototype,"lineMouseOut",void 0),TI([uo(),II("design:type",ro)],t.prototype,"lineMouseOver",void 0),TI([uo(),II("design:type",ro)],t.prototype,"lineMouseUp",void 0),TI([uo(),II("design:type",ro)],t.prototype,"lineRightClick",void 0),TI([uo(),II("design:type",Object)],t.prototype,"polyPathChange",void 0),TI([hn(wI),II("design:type",oo)],t.prototype,"points",void 0),TI([hn(EI),II("design:type",oo)],t.prototype,"iconSequences",void 0),e=TI([so({selector:"agm-polyline"}),II("design:paramtypes",[ym])],t)}(),OI=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},AI=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},PI=0,NI=function(){function t(t){this._manager=t,this._addedToManager=!1,this._id=(PI++).toString(),this._subscriptions=[],this.clickable=!0,this.preserveViewport=!1,this.screenOverlays=!0,this.suppressInfoWindows=!1,this.url=null,this.zIndex=null,this.layerClick=new ro,this.defaultViewportChange=new ro,this.statusChange=new ro}var e;return e=t,t.prototype.ngOnInit=function(){this._addedToManager||(this._manager.addKmlLayer(this),this._addedToManager=!0,this._addEventListeners())},t.prototype.ngOnChanges=function(t){this._addedToManager&&this._updatePolygonOptions(t)},t.prototype._updatePolygonOptions=function(t){var n=Object.keys(t).filter(function(t){return-1!==e._kmlLayerOptions.indexOf(t)}).reduce(function(e,n){return e[n]=t[n].currentValue,e},{});Object.keys(n).length>0&&this._manager.setOptions(this,n)},t.prototype._addEventListeners=function(){var t=this;[{name:"click",handler:function(e){return t.layerClick.emit(e)}},{name:"defaultviewport_changed",handler:function(){return t.defaultViewportChange.emit()}},{name:"status_changed",handler:function(){return t.statusChange.emit()}}].forEach(function(e){var n=t._manager.createEventObservable(e.name,t).subscribe(e.handler);t._subscriptions.push(n)})},t.prototype.id=function(){return this._id},t.prototype.toString=function(){return"AgmKmlLayer-"+this._id.toString()},t.prototype.ngOnDestroy=function(){this._manager.deleteKmlLayer(this),this._subscriptions.forEach(function(t){return t.unsubscribe()})},t._kmlLayerOptions=["clickable","preserveViewport","screenOverlays","suppressInfoWindows","url","zIndex"],OI([lo(),AI("design:type",Boolean)],t.prototype,"clickable",void 0),OI([lo(),AI("design:type",Boolean)],t.prototype,"preserveViewport",void 0),OI([lo(),AI("design:type",Boolean)],t.prototype,"screenOverlays",void 0),OI([lo(),AI("design:type",Boolean)],t.prototype,"suppressInfoWindows",void 0),OI([lo(),AI("design:type",String)],t.prototype,"url",void 0),OI([lo(),AI("design:type",Number)],t.prototype,"zIndex",void 0),OI([uo(),AI("design:type",ro)],t.prototype,"layerClick",void 0),OI([uo(),AI("design:type",ro)],t.prototype,"defaultViewportChange",void 0),OI([uo(),AI("design:type",ro)],t.prototype,"statusChange",void 0),e=OI([so({selector:"agm-kml-layer"}),AI("design:paramtypes",[Em])],t)}(),DI=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},RI=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},MI=0,LI=function(){function t(t){this._manager=t,this._addedToManager=!1,this._id=(MI++).toString(),this._subscriptions=[],this.layerClick=new ro,this.geoJson=null}var e;return e=t,t.prototype.ngOnInit=function(){this._addedToManager||(this._manager.addDataLayer(this),this._addedToManager=!0,this._addEventListeners())},t.prototype._addEventListeners=function(){var t=this;[{name:"click",handler:function(e){return t.layerClick.emit(e)}}].forEach(function(e){var n=t._manager.createEventObservable(e.name,t).subscribe(e.handler);t._subscriptions.push(n)})},t.prototype.id=function(){return this._id},t.prototype.toString=function(){return"AgmDataLayer-"+this._id.toString()},t.prototype.ngOnDestroy=function(){this._manager.deleteDataLayer(this),this._subscriptions.forEach(function(t){return t.unsubscribe()})},t.prototype.ngOnChanges=function(t){var n=this;if(this._addedToManager){var r=t.geoJson;r&&this._manager.updateGeoJson(this,r.currentValue);var i={};e._dataOptionsAttributes.forEach(function(e){return i[e]=t.hasOwnProperty(e)?t[e].currentValue:n[e]}),this._manager.setDataOptions(this,i)}},t._dataOptionsAttributes=["style"],DI([uo(),RI("design:type",ro)],t.prototype,"layerClick",void 0),DI([lo(),RI("design:type",Object)],t.prototype,"geoJson",void 0),DI([lo(),RI("design:type",Function)],t.prototype,"style",void 0),e=DI([so({selector:"agm-data-layer"}),RI("design:paramtypes",[Im])],t)}(),VI=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},FI=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},jI=function(){function t(t,e){this._fitBoundsAccessor=t,this._fitBoundsService=e,this.agmFitBounds=!0,this._destroyed$=new T,this._latestFitBoundsDetails=null}return t.prototype.ngOnChanges=function(t){this._updateBounds()},t.prototype.ngOnInit=function(){var t=this;this._fitBoundsAccessor.getFitBoundsDetails$().pipe(dC(function(t,e){return t.latLng.lat===e.latLng.lat&&t.latLng.lng===e.latLng.lng}),lC(this._destroyed$)).subscribe(function(e){return t._updateBounds(e)})},t.prototype._updateBounds=function(t){t&&(this._latestFitBoundsDetails=t),this._latestFitBoundsDetails&&(this.agmFitBounds?this._fitBoundsService.addToBounds(this._latestFitBoundsDetails.latLng):this._fitBoundsService.removeFromBounds(this._latestFitBoundsDetails.latLng))},t.prototype.ngOnDestroy=function(){this._destroyed$.next(),this._destroyed$.complete(),null!==this._latestFitBoundsDetails&&this._fitBoundsService.removeFromBounds(this._latestFitBoundsDetails.latLng)},VI([lo(),FI("design:type",Boolean)],t.prototype,"agmFitBounds",void 0),VI([so({selector:"[agmFitBounds]"}),(0,e=dt(),function(t,n){e(t,n,0)}),FI("design:paramtypes",[Vm,Fm])],t);var e}(),UI=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s},BI=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},qI=0,zI=function(){function t(t){this._manager=t,this._addedToManager=!1,this._id=(qI++).toString(),this.visible=!0}var e;return e=t,t.prototype.ngOnInit=function(){this._addedToManager||(this._manager.addTransitLayer(this,{visible:this.visible}),this._addedToManager=!0)},t.prototype.ngOnChanges=function(t){this._addedToManager&&this._updateTransitLayerOptions(t)},t.prototype._updateTransitLayerOptions=function(t){var n=Object.keys(t).filter(function(t){return-1!==e._transitLayerOptions.indexOf(t)}).reduce(function(e,n){return e[n]=t[n].currentValue,e},{});Object.keys(n).length>0&&this._manager.setOptions(this,n)},t.prototype.id=function(){return this._id},t.prototype.toString=function(){return"AgmTransitLayer-"+this._id.toString()},t.prototype.ngOnDestroy=function(){this._manager.deleteTransitLayer(this)},t._transitLayerOptions=["visible"],UI([lo(),BI("design:type",Boolean)],t.prototype,"visible",void 0),e=UI([so({selector:"agm-transit-layer"}),BI("design:paramtypes",[xm])],t)}();function WI(){return[Bm,Jm,Gm,dI,gI,vI,xI,wI,NI,LI,jI,EI,zI]}var HI=function(){function t(){}var e;return e=t,t.forRoot=function(t){return{ngModule:e,providers:KT.concat([{provide:tm,useClass:JT},{provide:YT,useValue:t}])}},e=function(t,e,n,r){var i,o=arguments.length,s=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(o<3?i(s):o>3?i(e,n,s):i(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}([po({declarations:WI(),exports:WI()})],t)}(),KI=Ya(Xa,[Za],function(t){return function(t){const e={},n=[];let r=!1;for(let i=0;i<t.length;i++){const o=t[i];o.token===Je&&!0===o.value&&(r=!0),1073741824&o.flags&&n.push(o.token),o.index=i,e[vr(o.token)]=o}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}([ei(512,kn,xn,[[8,[Wp,Ff,zf,Zg,ny,ay,dy,xy,My,Uy,Hy,Zy,iv,_S,gS,AS,WS,sE,VE,qE,GE,XE,nT]],[3,kn],Ht]),ei(5120,Eo,Ts,[[3,Eo]]),ei(4608,hl,dl,[Eo,[2,cl]]),ei(5120,$i,Is,[Bo]),ei(5120,yo,vo,[]),ei(5120,Yn,Ss,[]),ei(5120,Jn,Es,[]),ei(4608,Vc,Fc,[Dl]),ei(6144,Ae,null,[Vc]),ei(4608,Ac,Nc,[]),ei(5120,Xu,function(t,e,n,r,i,o,s,a){return[new xc(t,e,n),new Lc(r),new Dc(i,o,s,a)]},[Dl,Bo,wo,Dl,Dl,Ac,So,[2,Pc]]),ei(4608,Zu,Zu,[Xu,Bo]),ei(135680,nc,nc,[Dl]),ei(4608,uc,uc,[Zu,nc,yo]),ei(5120,Tb,Ww,[]),ei(5120,I_,Hw,[]),ei(4608,lw,zw,[Dl,Tb,I_]),ei(5120,Rn,Kw,[uc,lw,Bo]),ei(6144,ec,null,[nc]),ei(4608,Qo,Qo,[Bo]),ei(4608,cg,cg,[]),ei(5120,nd,Lp,[pp]),ei(4608,Sp,Sp,[]),ei(6144,wp,null,[Sp]),ei(135680,Ep,Ep,[pp,us,Po,Ze,wp]),ei(4608,Cp,Cp,[]),ei(5120,Tp,Pp,[pp,Vl,Ip]),ei(5120,Up,jp,[Vp]),ei(5120,Co,function(t){return[t]},[Up]),ei(4608,rT,rT,[]),ei(4608,uT,cT,[]),ei(5120,hT,RT,[]),ei(4608,CT,CT,[rT,uT,hT]),ei(4608,ST,ET,[]),ei(5120,DT,MT,[CT,ST]),ei(5120,ff,gf,[df,[2,pf]]),ei(4608,Ef,Ef,[df,[2,pf],wo,Bo]),ei(4608,Sf,Sf,[df,[2,pf],[2,yf],[2,bf],wo,Bo,[2,vf]]),ei(4608,GC,GC,[AC,VC,kn,HC,LC,Ze,Bo,Dl,Qv,[2,il]]),ei(5120,QC,$C,[GC]),ei(4608,Yv,Rw,[Rn,Dl]),ei(4608,WT,WT,[]),ei(4608,HT,HT,[]),ei(4608,tm,JT,[[2,YT],WT,HT]),ei(4608,Cy,Cy,[DT]),ei(4608,Sy,Sy,[Cy]),ei(4608,Oy,Oy,[Cy]),ei(4608,XT,XT,[Cy]),ei(4608,ZT,ZT,[XT]),ei(4608,Tf,Tf,[Sf,Ef,pp,Bo]),ei(4608,Nf,Nf,[Sf,Tf]),ei(1073742336,Nl,Nl,[]),ei(1024,ie,Kc,[]),ei(1024,ns,function(){return[Op()]},[]),ei(512,Vp,Vp,[Ze]),ei(1024,go,function(t,e){return[(n=t,$u("probe",Ju),$u("coreTokens",Object.assign({},Yu,(n||[]).reduce((t,e)=>(t[e.name]=e.token,t),{}))),()=>Ju),Fp(e)];var n},[[2,ns],Vp]),ei(512,mo,mo,[[2,go]]),ei(131584,as,as,[Bo,So,Ze,ie,kn,mo]),ei(1073742336,ks,ks,[as]),ei(1073742336,Gc,Gc,[[3,Gc]]),ei(1073742336,Ug,Ug,[]),ei(1073742336,Bg,Bg,[]),ei(1024,kp,Dp,[[3,pp]]),ei(512,Rh,Mh,[]),ei(512,vp,vp,[]),ei(256,Ip,{},[]),ei(1024,nl,Np,[tl,[2,rl],Ip]),ei(512,il,il,[nl,tl]),ei(512,Po,Po,[]),ei(512,us,fs,[Po,[2,ds]]),ei(1024,sp,function(){return[[{path:"Jugadores",component:Df,data:tI},{path:"",component:jf},{path:"Login",component:Gg,data:eI},{path:"Mapa",component:Xm,data:nI},{path:"QuienSoy",component:ry,data:rI},{path:"Registro",component:ly,data:iI},{path:"Principal",component:jf,data:oI},{path:"Listado",component:Ey,data:sI},{path:"Paises",component:Ay},{path:"Juegos",component:Ly,data:aI,children:[{path:"",component:By},{path:"Adivina",component:Ky},{path:"AdivinaMasListado",component:tv},{path:"AgilidadaMasListado",component:mS},{path:"Agilidad",component:Xw},{path:"Anagrama",component:wS},{path:"Tateti",component:PS},{path:"Ppt",component:HS},{path:"Simon",component:DE}]},{path:"**",component:FE},{path:"error",component:FE}]]},[]),ei(1024,pp,Mp,[as,Rh,vp,il,Ze,us,Po,sp,Ip,[2,lp],[2,ip]]),ei(1073742336,Ap,Ap,[[2,kp],[2,pp]]),ei(1073742336,lI,lI,[]),ei(1073742336,LT,LT,[]),ei(1073742336,mf,mf,[]),ei(1073742336,jT,jT,[]),ei(1073742336,BT,BT,[]),ei(1073742336,$v,$v,[]),ei(1073742336,kv,kv,[[2,Iv],[2,Pc]]),ei(1073742336,pv,pv,[]),ei(1073742336,Uv,Uv,[]),ei(1073742336,Kv,Kv,[]),ei(1073742336,sC,sC,[]),ei(1073742336,_C,_C,[]),ei(1073742336,YC,YC,[]),ei(1073742336,uS,uS,[]),ei(1073742336,uI,uI,[]),ei(1073742336,HI,HI,[]),ei(1073742336,Qw,Qw,[]),ei(1073742336,Xa,Xa,[]),ei(256,Je,!0,[]),ei(256,df,{apiKey:"AIzaSyByZWguTP_-JCZ6rN2iNxDSHXRX6qFpIfA",authDomain:"tpsaladejuegos-b2a2e.firebaseapp.com",databaseURL:"https://tpsaladejuegos-b2a2e.firebaseio.com",projectId:"tpsaladejuegos-b2a2e",storageBucket:"",messagingSenderId:"74362303808",appId:"1:74362303808:web:15e3859a73c5f69b0536a5"},[]),ei(256,pf,void 0,[]),ei(256,Gw,"BrowserAnimations",[]),ei(256,YT,{apiKey:"AIzaSyB6f8x4IjRlesQ3oETc6BXYQHVRTOlY3Ys"},[])])});(function(){if(se)throw new Error("Cannot enable prod mode after platform setup.");oe=!1})(),Hc().bootstrapModuleFactory(KI)},zVF4:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("mrSG"),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw s(e)},s=function(t){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},a=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=(15&a)<<2|u>>6,h=63&u;l||(h=64,s||(c=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[c],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(a(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,l=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==l)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==l&&r.push(a<<6&192|l))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},u=function(t){try{return l.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function c(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=c(t[n],e[n]));return t}var h=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function d(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}var p="FirebaseError",f=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name=p,Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,g.prototype.create),i}return r.__extends(e,t),e}(Error),g=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?m(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",l=new f(i,a),u=0,c=Object.keys(r);u<c.length;u++){var h=c[u];"_"!==h.slice(-1)&&(h in l&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),l[h]=r[h])}return l},t}();function m(t,e){return t.replace(y,function(t,n){var r=e[n];return null!=r?r.toString():"<"+n+"?>"})}var y=/\{\$([^}]+)}/g;function v(t){return JSON.parse(t)}var b=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=v(u(o[0])||""),n=v(u(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(s){}return{header:e,claims:n,data:r,signature:i}},_=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++)n[r]=4294967295&((h=n[r-3]^n[r-8]^n[r-14]^n[r-16])<<1|h>>>31);var i,o,s=this.chain_[0],a=this.chain_[1],l=this.chain_[2],u=this.chain_[3],c=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(i=u^a&(l^u),o=1518500249):(i=a^l^u,o=1859775393):r<60?(i=a&l|u&(a|l),o=2400959708):(i=a^l^u,o=3395469782);var h=(s<<5|s>>>27)+i+c+o+n[r]&4294967295;c=u,u=l,l=4294967295&(a<<30|a>>>2),a=s,s=h}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+u&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}(),w=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function C(){}function S(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return t+" failed: "+r+" argument "}e.CONSTANTS=i,e.Deferred=h,e.ErrorFactory=g,e.FirebaseError=f,e.Sha1=_,e.assert=o,e.assertionError=s,e.async=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}},e.base64=l,e.base64Decode=u,e.base64Encode=function(t){var e=a(t);return l.encodeByteArray(e,!0)},e.contains=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.createSubscribe=function(t,e){var n=new w(t,e);return n.subscribe.bind(n)},e.decode=b,e.deepCopy=function(t){return c(void 0,t)},e.deepExtend=c,e.errorPrefix=S,e.getUA=d,e.isAdmin=function(t){var e=b(t).claims;return"object"==typeof e&&!0===e.admin},e.isBrowser=function(){return"object"==typeof self&&self.self===self},e.isEmpty=function(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0},e.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(d())},e.isNode=function(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}},e.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},e.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},e.isValidFormat=function(t){var e=b(t).claims;return!!e&&"object"==typeof e&&e.hasOwnProperty("iat")},e.isValidTimestamp=function(t){var e=b(t).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof e&&(e.hasOwnProperty("nbf")?r=e.nbf:e.hasOwnProperty("iat")&&(r=e.iat),i=e.hasOwnProperty("exp")?e.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},e.issuedAtTime=function(t){var e=b(t).claims;return"object"==typeof e&&e.hasOwnProperty("iat")?e.iat:null},e.jsonEval=v,e.map=function(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r},e.querystring=function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""},e.querystringDecode=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},e.safeGet=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0},e.stringLength=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},e.stringToByteArray=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var s=i-55296;o(++r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},e.stringify=function(t){return JSON.stringify(t)},e.validateArgCount=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},e.validateCallback=function(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(S(t,e,r)+"must be a valid function.")},e.validateContextObject=function(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(S(t,e,r)+"must be a valid context object.")},e.validateNamespace=function(t,e,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(S(t,e,r)+"must be a valid firebase namespace.")}}},[[0,0]]]);